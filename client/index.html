<!DOCTYPE html>
<!-- Created with https://packager.turbowarp.org/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>Dimulo 0.9.0</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #ff4c4c26;
    }
    .control-button.active {
      background: #ff4c4c59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: url(data:image/png;base64,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8s+lyb93sqtq3759dHV1MTY2pkJVhr74xS/yute9znYMERER573mNa/hf//v/207RuD4HVZbtmzh0KFDtuNk28WOA5ZjNp2LgALNrhK5dFSsEskBz/PyMEPV0x92FZiH3UJMx5VzD7ujR4+yceNGRkZGSCR0aUomli5dyte//nXbMURERGaM2267jZUrV9qOETixWIwjR46wYcMGF298zgfmYmZV+SM8SknbbFbBSuTSULFKJMuSD7D0NuIyUg+6xZgHoHNtxJFIhI0bN1JXV0ckElFXVYbuvvtulixZYjuGiIjIjLFw4ULWrl1rO0bgJBIJzpw5w/79+6mtrbUdJ9vSx3isILWOd3qMh8h0pOmCItmXPlR9Fea8eznmgbcAB7uqurq6+P73v88Pf/hDWlpaXJthkHObN2/mfe97n+0YIiIiM86nP/1prrzySt75znfajhIonZ2d7N69m4ULFzJ//nyuvfZa25GyafJavgLoxgxdHwWinudFNWxdJLfUWSWSRWlD1RdgilP+8b9VmN2Y2ThWqAKoqqqiqqqKc+fOudgOnnMqVImIiNjzjne8w3aEwInH4wwPD9Pc3ExNTY3tONn2YqckVmEKWHPQe7RIzulDJpJd/jn3pZhh6n5X1TLMA8/JoerPPfccx44dY3h4WLOqMqSbiEREROybP3++7QiB4nkekUiE9vZ29u7d6+L6L4TZZC7mwmHrK0jOn9XsKpHcUrFKJEuSQ9X9G0RKuHCoelHy35z7zI2NjXH06FH6+vpcXKjk3K233mo7goiIyIz31a9+1XaEwInH4wwMDHDy5ElGR0dtx8m2EGYTej5m09m/2dufQTsHB2fQikwnzr04i9iQ3FlJf6CVYbqqSoElODpUfWBggH/8x3/k4MGDDA4OqliVoYDstkAAACAASURBVO9973s88MADtmOIiIjMeHfccQc/+clPbMcIFM/zGBoaoqmpiXXr1tHX12c7UrblYcZ7+BvR5Zg1vrqrRC4BFatEsuNlW4Vx7Pif53kcPHiQhoYGIpGIClUZestb3sInPvEJ2zFEREQk6frrr+c973mP7RiBkkgkGB8fZ9++fWzbts3F26DzMV1UizEzq8pxfDNaZLpQsUrkVZo0VH055iGWPoRxNg5+1lpbW9m+fTvHjx9XoSpDoVCIyspK8vKc+7UQEREJLD2fpyYej3Pi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JEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJGkq/x88FqFX7WUV1AAAAABJRU5ErkJgggAAoQsYAAAAUGhvdG9FZGl0b3JfUmVfRWRpdF9EYXRheyJvcmlnaW5hbFBhdGgiOiJcL2RhdGFcL3NlY1wvcGhvdG9lZGl0b3JcLzBcLzM2OWUxOGI4ZGJkZjdkNGNjNTE0NjY1ZmRkZjQ3NjU5MzIyZmRhMmVkMGUxNjg2YmRmMjcwMTY5NDk1ZWVjNzJfNzc4NTYucG5nIiwiaXNCbGVuZGluZyI6ZmFsc2UsImlzTm90UmVFZGl0Ijp0cnVlLCJzZXBWZXJzaW9uIjoiMTQwMTAwIiwibmRlVmVyc2lvbiI6MSwicmVTaXplIjo0LCJyb3RhdGlvbiI6MSwiaXNBcHBseVNoYXBlQ29ycmVjdGlvbiI6ZmFsc2UsImlzTmV3UmVFZGl0T25seSI6ZmFsc2V9AAChCxYAAABPcmlnaW5hbF9QYXRoX0hhc2hfS2V5NmFhMTExMDc5YjdmMzNmNDM1OTMyNWQwZGRlYjk1ZjdmYjcwNmM1MmI4NjdhYmU5ZGU4MWMyM2I3NGUwYTNhZi83Nzg1NlNFRkhrAAAAAgAAAAAAoQuYAQAANAEAAAAAoQtkAAAAZAAAACQAAABTRUZU) 598 541, auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#4cbf56;stroke:#45993d;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "dynamic-resize";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#ff4c4c");

      scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@Dimulo 0.9.0.sb3"));

      if (document.fullscreenEnabled || document.webkitFullscreenEnabled) {
        let isFullScreen = !!(document.fullscreenElement || document.webkitFullscreenElement);
        const fullscreenButton = document.createElement('img');
        fullscreenButton.draggable = false;
        fullscreenButton.className = 'control-button fullscreen-button';
        fullscreenButton.addEventListener('click', () => {
          if (isFullScreen) {
            if (document.exitFullscreen) {
              document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
              document.webkitExitFullscreen();
            }
          } else {
            if (document.body.requestFullscreen) {
              document.body.requestFullscreen();
            } else if (document.body.webkitRequestFullscreen) {
              document.body.webkitRequestFullscreen();
            }
          }
        });
        const otherControlsExist = false;
        const fillColor = otherControlsExist ? '#575E75' : '#ffffff';
        const updateFullScreen = () => {
          isFullScreen = !!(document.fullscreenElement || document.webkitFullscreenElement);
          document.body.classList.toggle('is-fullscreen', isFullScreen);
          if (isFullScreen) {
            fullscreenButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="' + fillColor + '" fill-rule="evenodd"><path d="M12.662 3.65l.89.891 3.133-2.374a.815.815 0 011.15.165.819.819 0 010 .986L15.467 6.46l.867.871c.25.25.072.664-.269.664L12.388 8A.397.397 0 0112 7.611V3.92c0-.341.418-.514.662-.27M7.338 16.35l-.89-.89-3.133 2.374a.817.817 0 01-1.15-.166.819.819 0 010-.985l2.37-3.143-.87-.871a.387.387 0 01.27-.664L7.612 12a.397.397 0 01.388.389v3.692a.387.387 0 01-.662.27M7.338 3.65l-.89.891-3.133-2.374a.815.815 0 00-1.15.165.819.819 0 000 .986l2.37 3.142-.87.871a.387.387 0 00.27.664L7.612 8A.397.397 0 008 7.611V3.92a.387.387 0 00-.662-.27M12.662 16.35l.89-.89 3.133 2.374a.817.817 0 001.15-.166.819.819 0 000-.985l-2.368-3.143.867-.871a.387.387 0 00-.269-.664L12.388 12a.397.397 0 00-.388.389v3.692c0 .342.418.514.662.27"/></g></svg>');
          } else {
            fullscreenButton.src = 'data:image/svg+xml,' + encodeURIComponent('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="' + fillColor + '" fill-rule="evenodd"><path d="M16.338 7.35l-.89-.891-3.133 2.374a.815.815 0 01-1.15-.165.819.819 0 010-.986l2.368-3.142-.867-.871a.387.387 0 01.269-.664L16.612 3a.397.397 0 01.388.389V7.08a.387.387 0 01-.662.27M3.662 12.65l.89.89 3.133-2.374a.817.817 0 011.15.166.819.819 0 010 .985l-2.37 3.143.87.871c.248.25.071.664-.27.664L3.388 17A.397.397 0 013 16.611V12.92c0-.342.418-.514.662-.27M3.662 7.35l.89-.891 3.133 2.374a.815.815 0 001.15-.165.819.819 0 000-.986L6.465 4.54l.87-.871a.387.387 0 00-.27-.664L3.388 3A.397.397 0 003 3.389V7.08c0 .341.418.514.662.27M16.338 12.65l-.89.89-3.133-2.374a.817.817 0 00-1.15.166.819.819 0 000 .985l2.368 3.143-.867.871a.387.387 0 00.269.664l3.677.005a.397.397 0 00.388-.389V12.92a.387.387 0 00-.662-.27"/></g></svg>');
          }
        };
        updateFullScreen();
        document.addEventListener('fullscreenchange', updateFullScreen);
        document.addEventListener('webkitfullscreenchange', updateFullScreen);
        if (otherControlsExist) {
          fullscreenButton.className = 'control-button fullscreen-button';
          scaffolding.addControlButton({
            element: fullscreenButton,
            where: 'top-right'
          });
        } else {
          fullscreenButton.className = 'standalone-fullscreen-button';
          document.body.appendChild(fullscreenButton);
        }
      }

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(true);
      if (vm.setFramerate) vm.setFramerate(30);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(false);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: false,
        miscLimits: false,
        maxClones: 9999999999,
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: 'unsandboxed',
        canLoadExtensionFromProject: (url) => {
          handleError(new Error('Missing custom extension: ' + url));
          return Promise.resolve(false);
        }
      });
      for (const extension of ["data:text/javascript;,(function(Scratch)%20%7B%20%2F*!%0A%20*%20This%20is%20based%20on%20https%3A%2F%2Fgithub.com%2Fgriffpatch%2Fscratch-vm%2Ftree%2Fbox2d%2Fsrc%2Fextensions%2Fscratch3_griffpatch%0A%20*%2F%0A%0A%2F*%20eslint-disable%20*%2F%0A%0A(function(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error('Box2D%20must%20be%20run%20unsandboxed')%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20First%20we%20need%20to%20load%20the%20Box2D%20physics%20library%20that%20this%20extension%20uses.%0A%20%20%2F%2F%20It's%20not%20currently%20advised%20to%20load%20more%20scripts%20in%20custom%20extensions%2C%20so%20we%20copied%20and%20pasted%0A%20%20%2F%2F%20the%20source%20code%20below.%20Yes%2C%20this%20is%20really%20ugly.%0A%0A%20%20%2F*!%0A%20%20%20%20*%20Copyright%20(c)%202006-2007%20Erin%20Catto%20http%3A%2F%2Fwww.gphysics.com%0A%20%20%20%20*%0A%20%20%20%20*%20This%20software%20is%20provided%20'as-is'%2C%20without%20any%20express%20or%20implied%0A%20%20%20%20*%20warranty.%20%20In%20no%20event%20will%20the%20authors%20be%20held%20liable%20for%20any%20damages%0A%20%20%20%20*%20arising%20from%20the%20use%20of%20this%20software.%0A%20%20%20%20*%20Permission%20is%20granted%20to%20anyone%20to%20use%20this%20software%20for%20any%20purpose%2C%0A%20%20%20%20*%20including%20commercial%20applications%2C%20and%20to%20alter%20it%20and%20redistribute%20it%0A%20%20%20%20*%20freely%2C%20subject%20to%20the%20following%20restrictions%3A%0A%20%20%20%20*%201.%20The%20origin%20of%20this%20software%20must%20not%20be%20misrepresented%3B%20you%20must%20not%0A%20%20%20%20*%20claim%20that%20you%20wrote%20the%20original%20software.%20If%20you%20use%20this%20software%0A%20%20%20%20*%20in%20a%20product%2C%20an%20acknowledgment%20in%20the%20product%20documentation%20would%20be%0A%20%20%20%20*%20appreciated%20but%20is%20not%20required.%0A%20%20%20%20*%202.%20Altered%20source%20versions%20must%20be%20plainly%20marked%20as%20such%2C%20and%20must%20not%20be%0A%20%20%20%20*%20misrepresented%20as%20being%20the%20original%20software.%0A%20%20%20%20*%203.%20This%20notice%20may%20not%20be%20removed%20or%20altered%20from%20any%20source%20distribution.%0A%20%20%20%20*%2F%0A%0A%20%20var%20Box2D%20%3D%20%7B%7D%3B%0A%20%20(function%20(a2j%2C%20undefined)%20%7B%0A%20%20%20%20function%20emptyFn()%20%7B%7D%0A%20%20%20%20a2j.inherit%20%3D%20function%20(cls%2C%20base)%20%7B%0A%20%20%20%20%20%20var%20tmpCtr%20%3D%20cls%3B%0A%20%20%20%20%20%20emptyFn.prototype%20%3D%20base.prototype%3B%0A%20%20%20%20%20%20cls.prototype%20%3D%20new%20emptyFn()%3B%0A%20%20%20%20%20%20cls.prototype.constructor%20%3D%20tmpCtr%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20a2j.generateCallback%20%3D%20function%20generateCallback(context%2C%20cb)%20%7B%0A%20%20%20%20%20%20return%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20cb.apply(context%2C%20arguments)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20a2j.NVector%20%3D%20function%20NVector(length)%20%7B%0A%20%20%20%20%20%20if%20(length%20%3D%3D%3D%20undefined)%20length%20%3D%200%3B%0A%20%20%20%20%20%20var%20tmp%20%3D%20new%20Array(length%20%7C%7C%200)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20length%3B%20%2B%2Bi)%20tmp%5Bi%5D%20%3D%200%3B%0A%20%20%20%20%20%20return%20tmp%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20a2j.is%20%3D%20function%20is(o1%2C%20o2)%20%7B%0A%20%20%20%20%20%20if%20(o1%20%3D%3D%3D%20null)%20return%20false%3B%0A%20%20%20%20%20%20if%20(o2%20instanceof%20Function%20%26%26%20o1%20instanceof%20o2)%20return%20true%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20o1.constructor.__implements%20!%3D%20undefined%20%26%26%0A%20%20%20%20%20%20%20%20o1.constructor.__implements%5Bo2%5D%0A%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20a2j.parseUInt%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20return%20Math.abs(parseInt(v))%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D)(Box2D)%3B%0A%0A%20%20%2F%2F%23TODO%20remove%20assignments%20from%20global%20namespace%0A%20%20var%20Vector%20%3D%20Array%3B%0A%20%20var%20Vector_a2j_Number%20%3D%20Box2D.NVector%3B%0A%20%20%2F%2Fpackage%20structure%0A%20%20if%20(typeof%20Box2D%20%3D%3D%3D%20%22undefined%22)%20Box2D%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Collision%20%3D%3D%3D%20%22undefined%22)%20Box2D.Collision%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Collision.Shapes%20%3D%3D%3D%20%22undefined%22)%20Box2D.Collision.Shapes%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Common%20%3D%3D%3D%20%22undefined%22)%20Box2D.Common%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Common.Math%20%3D%3D%3D%20%22undefined%22)%20Box2D.Common.Math%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Dynamics%20%3D%3D%3D%20%22undefined%22)%20Box2D.Dynamics%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Dynamics.Contacts%20%3D%3D%3D%20%22undefined%22)%0A%20%20%20%20Box2D.Dynamics.Contacts%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Dynamics.Controllers%20%3D%3D%3D%20%22undefined%22)%0A%20%20%20%20Box2D.Dynamics.Controllers%20%3D%20%7B%7D%3B%0A%20%20if%20(typeof%20Box2D.Dynamics.Joints%20%3D%3D%3D%20%22undefined%22)%20Box2D.Dynamics.Joints%20%3D%20%7B%7D%3B%0A%20%20%2F%2Fpre-definitions%0A%20%20(function%20()%20%7B%0A%20%20%20%20Box2D.Collision.IBroadPhase%20%3D%20%22Box2D.Collision.IBroadPhase%22%3B%0A%0A%20%20%20%20function%20b2AABB()%20%7B%0A%20%20%20%20%20%20b2AABB.b2AABB.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2AABB%20%3D%20b2AABB%3B%0A%0A%20%20%20%20function%20b2Bound()%20%7B%0A%20%20%20%20%20%20b2Bound.b2Bound.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Bound%20%3D%20b2Bound%3B%0A%0A%20%20%20%20function%20b2BoundValues()%20%7B%0A%20%20%20%20%20%20b2BoundValues.b2BoundValues.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2BoundValues)%0A%20%20%20%20%20%20%20%20this.b2BoundValues.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2BoundValues%20%3D%20b2BoundValues%3B%0A%0A%20%20%20%20function%20b2Collision()%20%7B%0A%20%20%20%20%20%20b2Collision.b2Collision.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Collision%20%3D%20b2Collision%3B%0A%0A%20%20%20%20function%20b2ContactID()%20%7B%0A%20%20%20%20%20%20b2ContactID.b2ContactID.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactID)%0A%20%20%20%20%20%20%20%20this.b2ContactID.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2ContactID%20%3D%20b2ContactID%3B%0A%0A%20%20%20%20function%20b2ContactPoint()%20%7B%0A%20%20%20%20%20%20b2ContactPoint.b2ContactPoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2ContactPoint%20%3D%20b2ContactPoint%3B%0A%0A%20%20%20%20function%20b2Distance()%20%7B%0A%20%20%20%20%20%20b2Distance.b2Distance.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Distance%20%3D%20b2Distance%3B%0A%0A%20%20%20%20function%20b2DistanceInput()%20%7B%0A%20%20%20%20%20%20b2DistanceInput.b2DistanceInput.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DistanceInput%20%3D%20b2DistanceInput%3B%0A%0A%20%20%20%20function%20b2DistanceOutput()%20%7B%0A%20%20%20%20%20%20b2DistanceOutput.b2DistanceOutput.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DistanceOutput%20%3D%20b2DistanceOutput%3B%0A%0A%20%20%20%20function%20b2DistanceProxy()%20%7B%0A%20%20%20%20%20%20b2DistanceProxy.b2DistanceProxy.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DistanceProxy%20%3D%20b2DistanceProxy%3B%0A%0A%20%20%20%20function%20b2DynamicTree()%20%7B%0A%20%20%20%20%20%20b2DynamicTree.b2DynamicTree.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DynamicTree)%0A%20%20%20%20%20%20%20%20this.b2DynamicTree.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DynamicTree%20%3D%20b2DynamicTree%3B%0A%0A%20%20%20%20function%20b2DynamicTreeBroadPhase()%20%7B%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase.b2DynamicTreeBroadPhase.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DynamicTreeBroadPhase%20%3D%20b2DynamicTreeBroadPhase%3B%0A%0A%20%20%20%20function%20b2DynamicTreeNode()%20%7B%0A%20%20%20%20%20%20b2DynamicTreeNode.b2DynamicTreeNode.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DynamicTreeNode%20%3D%20b2DynamicTreeNode%3B%0A%0A%20%20%20%20function%20b2DynamicTreePair()%20%7B%0A%20%20%20%20%20%20b2DynamicTreePair.b2DynamicTreePair.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2DynamicTreePair%20%3D%20b2DynamicTreePair%3B%0A%0A%20%20%20%20function%20b2Manifold()%20%7B%0A%20%20%20%20%20%20b2Manifold.b2Manifold.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Manifold)%20this.b2Manifold.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Manifold%20%3D%20b2Manifold%3B%0A%0A%20%20%20%20function%20b2ManifoldPoint()%20%7B%0A%20%20%20%20%20%20b2ManifoldPoint.b2ManifoldPoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ManifoldPoint)%0A%20%20%20%20%20%20%20%20this.b2ManifoldPoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2ManifoldPoint%20%3D%20b2ManifoldPoint%3B%0A%0A%20%20%20%20function%20b2Point()%20%7B%0A%20%20%20%20%20%20b2Point.b2Point.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Point%20%3D%20b2Point%3B%0A%0A%20%20%20%20function%20b2RayCastInput()%20%7B%0A%20%20%20%20%20%20b2RayCastInput.b2RayCastInput.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2RayCastInput)%0A%20%20%20%20%20%20%20%20this.b2RayCastInput.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2RayCastInput%20%3D%20b2RayCastInput%3B%0A%0A%20%20%20%20function%20b2RayCastOutput()%20%7B%0A%20%20%20%20%20%20b2RayCastOutput.b2RayCastOutput.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2RayCastOutput%20%3D%20b2RayCastOutput%3B%0A%0A%20%20%20%20function%20b2Segment()%20%7B%0A%20%20%20%20%20%20b2Segment.b2Segment.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Segment%20%3D%20b2Segment%3B%0A%0A%20%20%20%20function%20b2SeparationFunction()%20%7B%0A%20%20%20%20%20%20b2SeparationFunction.b2SeparationFunction.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2SeparationFunction%20%3D%20b2SeparationFunction%3B%0A%0A%20%20%20%20function%20b2Simplex()%20%7B%0A%20%20%20%20%20%20b2Simplex.b2Simplex.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Simplex)%20this.b2Simplex.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2Simplex%20%3D%20b2Simplex%3B%0A%0A%20%20%20%20function%20b2SimplexCache()%20%7B%0A%20%20%20%20%20%20b2SimplexCache.b2SimplexCache.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2SimplexCache%20%3D%20b2SimplexCache%3B%0A%0A%20%20%20%20function%20b2SimplexVertex()%20%7B%0A%20%20%20%20%20%20b2SimplexVertex.b2SimplexVertex.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2SimplexVertex%20%3D%20b2SimplexVertex%3B%0A%0A%20%20%20%20function%20b2TimeOfImpact()%20%7B%0A%20%20%20%20%20%20b2TimeOfImpact.b2TimeOfImpact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2TimeOfImpact%20%3D%20b2TimeOfImpact%3B%0A%0A%20%20%20%20function%20b2TOIInput()%20%7B%0A%20%20%20%20%20%20b2TOIInput.b2TOIInput.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2TOIInput%20%3D%20b2TOIInput%3B%0A%0A%20%20%20%20function%20b2WorldManifold()%20%7B%0A%20%20%20%20%20%20b2WorldManifold.b2WorldManifold.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2WorldManifold)%0A%20%20%20%20%20%20%20%20this.b2WorldManifold.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.b2WorldManifold%20%3D%20b2WorldManifold%3B%0A%0A%20%20%20%20function%20ClipVertex()%20%7B%0A%20%20%20%20%20%20ClipVertex.ClipVertex.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.ClipVertex%20%3D%20ClipVertex%3B%0A%0A%20%20%20%20function%20Features()%20%7B%0A%20%20%20%20%20%20Features.Features.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Features%20%3D%20Features%3B%0A%0A%20%20%20%20function%20b2CircleShape()%20%7B%0A%20%20%20%20%20%20b2CircleShape.b2CircleShape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2CircleShape)%0A%20%20%20%20%20%20%20%20this.b2CircleShape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Shapes.b2CircleShape%20%3D%20b2CircleShape%3B%0A%0A%20%20%20%20function%20b2EdgeChainDef()%20%7B%0A%20%20%20%20%20%20b2EdgeChainDef.b2EdgeChainDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2EdgeChainDef)%0A%20%20%20%20%20%20%20%20this.b2EdgeChainDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Shapes.b2EdgeChainDef%20%3D%20b2EdgeChainDef%3B%0A%0A%20%20%20%20function%20b2EdgeShape()%20%7B%0A%20%20%20%20%20%20b2EdgeShape.b2EdgeShape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2EdgeShape)%0A%20%20%20%20%20%20%20%20this.b2EdgeShape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Shapes.b2EdgeShape%20%3D%20b2EdgeShape%3B%0A%0A%20%20%20%20function%20b2MassData()%20%7B%0A%20%20%20%20%20%20b2MassData.b2MassData.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Shapes.b2MassData%20%3D%20b2MassData%3B%0A%0A%20%20%20%20function%20b2PolygonShape()%20%7B%0A%20%20%20%20%20%20b2PolygonShape.b2PolygonShape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PolygonShape)%0A%20%20%20%20%20%20%20%20this.b2PolygonShape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Shapes.b2PolygonShape%20%3D%20b2PolygonShape%3B%0A%0A%20%20%20%20function%20b2Shape()%20%7B%0A%20%20%20%20%20%20b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Shape)%20this.b2Shape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Collision.Shapes.b2Shape%20%3D%20b2Shape%3B%0A%20%20%20%20Box2D.Common.b2internal%20%3D%20%22Box2D.Common.b2internal%22%3B%0A%0A%20%20%20%20function%20b2Color()%20%7B%0A%20%20%20%20%20%20b2Color.b2Color.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Color)%20this.b2Color.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.b2Color%20%3D%20b2Color%3B%0A%0A%20%20%20%20function%20b2Settings()%20%7B%0A%20%20%20%20%20%20b2Settings.b2Settings.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.b2Settings%20%3D%20b2Settings%3B%0A%0A%20%20%20%20function%20b2Mat22()%20%7B%0A%20%20%20%20%20%20b2Mat22.b2Mat22.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Mat22)%20this.b2Mat22.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Mat22%20%3D%20b2Mat22%3B%0A%0A%20%20%20%20function%20b2Mat33()%20%7B%0A%20%20%20%20%20%20b2Mat33.b2Mat33.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Mat33)%20this.b2Mat33.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Mat33%20%3D%20b2Mat33%3B%0A%0A%20%20%20%20function%20b2Math()%20%7B%0A%20%20%20%20%20%20b2Math.b2Math.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Math%20%3D%20b2Math%3B%0A%0A%20%20%20%20function%20b2Sweep()%20%7B%0A%20%20%20%20%20%20b2Sweep.b2Sweep.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Sweep%20%3D%20b2Sweep%3B%0A%0A%20%20%20%20function%20b2Transform()%20%7B%0A%20%20%20%20%20%20b2Transform.b2Transform.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Transform)%0A%20%20%20%20%20%20%20%20this.b2Transform.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Transform%20%3D%20b2Transform%3B%0A%0A%20%20%20%20function%20b2Vec2()%20%7B%0A%20%20%20%20%20%20b2Vec2.b2Vec2.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Vec2)%20this.b2Vec2.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Vec2%20%3D%20b2Vec2%3B%0A%0A%20%20%20%20function%20b2Vec3()%20%7B%0A%20%20%20%20%20%20b2Vec3.b2Vec3.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Vec3)%20this.b2Vec3.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Common.Math.b2Vec3%20%3D%20b2Vec3%3B%0A%0A%20%20%20%20function%20b2Body()%20%7B%0A%20%20%20%20%20%20b2Body.b2Body.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Body)%20this.b2Body.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2Body%20%3D%20b2Body%3B%0A%0A%20%20%20%20function%20b2BodyDef()%20%7B%0A%20%20%20%20%20%20b2BodyDef.b2BodyDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2BodyDef)%20this.b2BodyDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2BodyDef%20%3D%20b2BodyDef%3B%0A%0A%20%20%20%20function%20b2ContactFilter()%20%7B%0A%20%20%20%20%20%20b2ContactFilter.b2ContactFilter.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2ContactFilter%20%3D%20b2ContactFilter%3B%0A%0A%20%20%20%20function%20b2ContactImpulse()%20%7B%0A%20%20%20%20%20%20b2ContactImpulse.b2ContactImpulse.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2ContactImpulse%20%3D%20b2ContactImpulse%3B%0A%0A%20%20%20%20function%20b2ContactListener()%20%7B%0A%20%20%20%20%20%20b2ContactListener.b2ContactListener.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2ContactListener%20%3D%20b2ContactListener%3B%0A%0A%20%20%20%20function%20b2ContactManager()%20%7B%0A%20%20%20%20%20%20b2ContactManager.b2ContactManager.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactManager)%0A%20%20%20%20%20%20%20%20this.b2ContactManager.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2ContactManager%20%3D%20b2ContactManager%3B%0A%0A%20%20%20%20function%20b2DebugDraw()%20%7B%0A%20%20%20%20%20%20b2DebugDraw.b2DebugDraw.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DebugDraw)%0A%20%20%20%20%20%20%20%20this.b2DebugDraw.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2DebugDraw%20%3D%20b2DebugDraw%3B%0A%0A%20%20%20%20function%20b2DestructionListener()%20%7B%0A%20%20%20%20%20%20b2DestructionListener.b2DestructionListener.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2DestructionListener%20%3D%20b2DestructionListener%3B%0A%0A%20%20%20%20function%20b2FilterData()%20%7B%0A%20%20%20%20%20%20b2FilterData.b2FilterData.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2FilterData%20%3D%20b2FilterData%3B%0A%0A%20%20%20%20function%20b2Fixture()%20%7B%0A%20%20%20%20%20%20b2Fixture.b2Fixture.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Fixture)%20this.b2Fixture.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2Fixture%20%3D%20b2Fixture%3B%0A%0A%20%20%20%20function%20b2FixtureDef()%20%7B%0A%20%20%20%20%20%20b2FixtureDef.b2FixtureDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2FixtureDef)%0A%20%20%20%20%20%20%20%20this.b2FixtureDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2FixtureDef%20%3D%20b2FixtureDef%3B%0A%0A%20%20%20%20function%20b2Island()%20%7B%0A%20%20%20%20%20%20b2Island.b2Island.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Island)%20this.b2Island.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2Island%20%3D%20b2Island%3B%0A%0A%20%20%20%20function%20b2TimeStep()%20%7B%0A%20%20%20%20%20%20b2TimeStep.b2TimeStep.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2TimeStep%20%3D%20b2TimeStep%3B%0A%0A%20%20%20%20function%20b2World()%20%7B%0A%20%20%20%20%20%20b2World.b2World.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2World)%20this.b2World.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.b2World%20%3D%20b2World%3B%0A%0A%20%20%20%20function%20b2CircleContact()%20%7B%0A%20%20%20%20%20%20b2CircleContact.b2CircleContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2CircleContact%20%3D%20b2CircleContact%3B%0A%0A%20%20%20%20function%20b2Contact()%20%7B%0A%20%20%20%20%20%20b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Contact)%20this.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2Contact%20%3D%20b2Contact%3B%0A%0A%20%20%20%20function%20b2ContactConstraint()%20%7B%0A%20%20%20%20%20%20b2ContactConstraint.b2ContactConstraint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactConstraint)%0A%20%20%20%20%20%20%20%20this.b2ContactConstraint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactConstraint%20%3D%20b2ContactConstraint%3B%0A%0A%20%20%20%20function%20b2ContactConstraintPoint()%20%7B%0A%20%20%20%20%20%20b2ContactConstraintPoint.b2ContactConstraintPoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactConstraintPoint%20%3D%20b2ContactConstraintPoint%3B%0A%0A%20%20%20%20function%20b2ContactEdge()%20%7B%0A%20%20%20%20%20%20b2ContactEdge.b2ContactEdge.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactEdge%20%3D%20b2ContactEdge%3B%0A%0A%20%20%20%20function%20b2ContactFactory()%20%7B%0A%20%20%20%20%20%20b2ContactFactory.b2ContactFactory.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactFactory)%0A%20%20%20%20%20%20%20%20this.b2ContactFactory.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactFactory%20%3D%20b2ContactFactory%3B%0A%0A%20%20%20%20function%20b2ContactRegister()%20%7B%0A%20%20%20%20%20%20b2ContactRegister.b2ContactRegister.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactRegister%20%3D%20b2ContactRegister%3B%0A%0A%20%20%20%20function%20b2ContactResult()%20%7B%0A%20%20%20%20%20%20b2ContactResult.b2ContactResult.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactResult%20%3D%20b2ContactResult%3B%0A%0A%20%20%20%20function%20b2ContactSolver()%20%7B%0A%20%20%20%20%20%20b2ContactSolver.b2ContactSolver.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2ContactSolver)%0A%20%20%20%20%20%20%20%20this.b2ContactSolver.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2ContactSolver%20%3D%20b2ContactSolver%3B%0A%0A%20%20%20%20function%20b2EdgeAndCircleContact()%20%7B%0A%20%20%20%20%20%20b2EdgeAndCircleContact.b2EdgeAndCircleContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2EdgeAndCircleContact%20%3D%20b2EdgeAndCircleContact%3B%0A%0A%20%20%20%20function%20b2NullContact()%20%7B%0A%20%20%20%20%20%20b2NullContact.b2NullContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2NullContact)%0A%20%20%20%20%20%20%20%20this.b2NullContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2NullContact%20%3D%20b2NullContact%3B%0A%0A%20%20%20%20function%20b2PolyAndCircleContact()%20%7B%0A%20%20%20%20%20%20b2PolyAndCircleContact.b2PolyAndCircleContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PolyAndCircleContact%20%3D%20b2PolyAndCircleContact%3B%0A%0A%20%20%20%20function%20b2PolyAndEdgeContact()%20%7B%0A%20%20%20%20%20%20b2PolyAndEdgeContact.b2PolyAndEdgeContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PolyAndEdgeContact%20%3D%20b2PolyAndEdgeContact%3B%0A%0A%20%20%20%20function%20b2PolygonContact()%20%7B%0A%20%20%20%20%20%20b2PolygonContact.b2PolygonContact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PolygonContact%20%3D%20b2PolygonContact%3B%0A%0A%20%20%20%20function%20b2PositionSolverManifold()%20%7B%0A%20%20%20%20%20%20b2PositionSolverManifold.b2PositionSolverManifold.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PositionSolverManifold)%0A%20%20%20%20%20%20%20%20this.b2PositionSolverManifold.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold%20%3D%20b2PositionSolverManifold%3B%0A%0A%20%20%20%20function%20b2BuoyancyController()%20%7B%0A%20%20%20%20%20%20b2BuoyancyController.b2BuoyancyController.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2BuoyancyController%20%3D%20b2BuoyancyController%3B%0A%0A%20%20%20%20function%20b2ConstantAccelController()%20%7B%0A%20%20%20%20%20%20b2ConstantAccelController.b2ConstantAccelController.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantAccelController%20%3D%0A%20%20%20%20%20%20b2ConstantAccelController%3B%0A%0A%20%20%20%20function%20b2ConstantForceController()%20%7B%0A%20%20%20%20%20%20b2ConstantForceController.b2ConstantForceController.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantForceController%20%3D%0A%20%20%20%20%20%20b2ConstantForceController%3B%0A%0A%20%20%20%20function%20b2Controller()%20%7B%0A%20%20%20%20%20%20b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%20%3D%20b2Controller%3B%0A%0A%20%20%20%20function%20b2ControllerEdge()%20%7B%0A%20%20%20%20%20%20b2ControllerEdge.b2ControllerEdge.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2ControllerEdge%20%3D%20b2ControllerEdge%3B%0A%0A%20%20%20%20function%20b2GravityController()%20%7B%0A%20%20%20%20%20%20b2GravityController.b2GravityController.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2GravityController%20%3D%20b2GravityController%3B%0A%0A%20%20%20%20function%20b2TensorDampingController()%20%7B%0A%20%20%20%20%20%20b2TensorDampingController.b2TensorDampingController.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Controllers.b2TensorDampingController%20%3D%0A%20%20%20%20%20%20b2TensorDampingController%3B%0A%0A%20%20%20%20function%20b2DistanceJoint()%20%7B%0A%20%20%20%20%20%20b2DistanceJoint.b2DistanceJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DistanceJoint)%0A%20%20%20%20%20%20%20%20this.b2DistanceJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2DistanceJoint%20%3D%20b2DistanceJoint%3B%0A%0A%20%20%20%20function%20b2DistanceJointDef()%20%7B%0A%20%20%20%20%20%20b2DistanceJointDef.b2DistanceJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2DistanceJointDef)%0A%20%20%20%20%20%20%20%20this.b2DistanceJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2DistanceJointDef%20%3D%20b2DistanceJointDef%3B%0A%0A%20%20%20%20function%20b2FrictionJoint()%20%7B%0A%20%20%20%20%20%20b2FrictionJoint.b2FrictionJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2FrictionJoint)%0A%20%20%20%20%20%20%20%20this.b2FrictionJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2FrictionJoint%20%3D%20b2FrictionJoint%3B%0A%0A%20%20%20%20function%20b2FrictionJointDef()%20%7B%0A%20%20%20%20%20%20b2FrictionJointDef.b2FrictionJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2FrictionJointDef)%0A%20%20%20%20%20%20%20%20this.b2FrictionJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2FrictionJointDef%20%3D%20b2FrictionJointDef%3B%0A%0A%20%20%20%20function%20b2GearJoint()%20%7B%0A%20%20%20%20%20%20b2GearJoint.b2GearJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2GearJoint)%0A%20%20%20%20%20%20%20%20this.b2GearJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2GearJoint%20%3D%20b2GearJoint%3B%0A%0A%20%20%20%20function%20b2GearJointDef()%20%7B%0A%20%20%20%20%20%20b2GearJointDef.b2GearJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2GearJointDef)%0A%20%20%20%20%20%20%20%20this.b2GearJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2GearJointDef%20%3D%20b2GearJointDef%3B%0A%0A%20%20%20%20function%20b2Jacobian()%20%7B%0A%20%20%20%20%20%20b2Jacobian.b2Jacobian.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2Jacobian%20%3D%20b2Jacobian%3B%0A%0A%20%20%20%20function%20b2Joint()%20%7B%0A%20%20%20%20%20%20b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2Joint)%20this.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2Joint%20%3D%20b2Joint%3B%0A%0A%20%20%20%20function%20b2JointDef()%20%7B%0A%20%20%20%20%20%20b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2JointDef)%20this.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2JointDef%20%3D%20b2JointDef%3B%0A%0A%20%20%20%20function%20b2JointEdge()%20%7B%0A%20%20%20%20%20%20b2JointEdge.b2JointEdge.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2JointEdge%20%3D%20b2JointEdge%3B%0A%0A%20%20%20%20function%20b2LineJoint()%20%7B%0A%20%20%20%20%20%20b2LineJoint.b2LineJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2LineJoint)%0A%20%20%20%20%20%20%20%20this.b2LineJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2LineJoint%20%3D%20b2LineJoint%3B%0A%0A%20%20%20%20function%20b2LineJointDef()%20%7B%0A%20%20%20%20%20%20b2LineJointDef.b2LineJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2LineJointDef)%0A%20%20%20%20%20%20%20%20this.b2LineJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2LineJointDef%20%3D%20b2LineJointDef%3B%0A%0A%20%20%20%20function%20b2MouseJoint()%20%7B%0A%20%20%20%20%20%20b2MouseJoint.b2MouseJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2MouseJoint)%0A%20%20%20%20%20%20%20%20this.b2MouseJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2MouseJoint%20%3D%20b2MouseJoint%3B%0A%0A%20%20%20%20function%20b2MouseJointDef()%20%7B%0A%20%20%20%20%20%20b2MouseJointDef.b2MouseJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2MouseJointDef)%0A%20%20%20%20%20%20%20%20this.b2MouseJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2MouseJointDef%20%3D%20b2MouseJointDef%3B%0A%0A%20%20%20%20function%20b2PrismaticJoint()%20%7B%0A%20%20%20%20%20%20b2PrismaticJoint.b2PrismaticJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PrismaticJoint)%0A%20%20%20%20%20%20%20%20this.b2PrismaticJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PrismaticJoint%20%3D%20b2PrismaticJoint%3B%0A%0A%20%20%20%20function%20b2PrismaticJointDef()%20%7B%0A%20%20%20%20%20%20b2PrismaticJointDef.b2PrismaticJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PrismaticJointDef)%0A%20%20%20%20%20%20%20%20this.b2PrismaticJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PrismaticJointDef%20%3D%20b2PrismaticJointDef%3B%0A%0A%20%20%20%20function%20b2PulleyJoint()%20%7B%0A%20%20%20%20%20%20b2PulleyJoint.b2PulleyJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PulleyJoint)%0A%20%20%20%20%20%20%20%20this.b2PulleyJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PulleyJoint%20%3D%20b2PulleyJoint%3B%0A%0A%20%20%20%20function%20b2PulleyJointDef()%20%7B%0A%20%20%20%20%20%20b2PulleyJointDef.b2PulleyJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2PulleyJointDef)%0A%20%20%20%20%20%20%20%20this.b2PulleyJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2PulleyJointDef%20%3D%20b2PulleyJointDef%3B%0A%0A%20%20%20%20function%20b2RevoluteJoint()%20%7B%0A%20%20%20%20%20%20b2RevoluteJoint.b2RevoluteJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2RevoluteJoint)%0A%20%20%20%20%20%20%20%20this.b2RevoluteJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2RevoluteJoint%20%3D%20b2RevoluteJoint%3B%0A%0A%20%20%20%20function%20b2RevoluteJointDef()%20%7B%0A%20%20%20%20%20%20b2RevoluteJointDef.b2RevoluteJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2RevoluteJointDef)%0A%20%20%20%20%20%20%20%20this.b2RevoluteJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2RevoluteJointDef%20%3D%20b2RevoluteJointDef%3B%0A%0A%20%20%20%20function%20b2WeldJoint()%20%7B%0A%20%20%20%20%20%20b2WeldJoint.b2WeldJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2WeldJoint)%0A%20%20%20%20%20%20%20%20this.b2WeldJoint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2WeldJoint%20%3D%20b2WeldJoint%3B%0A%0A%20%20%20%20function%20b2WeldJointDef()%20%7B%0A%20%20%20%20%20%20b2WeldJointDef.b2WeldJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20if%20(this.constructor%20%3D%3D%3D%20b2WeldJointDef)%0A%20%20%20%20%20%20%20%20this.b2WeldJointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%0A%20%20%20%20Box2D.Dynamics.Joints.b2WeldJointDef%20%3D%20b2WeldJointDef%3B%0A%20%20%7D)()%3B%20%2F%2Fdefinitions%0A%20%20Box2D.postDefs%20%3D%20%5B%5D%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%3B%0A%0A%20%20%20%20b2AABB.b2AABB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.lowerBound%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.upperBound%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.IsValid%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20dX%20%3D%20this.upperBound.x%20-%20this.lowerBound.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20this.upperBound.y%20-%20this.lowerBound.y%3B%0A%20%20%20%20%20%20var%20valid%20%3D%20dX%20%3E%3D%200.0%20%26%26%20dY%20%3E%3D%200.0%3B%0A%20%20%20%20%20%20valid%20%3D%20valid%20%26%26%20this.lowerBound.IsValid()%20%26%26%20this.upperBound.IsValid()%3B%0A%20%20%20%20%20%20return%20valid%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.GetCenter%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20(this.lowerBound.x%20%2B%20this.upperBound.x)%20%2F%202%2C%0A%20%20%20%20%20%20%20%20(this.lowerBound.y%20%2B%20this.upperBound.y)%20%2F%202%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.GetExtents%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20(this.upperBound.x%20-%20this.lowerBound.x)%20%2F%202%2C%0A%20%20%20%20%20%20%20%20(this.upperBound.y%20-%20this.lowerBound.y)%20%2F%202%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.Contains%20%3D%20function%20(aabb)%20%7B%0A%20%20%20%20%20%20var%20result%20%3D%20true%3B%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20this.lowerBound.x%20%3C%3D%20aabb.lowerBound.x%3B%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20this.lowerBound.y%20%3C%3D%20aabb.lowerBound.y%3B%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20aabb.upperBound.x%20%3C%3D%20this.upperBound.x%3B%0A%20%20%20%20%20%20result%20%3D%20result%20%26%26%20aabb.upperBound.y%20%3C%3D%20this.upperBound.y%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.RayCast%20%3D%20function%20(output%2C%20input)%20%7B%0A%20%20%20%20%20%20var%20tmin%20%3D%20-Number.MAX_VALUE%3B%0A%20%20%20%20%20%20var%20tmax%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20var%20pX%20%3D%20input.p1.x%3B%0A%20%20%20%20%20%20var%20pY%20%3D%20input.p1.y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20input.p2.x%20-%20input.p1.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20input.p2.y%20-%20input.p1.y%3B%0A%20%20%20%20%20%20var%20absDX%20%3D%20Math.abs(dX)%3B%0A%20%20%20%20%20%20var%20absDY%20%3D%20Math.abs(dY)%3B%0A%20%20%20%20%20%20var%20normal%20%3D%20output.normal%3B%0A%20%20%20%20%20%20var%20inv_d%20%3D%200%3B%0A%20%20%20%20%20%20var%20t1%20%3D%200%3B%0A%20%20%20%20%20%20var%20t2%20%3D%200%3B%0A%20%20%20%20%20%20var%20t3%20%3D%200%3B%0A%20%20%20%20%20%20var%20s%20%3D%200%3B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20(absDX%20%3C%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(pX%20%3C%20this.lowerBound.x%20%7C%7C%20this.upperBound.x%20%3C%20pX)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20inv_d%20%3D%201.0%20%2F%20dX%3B%0A%20%20%20%20%20%20%20%20%20%20t1%20%3D%20(this.lowerBound.x%20-%20pX)%20*%20inv_d%3B%0A%20%20%20%20%20%20%20%20%20%20t2%20%3D%20(this.upperBound.x%20-%20pX)%20*%20inv_d%3B%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20-1.0%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20t2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20t3%20%3D%20t1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20t1%20%3D%20t2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20t2%20%3D%20t3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20tmin)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.x%20%3D%20s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.y%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tmin%20%3D%20t1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20tmax%20%3D%20Math.min(tmax%2C%20t2)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(tmin%20%3E%20tmax)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20(absDY%20%3C%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(pY%20%3C%20this.lowerBound.y%20%7C%7C%20this.upperBound.y%20%3C%20pY)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20inv_d%20%3D%201.0%20%2F%20dY%3B%0A%20%20%20%20%20%20%20%20%20%20t1%20%3D%20(this.lowerBound.y%20-%20pY)%20*%20inv_d%3B%0A%20%20%20%20%20%20%20%20%20%20t2%20%3D%20(this.upperBound.y%20-%20pY)%20*%20inv_d%3B%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20-1.0%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20t2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20t3%20%3D%20t1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20t1%20%3D%20t2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20t2%20%3D%20t3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(t1%20%3E%20tmin)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.y%20%3D%20s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.x%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tmin%20%3D%20t1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20tmax%20%3D%20Math.min(tmax%2C%20t2)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(tmin%20%3E%20tmax)%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20output.fraction%20%3D%20tmin%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.TestOverlap%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20var%20d1X%20%3D%20other.lowerBound.x%20-%20this.upperBound.x%3B%0A%20%20%20%20%20%20var%20d1Y%20%3D%20other.lowerBound.y%20-%20this.upperBound.y%3B%0A%20%20%20%20%20%20var%20d2X%20%3D%20this.lowerBound.x%20-%20other.upperBound.x%3B%0A%20%20%20%20%20%20var%20d2Y%20%3D%20this.lowerBound.y%20-%20other.upperBound.y%3B%0A%20%20%20%20%20%20if%20(d1X%20%3E%200.0%20%7C%7C%20d1Y%20%3E%200.0)%20return%20false%3B%0A%20%20%20%20%20%20if%20(d2X%20%3E%200.0%20%7C%7C%20d2Y%20%3E%200.0)%20return%20false%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.Combine%20%3D%20function%20(aabb1%2C%20aabb2)%20%7B%0A%20%20%20%20%20%20var%20aabb%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20aabb.Combine(aabb1%2C%20aabb2)%3B%0A%20%20%20%20%20%20return%20aabb%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2AABB.prototype.Combine%20%3D%20function%20(aabb1%2C%20aabb2)%20%7B%0A%20%20%20%20%20%20this.lowerBound.x%20%3D%20Math.min(aabb1.lowerBound.x%2C%20aabb2.lowerBound.x)%3B%0A%20%20%20%20%20%20this.lowerBound.y%20%3D%20Math.min(aabb1.lowerBound.y%2C%20aabb2.lowerBound.y)%3B%0A%20%20%20%20%20%20this.upperBound.x%20%3D%20Math.max(aabb1.upperBound.x%2C%20aabb2.upperBound.x)%3B%0A%20%20%20%20%20%20this.upperBound.y%20%3D%20Math.max(aabb1.upperBound.y%2C%20aabb2.upperBound.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Bound.b2Bound%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Bound.prototype.IsLower%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.value%20%26%201)%20%3D%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Bound.prototype.IsUpper%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.value%20%26%201)%20%3D%3D%201%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Bound.prototype.Swap%20%3D%20function%20(b)%20%7B%0A%20%20%20%20%20%20var%20tempValue%20%3D%20this.value%3B%0A%20%20%20%20%20%20var%20tempProxy%20%3D%20this.proxy%3B%0A%20%20%20%20%20%20var%20tempStabbingCount%20%3D%20this.stabbingCount%3B%0A%20%20%20%20%20%20this.value%20%3D%20b.value%3B%0A%20%20%20%20%20%20this.proxy%20%3D%20b.proxy%3B%0A%20%20%20%20%20%20this.stabbingCount%20%3D%20b.stabbingCount%3B%0A%20%20%20%20%20%20b.value%20%3D%20tempValue%3B%0A%20%20%20%20%20%20b.proxy%20%3D%20tempProxy%3B%0A%20%20%20%20%20%20b.stabbingCount%20%3D%20tempStabbingCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2BoundValues.b2BoundValues%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2BoundValues.prototype.b2BoundValues%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.lowerValues%20%3D%20new%20Vector_a2j_Number()%3B%0A%20%20%20%20%20%20this.lowerValues%5B0%5D%20%3D%200.0%3B%0A%20%20%20%20%20%20this.lowerValues%5B1%5D%20%3D%200.0%3B%0A%20%20%20%20%20%20this.upperValues%20%3D%20new%20Vector_a2j_Number()%3B%0A%20%20%20%20%20%20this.upperValues%5B0%5D%20%3D%200.0%3B%0A%20%20%20%20%20%20this.upperValues%5B1%5D%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.b2Collision%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Collision.ClipSegmentToLine%20%3D%20function%20(vOut%2C%20vIn%2C%20normal%2C%20offset)%20%7B%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0A%20%20%20%20%20%20var%20cv%3B%0A%20%20%20%20%20%20var%20numOut%20%3D%200%3B%0A%20%20%20%20%20%20cv%20%3D%20vIn%5B0%5D%3B%0A%20%20%20%20%20%20var%20vIn0%20%3D%20cv.v%3B%0A%20%20%20%20%20%20cv%20%3D%20vIn%5B1%5D%3B%0A%20%20%20%20%20%20var%20vIn1%20%3D%20cv.v%3B%0A%20%20%20%20%20%20var%20distance0%20%3D%20normal.x%20*%20vIn0.x%20%2B%20normal.y%20*%20vIn0.y%20-%20offset%3B%0A%20%20%20%20%20%20var%20distance1%20%3D%20normal.x%20*%20vIn1.x%20%2B%20normal.y%20*%20vIn1.y%20-%20offset%3B%0A%20%20%20%20%20%20if%20(distance0%20%3C%3D%200.0)%20vOut%5BnumOut%2B%2B%5D.Set(vIn%5B0%5D)%3B%0A%20%20%20%20%20%20if%20(distance1%20%3C%3D%200.0)%20vOut%5BnumOut%2B%2B%5D.Set(vIn%5B1%5D)%3B%0A%20%20%20%20%20%20if%20(distance0%20*%20distance1%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20var%20interp%20%3D%20distance0%20%2F%20(distance0%20-%20distance1)%3B%0A%20%20%20%20%20%20%20%20cv%20%3D%20vOut%5BnumOut%5D%3B%0A%20%20%20%20%20%20%20%20var%20tVec%20%3D%20cv.v%3B%0A%20%20%20%20%20%20%20%20tVec.x%20%3D%20vIn0.x%20%2B%20interp%20*%20(vIn1.x%20-%20vIn0.x)%3B%0A%20%20%20%20%20%20%20%20tVec.y%20%3D%20vIn0.y%20%2B%20interp%20*%20(vIn1.y%20-%20vIn0.y)%3B%0A%20%20%20%20%20%20%20%20cv%20%3D%20vOut%5BnumOut%5D%3B%0A%20%20%20%20%20%20%20%20var%20cv2%3B%0A%20%20%20%20%20%20%20%20if%20(distance0%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20cv2%20%3D%20vIn%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20cv.id%20%3D%20cv2.id%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20cv2%20%3D%20vIn%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20cv.id%20%3D%20cv2.id%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2B%2BnumOut%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20numOut%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.EdgeSeparation%20%3D%20function%20(poly1%2C%20xf1%2C%20edge1%2C%20poly2%2C%20xf2)%20%7B%0A%20%20%20%20%20%20if%20(edge1%20%3D%3D%3D%20undefined)%20edge1%20%3D%200%3B%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20vertices1%20%3D%20poly1.m_vertices%3B%0A%20%20%20%20%20%20var%20normals1%20%3D%20poly1.m_normals%3B%0A%20%20%20%20%20%20var%20count2%20%3D%20parseInt(poly2.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20vertices2%20%3D%20poly2.m_vertices%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20normals1%5Bedge1%5D%3B%0A%20%20%20%20%20%20var%20normal1WorldX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20var%20normal1WorldY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20var%20normal1X%20%3D%20tMat.col1.x%20*%20normal1WorldX%20%2B%20tMat.col1.y%20*%20normal1WorldY%3B%0A%20%20%20%20%20%20var%20normal1Y%20%3D%20tMat.col2.x%20*%20normal1WorldX%20%2B%20tMat.col2.y%20*%20normal1WorldY%3B%0A%20%20%20%20%20%20var%20index%20%3D%200%3B%0A%20%20%20%20%20%20var%20minDot%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count2%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20tVec.x%20*%20normal1X%20%2B%20tVec.y%20*%20normal1Y%3B%0A%20%20%20%20%20%20%20%20if%20(dot%20%3C%20minDot)%20%7B%0A%20%20%20%20%20%20%20%20%20%20minDot%20%3D%20dot%3B%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20tVec%20%3D%20vertices1%5Bedge1%5D%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20var%20v1X%20%3D%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20v1Y%20%3D%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bindex%5D%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20var%20v2X%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20v2Y%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20v2X%20-%3D%20v1X%3B%0A%20%20%20%20%20%20v2Y%20-%3D%20v1Y%3B%0A%20%20%20%20%20%20var%20separation%20%3D%20v2X%20*%20normal1WorldX%20%2B%20v2Y%20*%20normal1WorldY%3B%0A%20%20%20%20%20%20return%20separation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.FindMaxSeparation%20%3D%20function%20(edgeIndex%2C%20poly1%2C%20xf1%2C%20poly2%2C%20xf2)%20%7B%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20normals1%20%3D%20poly1.m_normals%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20poly2.m_centroid%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20poly1.m_centroid%3B%0A%20%20%20%20%20%20dX%20-%3D%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20dY%20-%3D%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20dLocal1X%20%3D%20dX%20*%20xf1.R.col1.x%20%2B%20dY%20*%20xf1.R.col1.y%3B%0A%20%20%20%20%20%20var%20dLocal1Y%20%3D%20dX%20*%20xf1.R.col2.x%20%2B%20dY%20*%20xf1.R.col2.y%3B%0A%20%20%20%20%20%20var%20edge%20%3D%200%3B%0A%20%20%20%20%20%20var%20maxDot%20%3D%20-Number.MAX_VALUE%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count1%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20normals1%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20tVec.x%20*%20dLocal1X%20%2B%20tVec.y%20*%20dLocal1Y%3B%0A%20%20%20%20%20%20%20%20if%20(dot%20%3E%20maxDot)%20%7B%0A%20%20%20%20%20%20%20%20%20%20maxDot%20%3D%20dot%3B%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20s%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20edge%2C%20poly2%2C%20xf2)%3B%0A%20%20%20%20%20%20var%20prevEdge%20%3D%20parseInt(edge%20-%201%20%3E%3D%200%20%3F%20edge%20-%201%20%3A%20count1%20-%201)%3B%0A%20%20%20%20%20%20var%20sPrev%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20prevEdge%2C%20poly2%2C%20xf2)%3B%0A%20%20%20%20%20%20var%20nextEdge%20%3D%20parseInt(edge%20%2B%201%20%3C%20count1%20%3F%20edge%20%2B%201%20%3A%200)%3B%0A%20%20%20%20%20%20var%20sNext%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20nextEdge%2C%20poly2%2C%20xf2)%3B%0A%20%20%20%20%20%20var%20bestEdge%20%3D%200%3B%0A%20%20%20%20%20%20var%20bestSeparation%20%3D%200%3B%0A%20%20%20%20%20%20var%20increment%20%3D%200%3B%0A%20%20%20%20%20%20if%20(sPrev%20%3E%20s%20%26%26%20sPrev%20%3E%20sNext)%20%7B%0A%20%20%20%20%20%20%20%20increment%20%3D%20-1%3B%0A%20%20%20%20%20%20%20%20bestEdge%20%3D%20prevEdge%3B%0A%20%20%20%20%20%20%20%20bestSeparation%20%3D%20sPrev%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(sNext%20%3E%20s)%20%7B%0A%20%20%20%20%20%20%20%20increment%20%3D%201%3B%0A%20%20%20%20%20%20%20%20bestEdge%20%3D%20nextEdge%3B%0A%20%20%20%20%20%20%20%20bestSeparation%20%3D%20sNext%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20edgeIndex%5B0%5D%20%3D%20edge%3B%0A%20%20%20%20%20%20%20%20return%20s%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20while%20(true)%20%7B%0A%20%20%20%20%20%20%20%20if%20(increment%20%3D%3D%20-1)%20edge%20%3D%20bestEdge%20-%201%20%3E%3D%200%20%3F%20bestEdge%20-%201%20%3A%20count1%20-%201%3B%0A%20%20%20%20%20%20%20%20else%20edge%20%3D%20bestEdge%20%2B%201%20%3C%20count1%20%3F%20bestEdge%20%2B%201%20%3A%200%3B%0A%20%20%20%20%20%20%20%20s%20%3D%20b2Collision.EdgeSeparation(poly1%2C%20xf1%2C%20edge%2C%20poly2%2C%20xf2)%3B%0A%20%20%20%20%20%20%20%20if%20(s%20%3E%20bestSeparation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bestEdge%20%3D%20edge%3B%0A%20%20%20%20%20%20%20%20%20%20bestSeparation%20%3D%20s%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20edgeIndex%5B0%5D%20%3D%20bestEdge%3B%0A%20%20%20%20%20%20return%20bestSeparation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.FindIncidentEdge%20%3D%20function%20(c%2C%20poly1%2C%20xf1%2C%20edge1%2C%20poly2%2C%20xf2)%20%7B%0A%20%20%20%20%20%20if%20(edge1%20%3D%3D%3D%20undefined)%20edge1%20%3D%200%3B%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20normals1%20%3D%20poly1.m_normals%3B%0A%20%20%20%20%20%20var%20count2%20%3D%20parseInt(poly2.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20vertices2%20%3D%20poly2.m_vertices%3B%0A%20%20%20%20%20%20var%20normals2%20%3D%20poly2.m_normals%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20normals1%5Bedge1%5D%3B%0A%20%20%20%20%20%20var%20normal1X%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20var%20normal1Y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20normal1X%20%2B%20tMat.col1.y%20*%20normal1Y%3B%0A%20%20%20%20%20%20normal1Y%20%3D%20tMat.col2.x%20*%20normal1X%20%2B%20tMat.col2.y%20*%20normal1Y%3B%0A%20%20%20%20%20%20normal1X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20index%20%3D%200%3B%0A%20%20%20%20%20%20var%20minDot%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count2%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20normals2%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20normal1X%20*%20tVec.x%20%2B%20normal1Y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20if%20(dot%20%3C%20minDot)%20%7B%0A%20%20%20%20%20%20%20%20%20%20minDot%20%3D%20dot%3B%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20tClip%3B%0A%20%20%20%20%20%20var%20i1%20%3D%20parseInt(index)%3B%0A%20%20%20%20%20%20var%20i2%20%3D%20parseInt(i1%20%2B%201%20%3C%20count2%20%3F%20i1%20%2B%201%20%3A%200)%3B%0A%20%20%20%20%20%20tClip%20%3D%20c%5B0%5D%3B%0A%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bi1%5D%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20tClip.v.x%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tClip.v.y%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tClip.id.features.referenceEdge%20%3D%20edge1%3B%0A%20%20%20%20%20%20tClip.id.features.incidentEdge%20%3D%20i1%3B%0A%20%20%20%20%20%20tClip.id.features.incidentVertex%20%3D%200%3B%0A%20%20%20%20%20%20tClip%20%3D%20c%5B1%5D%3B%0A%20%20%20%20%20%20tVec%20%3D%20vertices2%5Bi2%5D%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20tClip.v.x%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tClip.v.y%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tClip.id.features.referenceEdge%20%3D%20edge1%3B%0A%20%20%20%20%20%20tClip.id.features.incidentEdge%20%3D%20i2%3B%0A%20%20%20%20%20%20tClip.id.features.incidentVertex%20%3D%201%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.MakeClipPointVector%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20r%20%3D%20new%20Vector(2)%3B%0A%20%20%20%20%20%20r%5B0%5D%20%3D%20new%20ClipVertex()%3B%0A%20%20%20%20%20%20r%5B1%5D%20%3D%20new%20ClipVertex()%3B%0A%20%20%20%20%20%20return%20r%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.CollidePolygons%20%3D%20function%20(manifold%2C%20polyA%2C%20xfA%2C%20polyB%2C%20xfB)%20%7B%0A%20%20%20%20%20%20var%20cv%3B%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20totalRadius%20%3D%20polyA.m_radius%20%2B%20polyB.m_radius%3B%0A%20%20%20%20%20%20var%20edgeA%20%3D%200%3B%0A%20%20%20%20%20%20b2Collision.s_edgeAO%5B0%5D%20%3D%20edgeA%3B%0A%20%20%20%20%20%20var%20separationA%20%3D%20b2Collision.FindMaxSeparation(%0A%20%20%20%20%20%20%20%20b2Collision.s_edgeAO%2C%0A%20%20%20%20%20%20%20%20polyA%2C%0A%20%20%20%20%20%20%20%20xfA%2C%0A%20%20%20%20%20%20%20%20polyB%2C%0A%20%20%20%20%20%20%20%20xfB%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20edgeA%20%3D%20b2Collision.s_edgeAO%5B0%5D%3B%0A%20%20%20%20%20%20if%20(separationA%20%3E%20totalRadius)%20return%3B%0A%20%20%20%20%20%20var%20edgeB%20%3D%200%3B%0A%20%20%20%20%20%20b2Collision.s_edgeBO%5B0%5D%20%3D%20edgeB%3B%0A%20%20%20%20%20%20var%20separationB%20%3D%20b2Collision.FindMaxSeparation(%0A%20%20%20%20%20%20%20%20b2Collision.s_edgeBO%2C%0A%20%20%20%20%20%20%20%20polyB%2C%0A%20%20%20%20%20%20%20%20xfB%2C%0A%20%20%20%20%20%20%20%20polyA%2C%0A%20%20%20%20%20%20%20%20xfA%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20edgeB%20%3D%20b2Collision.s_edgeBO%5B0%5D%3B%0A%20%20%20%20%20%20if%20(separationB%20%3E%20totalRadius)%20return%3B%0A%20%20%20%20%20%20var%20poly1%3B%0A%20%20%20%20%20%20var%20poly2%3B%0A%20%20%20%20%20%20var%20xf1%3B%0A%20%20%20%20%20%20var%20xf2%3B%0A%20%20%20%20%20%20var%20edge1%20%3D%200%3B%0A%20%20%20%20%20%20var%20flip%20%3D%200%3B%0A%20%20%20%20%20%20var%20k_relativeTol%20%3D%200.98%3B%0A%20%20%20%20%20%20var%20k_absoluteTol%20%3D%200.001%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20if%20(separationB%20%3E%20k_relativeTol%20*%20separationA%20%2B%20k_absoluteTol)%20%7B%0A%20%20%20%20%20%20%20%20poly1%20%3D%20polyB%3B%0A%20%20%20%20%20%20%20%20poly2%20%3D%20polyA%3B%0A%20%20%20%20%20%20%20%20xf1%20%3D%20xfB%3B%0A%20%20%20%20%20%20%20%20xf2%20%3D%20xfA%3B%0A%20%20%20%20%20%20%20%20edge1%20%3D%20edgeB%3B%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceB%3B%0A%20%20%20%20%20%20%20%20flip%20%3D%201%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20poly1%20%3D%20polyA%3B%0A%20%20%20%20%20%20%20%20poly2%20%3D%20polyB%3B%0A%20%20%20%20%20%20%20%20xf1%20%3D%20xfA%3B%0A%20%20%20%20%20%20%20%20xf2%20%3D%20xfB%3B%0A%20%20%20%20%20%20%20%20edge1%20%3D%20edgeA%3B%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0A%20%20%20%20%20%20%20%20flip%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20incidentEdge%20%3D%20b2Collision.s_incidentEdge%3B%0A%20%20%20%20%20%20b2Collision.FindIncidentEdge(incidentEdge%2C%20poly1%2C%20xf1%2C%20edge1%2C%20poly2%2C%20xf2)%3B%0A%20%20%20%20%20%20var%20count1%20%3D%20parseInt(poly1.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20vertices1%20%3D%20poly1.m_vertices%3B%0A%20%20%20%20%20%20var%20local_v11%20%3D%20vertices1%5Bedge1%5D%3B%0A%20%20%20%20%20%20var%20local_v12%3B%0A%20%20%20%20%20%20if%20(edge1%20%2B%201%20%3C%20count1)%20%7B%0A%20%20%20%20%20%20%20%20local_v12%20%3D%20vertices1%5BparseInt(edge1%20%2B%201)%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20local_v12%20%3D%20vertices1%5B0%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20localTangent%20%3D%20b2Collision.s_localTangent%3B%0A%20%20%20%20%20%20localTangent.Set(local_v12.x%20-%20local_v11.x%2C%20local_v12.y%20-%20local_v11.y)%3B%0A%20%20%20%20%20%20localTangent.Normalize()%3B%0A%20%20%20%20%20%20var%20localNormal%20%3D%20b2Collision.s_localNormal%3B%0A%20%20%20%20%20%20localNormal.x%20%3D%20localTangent.y%3B%0A%20%20%20%20%20%20localNormal.y%20%3D%20-localTangent.x%3B%0A%20%20%20%20%20%20var%20planePoint%20%3D%20b2Collision.s_planePoint%3B%0A%20%20%20%20%20%20planePoint.Set(%0A%20%20%20%20%20%20%20%200.5%20*%20(local_v11.x%20%2B%20local_v12.x)%2C%0A%20%20%20%20%20%20%20%200.5%20*%20(local_v11.y%20%2B%20local_v12.y)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20tangent%20%3D%20b2Collision.s_tangent%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20tangent.x%20%3D%20tMat.col1.x%20*%20localTangent.x%20%2B%20tMat.col2.x%20*%20localTangent.y%3B%0A%20%20%20%20%20%20tangent.y%20%3D%20tMat.col1.y%20*%20localTangent.x%20%2B%20tMat.col2.y%20*%20localTangent.y%3B%0A%20%20%20%20%20%20var%20tangent2%20%3D%20b2Collision.s_tangent2%3B%0A%20%20%20%20%20%20tangent2.x%20%3D%20-tangent.x%3B%0A%20%20%20%20%20%20tangent2.y%20%3D%20-tangent.y%3B%0A%20%20%20%20%20%20var%20normal%20%3D%20b2Collision.s_normal%3B%0A%20%20%20%20%20%20normal.x%20%3D%20tangent.y%3B%0A%20%20%20%20%20%20normal.y%20%3D%20-tangent.x%3B%0A%20%20%20%20%20%20var%20v11%20%3D%20b2Collision.s_v11%3B%0A%20%20%20%20%20%20var%20v12%20%3D%20b2Collision.s_v12%3B%0A%20%20%20%20%20%20v11.x%20%3D%0A%20%20%20%20%20%20%20%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20local_v11.x%20%2B%20tMat.col2.x%20*%20local_v11.y)%3B%0A%20%20%20%20%20%20v11.y%20%3D%0A%20%20%20%20%20%20%20%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20local_v11.x%20%2B%20tMat.col2.y%20*%20local_v11.y)%3B%0A%20%20%20%20%20%20v12.x%20%3D%0A%20%20%20%20%20%20%20%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20local_v12.x%20%2B%20tMat.col2.x%20*%20local_v12.y)%3B%0A%20%20%20%20%20%20v12.y%20%3D%0A%20%20%20%20%20%20%20%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20local_v12.x%20%2B%20tMat.col2.y%20*%20local_v12.y)%3B%0A%20%20%20%20%20%20var%20frontOffset%20%3D%20normal.x%20*%20v11.x%20%2B%20normal.y%20*%20v11.y%3B%0A%20%20%20%20%20%20var%20sideOffset1%20%3D%20-tangent.x%20*%20v11.x%20-%20tangent.y%20*%20v11.y%20%2B%20totalRadius%3B%0A%20%20%20%20%20%20var%20sideOffset2%20%3D%20tangent.x%20*%20v12.x%20%2B%20tangent.y%20*%20v12.y%20%2B%20totalRadius%3B%0A%20%20%20%20%20%20var%20clipPoints1%20%3D%20b2Collision.s_clipPoints1%3B%0A%20%20%20%20%20%20var%20clipPoints2%20%3D%20b2Collision.s_clipPoints2%3B%0A%20%20%20%20%20%20var%20np%20%3D%200%3B%0A%20%20%20%20%20%20np%20%3D%20b2Collision.ClipSegmentToLine(%0A%20%20%20%20%20%20%20%20clipPoints1%2C%0A%20%20%20%20%20%20%20%20incidentEdge%2C%0A%20%20%20%20%20%20%20%20tangent2%2C%0A%20%20%20%20%20%20%20%20sideOffset1%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20if%20(np%20%3C%202)%20return%3B%0A%20%20%20%20%20%20np%20%3D%20b2Collision.ClipSegmentToLine(%0A%20%20%20%20%20%20%20%20clipPoints2%2C%0A%20%20%20%20%20%20%20%20clipPoints1%2C%0A%20%20%20%20%20%20%20%20tangent%2C%0A%20%20%20%20%20%20%20%20sideOffset2%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20if%20(np%20%3C%202)%20return%3B%0A%20%20%20%20%20%20manifold.m_localPlaneNormal.SetV(localNormal)%3B%0A%20%20%20%20%20%20manifold.m_localPoint.SetV(planePoint)%3B%0A%20%20%20%20%20%20var%20pointCount%20%3D%200%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20cv%20%3D%20clipPoints2%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20separation%20%3D%20normal.x%20*%20cv.v.x%20%2B%20normal.y%20*%20cv.v.y%20-%20frontOffset%3B%0A%20%20%20%20%20%20%20%20if%20(separation%20%3C%3D%20totalRadius)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20cp%20%3D%20manifold.m_points%5BpointCount%5D%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tX%20%3D%20cv.v.x%20-%20xf2.position.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tY%20%3D%20cv.v.y%20-%20xf2.position.y%3B%0A%20%20%20%20%20%20%20%20%20%20cp.m_localPoint.x%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0A%20%20%20%20%20%20%20%20%20%20cp.m_localPoint.y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0A%20%20%20%20%20%20%20%20%20%20cp.m_id.Set(cv.id)%3B%0A%20%20%20%20%20%20%20%20%20%20cp.m_id.features.flip%20%3D%20flip%3B%0A%20%20%20%20%20%20%20%20%20%20%2B%2BpointCount%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%20pointCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.CollideCircles%20%3D%20function%20(manifold%2C%20circle1%2C%20xf1%2C%20circle2%2C%20xf2)%20%7B%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20circle1.m_p%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%20xf1.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%20xf1.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20circle2.m_p%3B%0A%20%20%20%20%20%20var%20p2X%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20p2Y%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0A%20%20%20%20%20%20var%20distSqr%20%3D%20dX%20*%20dX%20%2B%20dY%20*%20dY%3B%0A%20%20%20%20%20%20var%20radius%20%3D%20circle1.m_radius%20%2B%20circle2.m_radius%3B%0A%20%20%20%20%20%20if%20(distSqr%20%3E%20radius%20*%20radius)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_circles%3B%0A%20%20%20%20%20%20manifold.m_localPoint.SetV(circle1.m_p)%3B%0A%20%20%20%20%20%20manifold.m_localPlaneNormal.SetZero()%3B%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0A%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle2.m_p)%3B%0A%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.CollidePolygonAndCircle%20%3D%20function%20(%0A%20%20%20%20%20%20manifold%2C%0A%20%20%20%20%20%20polygon%2C%0A%20%20%20%20%20%20xf1%2C%0A%20%20%20%20%20%20circle%2C%0A%20%20%20%20%20%20xf2%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20manifold.m_pointCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20tPoint%3B%0A%20%20%20%20%20%20var%20dX%20%3D%200%3B%0A%20%20%20%20%20%20var%20dY%20%3D%200%3B%0A%20%20%20%20%20%20var%20positionX%20%3D%200%3B%0A%20%20%20%20%20%20var%20positionY%20%3D%200%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf2.R%3B%0A%20%20%20%20%20%20tVec%20%3D%20circle.m_p%3B%0A%20%20%20%20%20%20var%20cX%20%3D%20xf2.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20cY%20%3D%20xf2.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20dX%20%3D%20cX%20-%20xf1.position.x%3B%0A%20%20%20%20%20%20dY%20%3D%20cY%20-%20xf1.position.y%3B%0A%20%20%20%20%20%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20var%20cLocalX%20%3D%20dX%20*%20tMat.col1.x%20%2B%20dY%20*%20tMat.col1.y%3B%0A%20%20%20%20%20%20var%20cLocalY%20%3D%20dX%20*%20tMat.col2.x%20%2B%20dY%20*%20tMat.col2.y%3B%0A%20%20%20%20%20%20var%20dist%20%3D%200%3B%0A%20%20%20%20%20%20var%20normalIndex%20%3D%200%3B%0A%20%20%20%20%20%20var%20separation%20%3D%20-Number.MAX_VALUE%3B%0A%20%20%20%20%20%20var%20radius%20%3D%20polygon.m_radius%20%2B%20circle.m_radius%3B%0A%20%20%20%20%20%20var%20vertexCount%20%3D%20parseInt(polygon.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20vertices%20%3D%20polygon.m_vertices%3B%0A%20%20%20%20%20%20var%20normals%20%3D%20polygon.m_normals%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20dX%20%3D%20cLocalX%20-%20tVec.x%3B%0A%20%20%20%20%20%20%20%20dY%20%3D%20cLocalY%20-%20tVec.y%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20normals%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20s%20%3D%20tVec.x%20*%20dX%20%2B%20tVec.y%20*%20dY%3B%0A%20%20%20%20%20%20%20%20if%20(s%20%3E%20radius)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(s%20%3E%20separation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20separation%20%3D%20s%3B%0A%20%20%20%20%20%20%20%20%20%20normalIndex%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20vertIndex1%20%3D%20parseInt(normalIndex)%3B%0A%20%20%20%20%20%20var%20vertIndex2%20%3D%20parseInt(%0A%20%20%20%20%20%20%20%20vertIndex1%20%2B%201%20%3C%20vertexCount%20%3F%20vertIndex1%20%2B%201%20%3A%200%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20vertices%5BvertIndex1%5D%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20vertices%5BvertIndex2%5D%3B%0A%20%20%20%20%20%20if%20(separation%20%3C%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.SetV(normals%5BnormalIndex%5D)%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.x%20%3D%200.5%20*%20(v1.x%20%2B%20v2.x)%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.y%20%3D%200.5%20*%20(v1.y%20%2B%20v2.y)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20u1%20%3D%0A%20%20%20%20%20%20%20%20(cLocalX%20-%20v1.x)%20*%20(v2.x%20-%20v1.x)%20%2B%20(cLocalY%20-%20v1.y)%20*%20(v2.y%20-%20v1.y)%3B%0A%20%20%20%20%20%20var%20u2%20%3D%0A%20%20%20%20%20%20%20%20(cLocalX%20-%20v2.x)%20*%20(v1.x%20-%20v2.x)%20%2B%20(cLocalY%20-%20v2.y)%20*%20(v1.y%20-%20v2.y)%3B%0A%20%20%20%20%20%20if%20(u1%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20(cLocalX%20-%20v1.x)%20*%20(cLocalX%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(cLocalY%20-%20v1.y)%20*%20(cLocalY%20-%20v1.y)%20%3E%0A%20%20%20%20%20%20%20%20%20%20radius%20*%20radius%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.x%20%3D%20cLocalX%20-%20v1.x%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.y%20%3D%20cLocalY%20-%20v1.y%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.Normalize()%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.SetV(v1)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(u2%20%3C%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20(cLocalX%20-%20v2.x)%20*%20(cLocalX%20-%20v2.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(cLocalY%20-%20v2.y)%20*%20(cLocalY%20-%20v2.y)%20%3E%0A%20%20%20%20%20%20%20%20%20%20radius%20*%20radius%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.x%20%3D%20cLocalX%20-%20v2.x%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.y%20%3D%20cLocalY%20-%20v2.y%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.Normalize()%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.SetV(v2)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20faceCenterX%20%3D%200.5%20*%20(v1.x%20%2B%20v2.x)%3B%0A%20%20%20%20%20%20%20%20var%20faceCenterY%20%3D%200.5%20*%20(v1.y%20%2B%20v2.y)%3B%0A%20%20%20%20%20%20%20%20separation%20%3D%0A%20%20%20%20%20%20%20%20%20%20(cLocalX%20-%20faceCenterX)%20*%20normals%5BvertIndex1%5D.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20(cLocalY%20-%20faceCenterY)%20*%20normals%5BvertIndex1%5D.y%3B%0A%20%20%20%20%20%20%20%20if%20(separation%20%3E%20radius)%20return%3B%0A%20%20%20%20%20%20%20%20manifold.m_pointCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20manifold.m_type%20%3D%20b2Manifold.e_faceA%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.x%20%3D%20normals%5BvertIndex1%5D.x%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.y%20%3D%20normals%5BvertIndex1%5D.y%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPlaneNormal.Normalize()%3B%0A%20%20%20%20%20%20%20%20manifold.m_localPoint.Set(faceCenterX%2C%20faceCenterY)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_localPoint.SetV(circle.m_p)%3B%0A%20%20%20%20%20%20%20%20manifold.m_points%5B0%5D.m_id.key%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Collision.TestOverlap%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20t1%20%3D%20b.lowerBound%3B%0A%20%20%20%20%20%20var%20t2%20%3D%20a.upperBound%3B%0A%20%20%20%20%20%20var%20d1X%20%3D%20t1.x%20-%20t2.x%3B%0A%20%20%20%20%20%20var%20d1Y%20%3D%20t1.y%20-%20t2.y%3B%0A%20%20%20%20%20%20t1%20%3D%20a.lowerBound%3B%0A%20%20%20%20%20%20t2%20%3D%20b.upperBound%3B%0A%20%20%20%20%20%20var%20d2X%20%3D%20t1.x%20-%20t2.x%3B%0A%20%20%20%20%20%20var%20d2Y%20%3D%20t1.y%20-%20t2.y%3B%0A%20%20%20%20%20%20if%20(d1X%20%3E%200.0%20%7C%7C%20d1Y%20%3E%200.0)%20return%20false%3B%0A%20%20%20%20%20%20if%20(d2X%20%3E%200.0%20%7C%7C%20d2Y%20%3E%200.0)%20return%20false%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_incidentEdge%20%3D%0A%20%20%20%20%20%20%20%20b2Collision.MakeClipPointVector()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_clipPoints1%20%3D%0A%20%20%20%20%20%20%20%20b2Collision.MakeClipPointVector()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_clipPoints2%20%3D%0A%20%20%20%20%20%20%20%20b2Collision.MakeClipPointVector()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_edgeAO%20%3D%20new%20Vector_a2j_Number(1)%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_edgeBO%20%3D%20new%20Vector_a2j_Number(1)%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_localTangent%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_localNormal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_planePoint%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_tangent%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_tangent2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_v11%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.s_v12%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.b2CollidePolyTempVec%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Collision.b2_nullFeature%20%3D%200x000000ff%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2ContactID.b2ContactID%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.features%20%3D%20new%20Features()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactID.prototype.b2ContactID%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.features._m_id%20%3D%20this%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactID.prototype.Set%20%3D%20function%20(id)%20%7B%0A%20%20%20%20%20%20this.key%20%3D%20id._key%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactID.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20id%20%3D%20new%20b2ContactID()%3B%0A%20%20%20%20%20%20id.key%20%3D%20this.key%3B%0A%20%20%20%20%20%20return%20id%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Object.defineProperty(b2ContactID.prototype%2C%20%22key%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20return%20this._key%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(b2ContactID.prototype%2C%20%22key%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._key%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20this.features._referenceEdge%20%3D%20this._key%20%26%200x000000ff%3B%0A%20%20%20%20%20%20%20%20this.features._incidentEdge%20%3D%0A%20%20%20%20%20%20%20%20%20%20((this._key%20%26%200x0000ff00)%20%3E%3E%208)%20%26%200x000000ff%3B%0A%20%20%20%20%20%20%20%20this.features._incidentVertex%20%3D%0A%20%20%20%20%20%20%20%20%20%20((this._key%20%26%200x00ff0000)%20%3E%3E%2016)%20%26%200x000000ff%3B%0A%20%20%20%20%20%20%20%20this.features._flip%20%3D%20((this._key%20%26%200xff000000)%20%3E%3E%2024)%20%26%200x000000ff%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2ContactPoint.b2ContactPoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.velocity%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.id%20%3D%20new%20b2ContactID()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Distance.b2Distance%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Distance.Distance%20%3D%20function%20(output%2C%20cache%2C%20input)%20%7B%0A%20%20%20%20%20%20%2B%2Bb2Distance.b2_gjkCalls%3B%0A%20%20%20%20%20%20var%20proxyA%20%3D%20input.proxyA%3B%0A%20%20%20%20%20%20var%20proxyB%20%3D%20input.proxyB%3B%0A%20%20%20%20%20%20var%20transformA%20%3D%20input.transformA%3B%0A%20%20%20%20%20%20var%20transformB%20%3D%20input.transformB%3B%0A%20%20%20%20%20%20var%20simplex%20%3D%20b2Distance.s_simplex%3B%0A%20%20%20%20%20%20simplex.ReadCache(cache%2C%20proxyA%2C%20transformA%2C%20proxyB%2C%20transformB)%3B%0A%20%20%20%20%20%20var%20vertices%20%3D%20simplex.m_vertices%3B%0A%20%20%20%20%20%20var%20k_maxIters%20%3D%2020%3B%0A%20%20%20%20%20%20var%20saveA%20%3D%20b2Distance.s_saveA%3B%0A%20%20%20%20%20%20var%20saveB%20%3D%20b2Distance.s_saveB%3B%0A%20%20%20%20%20%20var%20saveCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20closestPoint%20%3D%20simplex.GetClosestPoint()%3B%0A%20%20%20%20%20%20var%20distanceSqr1%20%3D%20closestPoint.LengthSquared()%3B%0A%20%20%20%20%20%20var%20distanceSqr2%20%3D%20distanceSqr1%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20p%3B%0A%20%20%20%20%20%20var%20iter%20%3D%200%3B%0A%20%20%20%20%20%20while%20(iter%20%3C%20k_maxIters)%20%7B%0A%20%20%20%20%20%20%20%20saveCount%20%3D%20simplex.m_count%3B%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20saveCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20saveA%5Bi%5D%20%3D%20vertices%5Bi%5D.indexA%3B%0A%20%20%20%20%20%20%20%20%20%20saveB%5Bi%5D%20%3D%20vertices%5Bi%5D.indexB%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20switch%20(simplex.m_count)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20simplex.Solve2()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%203%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20simplex.Solve3()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(simplex.m_count%20%3D%3D%203)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20p%20%3D%20simplex.GetClosestPoint()%3B%0A%20%20%20%20%20%20%20%20distanceSqr2%20%3D%20p.LengthSquared()%3B%0A%20%20%20%20%20%20%20%20if%20(distanceSqr2%20%3E%20distanceSqr1)%20%7B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20distanceSqr1%20%3D%20distanceSqr2%3B%0A%20%20%20%20%20%20%20%20var%20d%20%3D%20simplex.GetSearchDirection()%3B%0A%20%20%20%20%20%20%20%20if%20(d.LengthSquared()%20%3C%20Number.MIN_VALUE%20*%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20vertex%20%3D%20vertices%5Bsimplex.m_count%5D%3B%0A%20%20%20%20%20%20%20%20vertex.indexA%20%3D%20proxyA.GetSupport(%0A%20%20%20%20%20%20%20%20%20%20b2Math.MulTMV(transformA.R%2C%20d.GetNegative())%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20vertex.wA%20%3D%20b2Math.MulX(transformA%2C%20proxyA.GetVertex(vertex.indexA))%3B%0A%20%20%20%20%20%20%20%20vertex.indexB%20%3D%20proxyB.GetSupport(b2Math.MulTMV(transformB.R%2C%20d))%3B%0A%20%20%20%20%20%20%20%20vertex.wB%20%3D%20b2Math.MulX(transformB%2C%20proxyB.GetVertex(vertex.indexB))%3B%0A%20%20%20%20%20%20%20%20vertex.w%20%3D%20b2Math.SubtractVV(vertex.wB%2C%20vertex.wA)%3B%0A%20%20%20%20%20%20%20%20%2B%2Biter%3B%0A%20%20%20%20%20%20%20%20%2B%2Bb2Distance.b2_gjkIters%3B%0A%20%20%20%20%20%20%20%20var%20duplicate%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20saveCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(vertex.indexA%20%3D%3D%20saveA%5Bi%5D%20%26%26%20vertex.indexB%20%3D%3D%20saveB%5Bi%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20duplicate%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(duplicate)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2B%2Bsimplex.m_count%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20b2Distance.b2_gjkMaxIters%20%3D%20b2Math.Max(b2Distance.b2_gjkMaxIters%2C%20iter)%3B%0A%20%20%20%20%20%20simplex.GetWitnessPoints(output.pointA%2C%20output.pointB)%3B%0A%20%20%20%20%20%20output.distance%20%3D%20b2Math.SubtractVV(output.pointA%2C%20output.pointB).Length()%3B%0A%20%20%20%20%20%20output.iterations%20%3D%20iter%3B%0A%20%20%20%20%20%20simplex.WriteCache(cache)%3B%0A%20%20%20%20%20%20if%20(input.useRadii)%20%7B%0A%20%20%20%20%20%20%20%20var%20rA%20%3D%20proxyA.m_radius%3B%0A%20%20%20%20%20%20%20%20var%20rB%20%3D%20proxyB.m_radius%3B%0A%20%20%20%20%20%20%20%20if%20(output.distance%20%3E%20rA%20%2B%20rB%20%26%26%20output.distance%20%3E%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20output.distance%20-%3D%20rA%20%2B%20rB%3B%0A%20%20%20%20%20%20%20%20%20%20var%20normal%20%3D%20b2Math.SubtractVV(output.pointB%2C%20output.pointA)%3B%0A%20%20%20%20%20%20%20%20%20%20normal.Normalize()%3B%0A%20%20%20%20%20%20%20%20%20%20output.pointA.x%20%2B%3D%20rA%20*%20normal.x%3B%0A%20%20%20%20%20%20%20%20%20%20output.pointA.y%20%2B%3D%20rA%20*%20normal.y%3B%0A%20%20%20%20%20%20%20%20%20%20output.pointB.x%20-%3D%20rB%20*%20normal.x%3B%0A%20%20%20%20%20%20%20%20%20%20output.pointB.y%20-%3D%20rB%20*%20normal.y%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20p%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20%20%20p.x%20%3D%200.5%20*%20(output.pointA.x%20%2B%20output.pointB.x)%3B%0A%20%20%20%20%20%20%20%20%20%20p.y%20%3D%200.5%20*%20(output.pointA.y%20%2B%20output.pointB.y)%3B%0A%20%20%20%20%20%20%20%20%20%20output.pointA.x%20%3D%20output.pointB.x%20%3D%20p.x%3B%0A%20%20%20%20%20%20%20%20%20%20output.pointA.y%20%3D%20output.pointB.y%20%3D%20p.y%3B%0A%20%20%20%20%20%20%20%20%20%20output.distance%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.b2Distance.s_simplex%20%3D%20new%20b2Simplex()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Distance.s_saveA%20%3D%20new%20Vector_a2j_Number(3)%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Distance.s_saveB%20%3D%20new%20Vector_a2j_Number(3)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2DistanceInput.b2DistanceInput%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DistanceOutput.b2DistanceOutput%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.pointA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.pointB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceProxy.b2DistanceProxy%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DistanceProxy.prototype.Set%20%3D%20function%20(shape)%20%7B%0A%20%20%20%20%20%20switch%20(shape.GetType())%20%7B%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_circleShape%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20circle%20%3D%20shape%20instanceof%20b2CircleShape%20%3F%20shape%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_vertices%20%3D%20new%20Vector(1%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_vertices%5B0%5D%20%3D%20circle.m_p%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_radius%20%3D%20circle.m_radius%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_polygonShape%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20polygon%20%3D%20shape%20instanceof%20b2PolygonShape%20%3F%20shape%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_vertices%20%3D%20polygon.m_vertices%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_count%20%3D%20polygon.m_vertexCount%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_radius%20%3D%20polygon.m_radius%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceProxy.prototype.GetSupport%20%3D%20function%20(d)%20%7B%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_count%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20bestIndex%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceProxy.prototype.GetSupportVertex%20%3D%20function%20(d)%20%7B%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_count%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this.m_vertices%5BbestIndex%5D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceProxy.prototype.GetVertexCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_count%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceProxy.prototype.GetVertex%20%3D%20function%20(index)%20%7B%0A%20%20%20%20%20%20if%20(index%20%3D%3D%3D%20undefined)%20index%20%3D%200%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(0%20%3C%3D%20index%20%26%26%20index%20%3C%20this.m_count)%3B%0A%20%20%20%20%20%20return%20this.m_vertices%5Bindex%5D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.b2DynamicTree%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.b2DynamicTree%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_root%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_freeList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_path%20%3D%200%3B%0A%20%20%20%20%20%20this.m_insertionCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.CreateProxy%20%3D%20function%20(aabb%2C%20userData)%20%7B%0A%20%20%20%20%20%20var%20node%20%3D%20this.AllocateNode()%3B%0A%20%20%20%20%20%20var%20extendX%20%3D%20b2Settings.b2_aabbExtension%3B%0A%20%20%20%20%20%20var%20extendY%20%3D%20b2Settings.b2_aabbExtension%3B%0A%20%20%20%20%20%20node.aabb.lowerBound.x%20%3D%20aabb.lowerBound.x%20-%20extendX%3B%0A%20%20%20%20%20%20node.aabb.lowerBound.y%20%3D%20aabb.lowerBound.y%20-%20extendY%3B%0A%20%20%20%20%20%20node.aabb.upperBound.x%20%3D%20aabb.upperBound.x%20%2B%20extendX%3B%0A%20%20%20%20%20%20node.aabb.upperBound.y%20%3D%20aabb.upperBound.y%20%2B%20extendY%3B%0A%20%20%20%20%20%20node.userData%20%3D%20userData%3B%0A%20%20%20%20%20%20this.InsertLeaf(node)%3B%0A%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.DestroyProxy%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20this.RemoveLeaf(proxy)%3B%0A%20%20%20%20%20%20this.FreeNode(proxy)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.MoveProxy%20%3D%20function%20(proxy%2C%20aabb%2C%20displacement)%20%7B%0A%20%20%20%20%20%20b2Settings.b2Assert(proxy.IsLeaf())%3B%0A%20%20%20%20%20%20if%20(proxy.aabb.Contains(aabb))%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.RemoveLeaf(proxy)%3B%0A%20%20%20%20%20%20var%20extendX%20%3D%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbExtension%20%2B%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbMultiplier%20*%0A%20%20%20%20%20%20%20%20%20%20(displacement.x%20%3E%200%20%3F%20displacement.x%20%3A%20-displacement.x)%3B%0A%20%20%20%20%20%20var%20extendY%20%3D%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbExtension%20%2B%0A%20%20%20%20%20%20%20%20b2Settings.b2_aabbMultiplier%20*%0A%20%20%20%20%20%20%20%20%20%20(displacement.y%20%3E%200%20%3F%20displacement.y%20%3A%20-displacement.y)%3B%0A%20%20%20%20%20%20proxy.aabb.lowerBound.x%20%3D%20aabb.lowerBound.x%20-%20extendX%3B%0A%20%20%20%20%20%20proxy.aabb.lowerBound.y%20%3D%20aabb.lowerBound.y%20-%20extendY%3B%0A%20%20%20%20%20%20proxy.aabb.upperBound.x%20%3D%20aabb.upperBound.x%20%2B%20extendX%3B%0A%20%20%20%20%20%20proxy.aabb.upperBound.y%20%3D%20aabb.upperBound.y%20%2B%20extendY%3B%0A%20%20%20%20%20%20this.InsertLeaf(proxy)%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.Rebalance%20%3D%20function%20(iterations)%20%7B%0A%20%20%20%20%20%20if%20(iterations%20%3D%3D%3D%20undefined)%20iterations%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20iterations%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20this.m_root%3B%0A%20%20%20%20%20%20%20%20var%20bit%20%3D%200%3B%0A%20%20%20%20%20%20%20%20while%20(node.IsLeaf()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20node%20%3D%20(this.m_path%20%3E%3E%20bit)%20%26%201%20%3F%20node.child2%20%3A%20node.child1%3B%0A%20%20%20%20%20%20%20%20%20%20bit%20%3D%20(bit%20%2B%201)%20%26%2031%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2B%2Bthis.m_path%3B%0A%20%20%20%20%20%20%20%20this.RemoveLeaf(node)%3B%0A%20%20%20%20%20%20%20%20this.InsertLeaf(node)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.GetFatAABB%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20return%20proxy.aabb%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.GetUserData%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20return%20proxy.userData%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.Query%20%3D%20function%20(callback%2C%20aabb)%20%7B%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20var%20stack%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20var%20count%20%3D%200%3B%0A%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20this.m_root%3B%0A%20%20%20%20%20%20while%20(count%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20stack%5B--count%5D%3B%0A%20%20%20%20%20%20%20%20if%20(node.aabb.TestOverlap(aabb))%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(node.IsLeaf())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20proceed%20%3D%20callback(node)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!proceed)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child2%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.RayCast%20%3D%20function%20(callback%2C%20input)%20%7B%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20var%20p1%20%3D%20input.p1%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20input.p2%3B%0A%20%20%20%20%20%20var%20r%20%3D%20b2Math.SubtractVV(p1%2C%20p2)%3B%0A%20%20%20%20%20%20r.Normalize()%3B%0A%20%20%20%20%20%20var%20v%20%3D%20b2Math.CrossFV(1.0%2C%20r)%3B%0A%20%20%20%20%20%20var%20abs_v%20%3D%20b2Math.AbsV(v)%3B%0A%20%20%20%20%20%20var%20maxFraction%20%3D%20input.maxFraction%3B%0A%20%20%20%20%20%20var%20segmentAABB%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20tX%20%3D%20p1.x%20%2B%20maxFraction%20*%20(p2.x%20-%20p1.x)%3B%0A%20%20%20%20%20%20%20%20tY%20%3D%20p1.y%20%2B%20maxFraction%20*%20(p2.y%20-%20p1.y)%3B%0A%20%20%20%20%20%20%20%20segmentAABB.lowerBound.x%20%3D%20Math.min(p1.x%2C%20tX)%3B%0A%20%20%20%20%20%20%20%20segmentAABB.lowerBound.y%20%3D%20Math.min(p1.y%2C%20tY)%3B%0A%20%20%20%20%20%20%20%20segmentAABB.upperBound.x%20%3D%20Math.max(p1.x%2C%20tX)%3B%0A%20%20%20%20%20%20%20%20segmentAABB.upperBound.y%20%3D%20Math.max(p1.y%2C%20tY)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20stack%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20var%20count%20%3D%200%3B%0A%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20this.m_root%3B%0A%20%20%20%20%20%20while%20(count%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20stack%5B--count%5D%3B%0A%20%20%20%20%20%20%20%20if%20(node.aabb.TestOverlap(segmentAABB)%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20node.aabb.GetCenter()%3B%0A%20%20%20%20%20%20%20%20var%20h%20%3D%20node.aabb.GetExtents()%3B%0A%20%20%20%20%20%20%20%20var%20separation%20%3D%0A%20%20%20%20%20%20%20%20%20%20Math.abs(v.x%20*%20(p1.x%20-%20c.x)%20%2B%20v.y%20*%20(p1.y%20-%20c.y))%20-%0A%20%20%20%20%20%20%20%20%20%20abs_v.x%20*%20h.x%20-%0A%20%20%20%20%20%20%20%20%20%20abs_v.y%20*%20h.y%3B%0A%20%20%20%20%20%20%20%20if%20(separation%20%3E%200.0)%20continue%3B%0A%20%20%20%20%20%20%20%20if%20(node.IsLeaf())%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20subInput%20%3D%20new%20b2RayCastInput()%3B%0A%20%20%20%20%20%20%20%20%20%20subInput.p1%20%3D%20input.p1%3B%0A%20%20%20%20%20%20%20%20%20%20subInput.p2%20%3D%20input.p2%3B%0A%20%20%20%20%20%20%20%20%20%20subInput.maxFraction%20%3D%20input.maxFraction%3B%0A%20%20%20%20%20%20%20%20%20%20maxFraction%20%3D%20callback(subInput%2C%20node)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(maxFraction%20%3D%3D%200.0)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(maxFraction%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tX%20%3D%20p1.x%20%2B%20maxFraction%20*%20(p2.x%20-%20p1.x)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tY%20%3D%20p1.y%20%2B%20maxFraction%20*%20(p2.y%20-%20p1.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.lowerBound.x%20%3D%20Math.min(p1.x%2C%20tX)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.lowerBound.y%20%3D%20Math.min(p1.y%2C%20tY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.upperBound.x%20%3D%20Math.max(p1.x%2C%20tX)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20segmentAABB.upperBound.y%20%3D%20Math.max(p1.y%2C%20tY)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child1%3B%0A%20%20%20%20%20%20%20%20%20%20stack%5Bcount%2B%2B%5D%20%3D%20node.child2%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.AllocateNode%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20if%20(this.m_freeList)%20%7B%0A%20%20%20%20%20%20%20%20var%20node%20%3D%20this.m_freeList%3B%0A%20%20%20%20%20%20%20%20this.m_freeList%20%3D%20node.parent%3B%0A%20%20%20%20%20%20%20%20node.parent%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20node.child1%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20node.child2%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20return%20node%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20new%20b2DynamicTreeNode()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.FreeNode%20%3D%20function%20(node)%20%7B%0A%20%20%20%20%20%20node.parent%20%3D%20this.m_freeList%3B%0A%20%20%20%20%20%20this.m_freeList%20%3D%20node%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.InsertLeaf%20%3D%20function%20(leaf)%20%7B%0A%20%20%20%20%20%20%2B%2Bthis.m_insertionCount%3B%0A%20%20%20%20%20%20if%20(this.m_root%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20leaf%3B%0A%20%20%20%20%20%20%20%20this.m_root.parent%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20center%20%3D%20leaf.aabb.GetCenter()%3B%0A%20%20%20%20%20%20var%20sibling%20%3D%20this.m_root%3B%0A%20%20%20%20%20%20if%20(sibling.IsLeaf()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20do%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20child1%20%3D%20sibling.child1%3B%0A%20%20%20%20%20%20%20%20%20%20var%20child2%20%3D%20sibling.child2%3B%0A%20%20%20%20%20%20%20%20%20%20var%20norm1%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child1.aabb.lowerBound.x%20%2B%20child1.aabb.upperBound.x)%20%2F%202%20-%20center.x%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child1.aabb.lowerBound.y%20%2B%20child1.aabb.upperBound.y)%20%2F%202%20-%20center.y%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20norm2%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child2.aabb.lowerBound.x%20%2B%20child2.aabb.upperBound.x)%20%2F%202%20-%20center.x%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20Math.abs(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(child2.aabb.lowerBound.y%20%2B%20child2.aabb.upperBound.y)%20%2F%202%20-%20center.y%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(norm1%20%3C%20norm2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sibling%20%3D%20child1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sibling%20%3D%20child2%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20while%20(sibling.IsLeaf()%20%3D%3D%20false)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20node1%20%3D%20sibling.parent%3B%0A%20%20%20%20%20%20var%20node2%20%3D%20this.AllocateNode()%3B%0A%20%20%20%20%20%20node2.parent%20%3D%20node1%3B%0A%20%20%20%20%20%20node2.userData%20%3D%20null%3B%0A%20%20%20%20%20%20node2.aabb.Combine(leaf.aabb%2C%20sibling.aabb)%3B%0A%20%20%20%20%20%20if%20(node1)%20%7B%0A%20%20%20%20%20%20%20%20if%20(sibling.parent.child1%20%3D%3D%20sibling)%20%7B%0A%20%20%20%20%20%20%20%20%20%20node1.child1%20%3D%20node2%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20node1.child2%20%3D%20node2%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20node2.child1%20%3D%20sibling%3B%0A%20%20%20%20%20%20%20%20node2.child2%20%3D%20leaf%3B%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20node2%3B%0A%20%20%20%20%20%20%20%20leaf.parent%20%3D%20node2%3B%0A%20%20%20%20%20%20%20%20do%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(node1.aabb.Contains(node2.aabb))%20break%3B%0A%20%20%20%20%20%20%20%20%20%20node1.aabb.Combine(node1.child1.aabb%2C%20node1.child2.aabb)%3B%0A%20%20%20%20%20%20%20%20%20%20node2%20%3D%20node1%3B%0A%20%20%20%20%20%20%20%20%20%20node1%20%3D%20node1.parent%3B%0A%20%20%20%20%20%20%20%20%7D%20while%20(node1)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20node2.child1%20%3D%20sibling%3B%0A%20%20%20%20%20%20%20%20node2.child2%20%3D%20leaf%3B%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20node2%3B%0A%20%20%20%20%20%20%20%20leaf.parent%20%3D%20node2%3B%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20node2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTree.prototype.RemoveLeaf%20%3D%20function%20(leaf)%20%7B%0A%20%20%20%20%20%20if%20(leaf%20%3D%3D%20this.m_root)%20%7B%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20node2%20%3D%20leaf.parent%3B%0A%20%20%20%20%20%20var%20node1%20%3D%20node2.parent%3B%0A%20%20%20%20%20%20var%20sibling%3B%0A%20%20%20%20%20%20if%20(node2.child1%20%3D%3D%20leaf)%20%7B%0A%20%20%20%20%20%20%20%20sibling%20%3D%20node2.child2%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20sibling%20%3D%20node2.child1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(node1)%20%7B%0A%20%20%20%20%20%20%20%20if%20(node1.child1%20%3D%3D%20node2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20node1.child1%20%3D%20sibling%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20node1.child2%20%3D%20sibling%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20node1%3B%0A%20%20%20%20%20%20%20%20this.FreeNode(node2)%3B%0A%20%20%20%20%20%20%20%20while%20(node1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20oldAABB%20%3D%20node1.aabb%3B%0A%20%20%20%20%20%20%20%20%20%20node1.aabb%20%3D%20b2AABB.Combine(node1.child1.aabb%2C%20node1.child2.aabb)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(oldAABB.Contains(node1.aabb))%20break%3B%0A%20%20%20%20%20%20%20%20%20%20node1%20%3D%20node1.parent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_root%20%3D%20sibling%3B%0A%20%20%20%20%20%20%20%20sibling.parent%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20this.FreeNode(node2)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.b2DynamicTreeBroadPhase%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_tree%20%3D%20new%20b2DynamicTree()%3B%0A%20%20%20%20%20%20this.m_moveBuffer%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20this.m_pairBuffer%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20this.m_pairCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.CreateProxy%20%3D%20function%20(aabb%2C%20userData)%20%7B%0A%20%20%20%20%20%20var%20proxy%20%3D%20this.m_tree.CreateProxy(aabb%2C%20userData)%3B%0A%20%20%20%20%20%20%2B%2Bthis.m_proxyCount%3B%0A%20%20%20%20%20%20this.BufferMove(proxy)%3B%0A%20%20%20%20%20%20return%20proxy%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.DestroyProxy%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20this.UnBufferMove(proxy)%3B%0A%20%20%20%20%20%20--this.m_proxyCount%3B%0A%20%20%20%20%20%20this.m_tree.DestroyProxy(proxy)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.MoveProxy%20%3D%20function%20(%0A%20%20%20%20%20%20proxy%2C%0A%20%20%20%20%20%20aabb%2C%0A%20%20%20%20%20%20displacement%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20var%20buffer%20%3D%20this.m_tree.MoveProxy(proxy%2C%20aabb%2C%20displacement)%3B%0A%20%20%20%20%20%20if%20(buffer)%20%7B%0A%20%20%20%20%20%20%20%20this.BufferMove(proxy)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.TestOverlap%20%3D%20function%20(proxyA%2C%20proxyB)%20%7B%0A%20%20%20%20%20%20var%20aabbA%20%3D%20this.m_tree.GetFatAABB(proxyA)%3B%0A%20%20%20%20%20%20var%20aabbB%20%3D%20this.m_tree.GetFatAABB(proxyB)%3B%0A%20%20%20%20%20%20return%20aabbA.TestOverlap(aabbB)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.GetUserData%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20return%20this.m_tree.GetUserData(proxy)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.GetFatAABB%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20return%20this.m_tree.GetFatAABB(proxy)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.GetProxyCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_proxyCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.UpdatePairs%20%3D%20function%20(callback)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20__this.m_pairCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%2C%0A%20%20%20%20%20%20%20%20queryProxy%3B%0A%20%20%20%20%20%20function%20QueryCallback(proxy)%20%7B%0A%20%20%20%20%20%20%20%20if%20(proxy%20%3D%3D%20queryProxy)%20return%20true%3B%0A%20%20%20%20%20%20%20%20if%20(__this.m_pairCount%20%3D%3D%20__this.m_pairBuffer.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20__this.m_pairBuffer%5B__this.m_pairCount%5D%20%3D%20new%20b2DynamicTreePair()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20pair%20%3D%20__this.m_pairBuffer%5B__this.m_pairCount%5D%3B%0A%20%20%20%20%20%20%20%20pair.proxyA%20%3D%20proxy%20%3C%20queryProxy%20%3F%20proxy%20%3A%20queryProxy%3B%0A%20%20%20%20%20%20%20%20pair.proxyB%20%3D%20proxy%20%3E%3D%20queryProxy%20%3F%20proxy%20%3A%20queryProxy%3B%0A%20%20%20%20%20%20%20%20%2B%2B__this.m_pairCount%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20__this.m_moveBuffer.length%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20queryProxy%20%3D%20__this.m_moveBuffer%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20fatAABB%20%3D%20__this.m_tree.GetFatAABB(queryProxy)%3B%0A%20%20%20%20%20%20%20%20__this.m_tree.Query(QueryCallback%2C%20fatAABB)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20__this.m_moveBuffer.length%20%3D%200%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20__this.m_pairCount%3B%20)%20%7B%0A%20%20%20%20%20%20%20%20var%20primaryPair%20%3D%20__this.m_pairBuffer%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20userDataA%20%3D%20__this.m_tree.GetUserData(primaryPair.proxyA)%3B%0A%20%20%20%20%20%20%20%20var%20userDataB%20%3D%20__this.m_tree.GetUserData(primaryPair.proxyB)%3B%0A%20%20%20%20%20%20%20%20callback(userDataA%2C%20userDataB)%3B%0A%20%20%20%20%20%20%20%20%2B%2Bi%3B%0A%20%20%20%20%20%20%20%20while%20(i%20%3C%20__this.m_pairCount)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20pair%20%3D%20__this.m_pairBuffer%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20pair.proxyA%20!%3D%20primaryPair.proxyA%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20pair.proxyB%20!%3D%20primaryPair.proxyB%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.Query%20%3D%20function%20(callback%2C%20aabb)%20%7B%0A%20%20%20%20%20%20this.m_tree.Query(callback%2C%20aabb)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.RayCast%20%3D%20function%20(callback%2C%20input)%20%7B%0A%20%20%20%20%20%20this.m_tree.RayCast(callback%2C%20input)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.Validate%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.Rebalance%20%3D%20function%20(iterations)%20%7B%0A%20%20%20%20%20%20if%20(iterations%20%3D%3D%3D%20undefined)%20iterations%20%3D%200%3B%0A%20%20%20%20%20%20this.m_tree.Rebalance(iterations)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.BufferMove%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20this.m_moveBuffer%5Bthis.m_moveBuffer.length%5D%20%3D%20proxy%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.UnBufferMove%20%3D%20function%20(proxy)%20%7B%0A%20%20%20%20%20%20var%20i%20%3D%20parseInt(this.m_moveBuffer.indexOf(proxy))%3B%0A%20%20%20%20%20%20this.m_moveBuffer.splice(i%2C%201)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.prototype.ComparePairs%20%3D%20function%20(pair1%2C%20pair2)%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.__implements%20%3D%20%7B%7D%3B%0A%20%20%20%20b2DynamicTreeBroadPhase.__implements%5BIBroadPhase%5D%20%3D%20true%3B%0A%20%20%20%20b2DynamicTreeNode.b2DynamicTreeNode%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.aabb%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreeNode.prototype.IsLeaf%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.child1%20%3D%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DynamicTreePair.b2DynamicTreePair%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Manifold.b2Manifold%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_pointCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Manifold.prototype.b2Manifold%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.m_points%5Bi%5D%20%3D%20new%20b2ManifoldPoint()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_localPlaneNormal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localPoint%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Manifold.prototype.Reset%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20(this.m_points%5Bi%5D%20instanceof%20b2ManifoldPoint%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_points%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%0A%20%20%20%20%20%20%20%20).Reset()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_localPlaneNormal.SetZero()%3B%0A%20%20%20%20%20%20this.m_localPoint.SetZero()%3B%0A%20%20%20%20%20%20this.m_type%20%3D%200%3B%0A%20%20%20%20%20%20this.m_pointCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Manifold.prototype.Set%20%3D%20function%20(m)%20%7B%0A%20%20%20%20%20%20this.m_pointCount%20%3D%20m.m_pointCount%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20(this.m_points%5Bi%5D%20instanceof%20b2ManifoldPoint%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_points%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%0A%20%20%20%20%20%20%20%20).Set(m.m_points%5Bi%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_localPlaneNormal.SetV(m.m_localPlaneNormal)%3B%0A%20%20%20%20%20%20this.m_localPoint.SetV(m.m_localPoint)%3B%0A%20%20%20%20%20%20this.m_type%20%3D%20m.m_type%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Manifold.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20copy%20%3D%20new%20b2Manifold()%3B%0A%20%20%20%20%20%20copy.Set(this)%3B%0A%20%20%20%20%20%20return%20copy%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.b2Manifold.e_circles%20%3D%200x0001%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Manifold.e_faceA%20%3D%200x0002%3B%0A%20%20%20%20%20%20Box2D.Collision.b2Manifold.e_faceB%20%3D%200x0004%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2ManifoldPoint.b2ManifoldPoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_localPoint%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_id%20%3D%20new%20b2ContactID()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ManifoldPoint.prototype.b2ManifoldPoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.Reset()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ManifoldPoint.prototype.Reset%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_localPoint.SetZero()%3B%0A%20%20%20%20%20%20this.m_normalImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_tangentImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_id.key%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ManifoldPoint.prototype.Set%20%3D%20function%20(m)%20%7B%0A%20%20%20%20%20%20this.m_localPoint.SetV(m.m_localPoint)%3B%0A%20%20%20%20%20%20this.m_normalImpulse%20%3D%20m.m_normalImpulse%3B%0A%20%20%20%20%20%20this.m_tangentImpulse%20%3D%20m.m_tangentImpulse%3B%0A%20%20%20%20%20%20this.m_id.Set(m.m_id)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Point.b2Point%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.p%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Point.prototype.Support%20%3D%20function%20(xf%2C%20vX%2C%20vY)%20%7B%0A%20%20%20%20%20%20if%20(vX%20%3D%3D%3D%20undefined)%20vX%20%3D%200%3B%0A%20%20%20%20%20%20if%20(vY%20%3D%3D%3D%20undefined)%20vY%20%3D%200%3B%0A%20%20%20%20%20%20return%20this.p%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Point.prototype.GetFirstVertex%20%3D%20function%20(xf)%20%7B%0A%20%20%20%20%20%20return%20this.p%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RayCastInput.b2RayCastInput%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.p1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.p2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RayCastInput.prototype.b2RayCastInput%20%3D%20function%20(p1%2C%20p2%2C%20maxFraction)%20%7B%0A%20%20%20%20%20%20if%20(p1%20%3D%3D%3D%20undefined)%20p1%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(p2%20%3D%3D%3D%20undefined)%20p2%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(maxFraction%20%3D%3D%3D%20undefined)%20maxFraction%20%3D%201%3B%0A%20%20%20%20%20%20if%20(p1)%20this.p1.SetV(p1)%3B%0A%20%20%20%20%20%20if%20(p2)%20this.p2.SetV(p2)%3B%0A%20%20%20%20%20%20this.maxFraction%20%3D%20maxFraction%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RayCastOutput.b2RayCastOutput%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Segment.b2Segment%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.p1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.p2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Segment.prototype.TestSegment%20%3D%20function%20(%0A%20%20%20%20%20%20lambda%2C%0A%20%20%20%20%20%20normal%2C%0A%20%20%20%20%20%20segment%2C%0A%20%20%20%20%20%20maxLambda%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(maxLambda%20%3D%3D%3D%20undefined)%20maxLambda%20%3D%200%3B%0A%20%20%20%20%20%20var%20s%20%3D%20segment.p1%3B%0A%20%20%20%20%20%20var%20rX%20%3D%20segment.p2.x%20-%20s.x%3B%0A%20%20%20%20%20%20var%20rY%20%3D%20segment.p2.y%20-%20s.y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20this.p2.x%20-%20this.p1.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20this.p2.y%20-%20this.p1.y%3B%0A%20%20%20%20%20%20var%20nX%20%3D%20dY%3B%0A%20%20%20%20%20%20var%20nY%20%3D%20-dX%3B%0A%20%20%20%20%20%20var%20k_slop%20%3D%20100.0%20*%20Number.MIN_VALUE%3B%0A%20%20%20%20%20%20var%20denom%20%3D%20-(rX%20*%20nX%20%2B%20rY%20*%20nY)%3B%0A%20%20%20%20%20%20if%20(denom%20%3E%20k_slop)%20%7B%0A%20%20%20%20%20%20%20%20var%20bX%20%3D%20s.x%20-%20this.p1.x%3B%0A%20%20%20%20%20%20%20%20var%20bY%20%3D%20s.y%20-%20this.p1.y%3B%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20bX%20*%20nX%20%2B%20bY%20*%20nY%3B%0A%20%20%20%20%20%20%20%20if%20(0.0%20%3C%3D%20a%20%26%26%20a%20%3C%3D%20maxLambda%20*%20denom)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20mu2%20%3D%20-rX%20*%20bY%20%2B%20rY%20*%20bX%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(-k_slop%20*%20denom%20%3C%3D%20mu2%20%26%26%20mu2%20%3C%3D%20denom%20*%20(1.0%20%2B%20k_slop))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%2F%3D%20denom%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20nLen%20%3D%20Math.sqrt(nX%20*%20nX%20%2B%20nY%20*%20nY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nX%20%2F%3D%20nLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nY%20%2F%3D%20nLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lambda%5B0%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normal.Set(nX%2C%20nY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Segment.prototype.Extend%20%3D%20function%20(aabb)%20%7B%0A%20%20%20%20%20%20this.ExtendForward(aabb)%3B%0A%20%20%20%20%20%20this.ExtendBackward(aabb)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Segment.prototype.ExtendForward%20%3D%20function%20(aabb)%20%7B%0A%20%20%20%20%20%20var%20dX%20%3D%20this.p2.x%20-%20this.p1.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20this.p2.y%20-%20this.p1.y%3B%0A%20%20%20%20%20%20var%20lambda%20%3D%20Math.min(%0A%20%20%20%20%20%20%20%20dX%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.x%20-%20this.p1.x)%20%2F%20dX%0A%20%20%20%20%20%20%20%20%20%20%3A%20dX%20%3C%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.x%20-%20this.p1.x)%20%2F%20dX%0A%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%2C%0A%20%20%20%20%20%20%20%20dY%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.y%20-%20this.p1.y)%20%2F%20dY%0A%20%20%20%20%20%20%20%20%20%20%3A%20dY%20%3C%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.y%20-%20this.p1.y)%20%2F%20dY%0A%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.p2.x%20%3D%20this.p1.x%20%2B%20dX%20*%20lambda%3B%0A%20%20%20%20%20%20this.p2.y%20%3D%20this.p1.y%20%2B%20dY%20*%20lambda%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Segment.prototype.ExtendBackward%20%3D%20function%20(aabb)%20%7B%0A%20%20%20%20%20%20var%20dX%20%3D%20-this.p2.x%20%2B%20this.p1.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20-this.p2.y%20%2B%20this.p1.y%3B%0A%20%20%20%20%20%20var%20lambda%20%3D%20Math.min(%0A%20%20%20%20%20%20%20%20dX%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.x%20-%20this.p2.x)%20%2F%20dX%0A%20%20%20%20%20%20%20%20%20%20%3A%20dX%20%3C%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.x%20-%20this.p2.x)%20%2F%20dX%0A%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%2C%0A%20%20%20%20%20%20%20%20dY%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.upperBound.y%20-%20this.p2.y)%20%2F%20dY%0A%20%20%20%20%20%20%20%20%20%20%3A%20dY%20%3C%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20(aabb.lowerBound.y%20-%20this.p2.y)%20%2F%20dY%0A%20%20%20%20%20%20%20%20%20%20%3A%20Number.POSITIVE_INFINITY%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.p1.x%20%3D%20this.p2.x%20%2B%20dX%20*%20lambda%3B%0A%20%20%20%20%20%20this.p1.y%20%3D%20this.p2.y%20%2B%20dY%20*%20lambda%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2SeparationFunction.b2SeparationFunction%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_localPoint%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_axis%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2SeparationFunction.prototype.Initialize%20%3D%20function%20(%0A%20%20%20%20%20%20cache%2C%0A%20%20%20%20%20%20proxyA%2C%0A%20%20%20%20%20%20transformA%2C%0A%20%20%20%20%20%20proxyB%2C%0A%20%20%20%20%20%20transformB%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20this.m_proxyA%20%3D%20proxyA%3B%0A%20%20%20%20%20%20this.m_proxyB%20%3D%20proxyB%3B%0A%20%20%20%20%20%20var%20count%20%3D%20parseInt(cache.count)%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(0%20%3C%20count%20%26%26%20count%20%3C%203)%3B%0A%20%20%20%20%20%20var%20localPointA%3B%0A%20%20%20%20%20%20var%20localPointA1%3B%0A%20%20%20%20%20%20var%20localPointA2%3B%0A%20%20%20%20%20%20var%20localPointB%3B%0A%20%20%20%20%20%20var%20localPointB1%3B%0A%20%20%20%20%20%20var%20localPointB2%3B%0A%20%20%20%20%20%20var%20pointAX%20%3D%200%3B%0A%20%20%20%20%20%20var%20pointAY%20%3D%200%3B%0A%20%20%20%20%20%20var%20pointBX%20%3D%200%3B%0A%20%20%20%20%20%20var%20pointBY%20%3D%200%3B%0A%20%20%20%20%20%20var%20normalX%20%3D%200%3B%0A%20%20%20%20%20%20var%20normalY%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20s%20%3D%200%3B%0A%20%20%20%20%20%20var%20sgn%20%3D%200%3B%0A%20%20%20%20%20%20if%20(count%20%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_points%3B%0A%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointA%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointB%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20this.m_axis.x%20%3D%20pointBX%20-%20pointAX%3B%0A%20%20%20%20%20%20%20%20this.m_axis.y%20%3D%20pointBY%20-%20pointAY%3B%0A%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(cache.indexB%5B0%5D%20%3D%3D%20cache.indexB%5B1%5D)%20%7B%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceA%3B%0A%20%20%20%20%20%20%20%20localPointA1%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20localPointA2%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20this.m_localPoint.x%20%3D%200.5%20*%20(localPointA1.x%20%2B%20localPointA2.x)%3B%0A%20%20%20%20%20%20%20%20this.m_localPoint.y%20%3D%200.5%20*%20(localPointA1.y%20%2B%20localPointA2.y)%3B%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointA2%2C%20localPointA1)%2C%0A%20%20%20%20%20%20%20%20%20%201.0%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointB%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20s%20%3D%20(pointBX%20-%20pointAX)%20*%20normalX%20%2B%20(pointBY%20-%20pointAY)%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20(cache.indexA%5B0%5D%20%3D%3D%20cache.indexA%5B0%5D)%20%7B%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceB%3B%0A%20%20%20%20%20%20%20%20localPointB1%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20localPointB2%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20this.m_localPoint.x%20%3D%200.5%20*%20(localPointB1.x%20%2B%20localPointB2.x)%3B%0A%20%20%20%20%20%20%20%20this.m_localPoint.y%20%3D%200.5%20*%20(localPointB1.y%20%2B%20localPointB2.y)%3B%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointB2%2C%20localPointB1)%2C%0A%20%20%20%20%20%20%20%20%20%201.0%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20localPointA%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20s%20%3D%20(pointAX%20-%20pointBX)%20*%20normalX%20%2B%20(pointAY%20-%20pointBY)%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20localPointA1%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20localPointA2%20%3D%20this.m_proxyA.GetVertex(cache.indexA%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20localPointB1%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20localPointB2%20%3D%20this.m_proxyB.GetVertex(cache.indexB%5B1%5D)%3B%0A%20%20%20%20%20%20%20%20var%20pA%20%3D%20b2Math.MulX(transformA%2C%20localPointA)%3B%0A%20%20%20%20%20%20%20%20var%20dA%20%3D%20b2Math.MulMV(%0A%20%20%20%20%20%20%20%20%20%20transformA.R%2C%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointA2%2C%20localPointA1)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20pB%20%3D%20b2Math.MulX(transformB%2C%20localPointB)%3B%0A%20%20%20%20%20%20%20%20var%20dB%20%3D%20b2Math.MulMV(%0A%20%20%20%20%20%20%20%20%20%20transformB.R%2C%0A%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointB2%2C%20localPointB1)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20dA.x%20*%20dA.x%20%2B%20dA.y%20*%20dA.y%3B%0A%20%20%20%20%20%20%20%20var%20e%20%3D%20dB.x%20*%20dB.x%20%2B%20dB.y%20*%20dB.y%3B%0A%20%20%20%20%20%20%20%20var%20r%20%3D%20b2Math.SubtractVV(dB%2C%20dA)%3B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20dA.x%20*%20r.x%20%2B%20dA.y%20*%20r.y%3B%0A%20%20%20%20%20%20%20%20var%20f%20%3D%20dB.x%20*%20r.x%20%2B%20dB.y%20*%20r.y%3B%0A%20%20%20%20%20%20%20%20var%20b%20%3D%20dA.x%20*%20dB.x%20%2B%20dA.y%20*%20dB.y%3B%0A%20%20%20%20%20%20%20%20var%20denom%20%3D%20a%20*%20e%20-%20b%20*%20b%3B%0A%20%20%20%20%20%20%20%20s%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20if%20(denom%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20b2Math.Clamp((b%20*%20f%20-%20c%20*%20e)%20%2F%20denom%2C%200.0%2C%201.0)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20t%20%3D%20(b%20*%20s%20%2B%20f)%20%2F%20e%3B%0A%20%20%20%20%20%20%20%20if%20(t%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20t%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20b2Math.Clamp((b%20-%20c)%20%2F%20a%2C%200.0%2C%201.0)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20localPointA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20localPointA.x%20%3D%20localPointA1.x%20%2B%20s%20*%20(localPointA2.x%20-%20localPointA1.x)%3B%0A%20%20%20%20%20%20%20%20localPointA.y%20%3D%20localPointA1.y%20%2B%20s%20*%20(localPointA2.y%20-%20localPointA1.y)%3B%0A%20%20%20%20%20%20%20%20localPointB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20localPointB.x%20%3D%20localPointB1.x%20%2B%20s%20*%20(localPointB2.x%20-%20localPointB1.x)%3B%0A%20%20%20%20%20%20%20%20localPointB.y%20%3D%20localPointB1.y%20%2B%20s%20*%20(localPointB2.y%20-%20localPointB1.y)%3B%0A%20%20%20%20%20%20%20%20if%20(s%20%3D%3D%200.0%20%7C%7C%20s%20%3D%3D%201.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceB%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointB2%2C%20localPointB1)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%201.0%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.Normalize()%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_localPoint%20%3D%20localPointB%3B%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20%20%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20localPointA%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20%20%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20sgn%20%3D%20(pointAX%20-%20pointBX)%20*%20normalX%20%2B%20(pointAY%20-%20pointBY)%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_type%20%3D%20b2SeparationFunction.e_faceA%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.CrossVF(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(localPointA2%2C%20localPointA1)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%201.0%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_localPoint%20%3D%20localPointA%3B%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_axis%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformA.R%3B%0A%20%20%20%20%20%20%20%20%20%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformA.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20localPointB%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20transformB.R%3B%0A%20%20%20%20%20%20%20%20%20%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20transformB.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20sgn%20%3D%20(pointBX%20-%20pointAX)%20*%20normalX%20%2B%20(pointBY%20-%20pointAY)%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(s%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_axis.NegativeSelf()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2SeparationFunction.prototype.Evaluate%20%3D%20function%20(transformA%2C%20transformB)%20%7B%0A%20%20%20%20%20%20var%20axisA%3B%0A%20%20%20%20%20%20var%20axisB%3B%0A%20%20%20%20%20%20var%20localPointA%3B%0A%20%20%20%20%20%20var%20localPointB%3B%0A%20%20%20%20%20%20var%20pointA%3B%0A%20%20%20%20%20%20var%20pointB%3B%0A%20%20%20%20%20%20var%20seperation%20%3D%200%3B%0A%20%20%20%20%20%20var%20normal%3B%0A%20%20%20%20%20%20switch%20(this.m_type)%20%7B%0A%20%20%20%20%20%20%20%20case%20b2SeparationFunction.e_points%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20axisA%20%3D%20b2Math.MulTMV(transformA.R%2C%20this.m_axis)%3B%0A%20%20%20%20%20%20%20%20%20%20axisB%20%3D%20b2Math.MulTMV(transformB.R%2C%20this.m_axis.GetNegative())%3B%0A%20%20%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetSupportVertex(axisA)%3B%0A%20%20%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetSupportVertex(axisB)%3B%0A%20%20%20%20%20%20%20%20%20%20pointA%20%3D%20b2Math.MulX(transformA%2C%20localPointA)%3B%0A%20%20%20%20%20%20%20%20%20%20pointB%20%3D%20b2Math.MulX(transformB%2C%20localPointB)%3B%0A%20%20%20%20%20%20%20%20%20%20seperation%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointB.x%20-%20pointA.x)%20*%20this.m_axis.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointB.y%20-%20pointA.y)%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20%20%20return%20seperation%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20b2SeparationFunction.e_faceA%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20normal%20%3D%20b2Math.MulMV(transformA.R%2C%20this.m_axis)%3B%0A%20%20%20%20%20%20%20%20%20%20pointA%20%3D%20b2Math.MulX(transformA%2C%20this.m_localPoint)%3B%0A%20%20%20%20%20%20%20%20%20%20axisB%20%3D%20b2Math.MulTMV(transformB.R%2C%20normal.GetNegative())%3B%0A%20%20%20%20%20%20%20%20%20%20localPointB%20%3D%20this.m_proxyB.GetSupportVertex(axisB)%3B%0A%20%20%20%20%20%20%20%20%20%20pointB%20%3D%20b2Math.MulX(transformB%2C%20localPointB)%3B%0A%20%20%20%20%20%20%20%20%20%20seperation%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointB.x%20-%20pointA.x)%20*%20normal.x%20%2B%20(pointB.y%20-%20pointA.y)%20*%20normal.y%3B%0A%20%20%20%20%20%20%20%20%20%20return%20seperation%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20case%20b2SeparationFunction.e_faceB%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20normal%20%3D%20b2Math.MulMV(transformB.R%2C%20this.m_axis)%3B%0A%20%20%20%20%20%20%20%20%20%20pointB%20%3D%20b2Math.MulX(transformB%2C%20this.m_localPoint)%3B%0A%20%20%20%20%20%20%20%20%20%20axisA%20%3D%20b2Math.MulTMV(transformA.R%2C%20normal.GetNegative())%3B%0A%20%20%20%20%20%20%20%20%20%20localPointA%20%3D%20this.m_proxyA.GetSupportVertex(axisA)%3B%0A%20%20%20%20%20%20%20%20%20%20pointA%20%3D%20b2Math.MulX(transformA%2C%20localPointA)%3B%0A%20%20%20%20%20%20%20%20%20%20seperation%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20(pointA.x%20-%20pointB.x)%20*%20normal.x%20%2B%20(pointA.y%20-%20pointB.y)%20*%20normal.y%3B%0A%20%20%20%20%20%20%20%20%20%20return%20seperation%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.b2SeparationFunction.e_points%20%3D%200x01%3B%0A%20%20%20%20%20%20Box2D.Collision.b2SeparationFunction.e_faceA%20%3D%200x02%3B%0A%20%20%20%20%20%20Box2D.Collision.b2SeparationFunction.e_faceB%20%3D%200x04%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2Simplex.b2Simplex%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_v1%20%3D%20new%20b2SimplexVertex()%3B%0A%20%20%20%20%20%20this.m_v2%20%3D%20new%20b2SimplexVertex()%3B%0A%20%20%20%20%20%20this.m_v3%20%3D%20new%20b2SimplexVertex()%3B%0A%20%20%20%20%20%20this.m_vertices%20%3D%20new%20Vector(3)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.b2Simplex%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_vertices%5B0%5D%20%3D%20this.m_v1%3B%0A%20%20%20%20%20%20this.m_vertices%5B1%5D%20%3D%20this.m_v2%3B%0A%20%20%20%20%20%20this.m_vertices%5B2%5D%20%3D%20this.m_v3%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.ReadCache%20%3D%20function%20(%0A%20%20%20%20%20%20cache%2C%0A%20%20%20%20%20%20proxyA%2C%0A%20%20%20%20%20%20transformA%2C%0A%20%20%20%20%20%20proxyB%2C%0A%20%20%20%20%20%20transformB%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20b2Settings.b2Assert(0%20%3C%3D%20cache.count%20%26%26%20cache.count%20%3C%3D%203)%3B%0A%20%20%20%20%20%20var%20wALocal%3B%0A%20%20%20%20%20%20var%20wBLocal%3B%0A%20%20%20%20%20%20this.m_count%20%3D%20cache.count%3B%0A%20%20%20%20%20%20var%20vertices%20%3D%20this.m_vertices%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_count%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20var%20v%20%3D%20vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20v.indexA%20%3D%20cache.indexA%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20v.indexB%20%3D%20cache.indexB%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20wALocal%20%3D%20proxyA.GetVertex(v.indexA)%3B%0A%20%20%20%20%20%20%20%20wBLocal%20%3D%20proxyB.GetVertex(v.indexB)%3B%0A%20%20%20%20%20%20%20%20v.wA%20%3D%20b2Math.MulX(transformA%2C%20wALocal)%3B%0A%20%20%20%20%20%20%20%20v.wB%20%3D%20b2Math.MulX(transformB%2C%20wBLocal)%3B%0A%20%20%20%20%20%20%20%20v.w%20%3D%20b2Math.SubtractVV(v.wB%2C%20v.wA)%3B%0A%20%20%20%20%20%20%20%20v.a%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_count%20%3E%201)%20%7B%0A%20%20%20%20%20%20%20%20var%20metric1%20%3D%20cache.metric%3B%0A%20%20%20%20%20%20%20%20var%20metric2%20%3D%20this.GetMetric()%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20metric2%20%3C%200.5%20*%20metric1%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20metric1%20%3C%20metric2%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20metric2%20%3C%20Number.MIN_VALUE%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_count%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_count%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20v%20%3D%20vertices%5B0%5D%3B%0A%20%20%20%20%20%20%20%20v.indexA%20%3D%200%3B%0A%20%20%20%20%20%20%20%20v.indexB%20%3D%200%3B%0A%20%20%20%20%20%20%20%20wALocal%20%3D%20proxyA.GetVertex(0)%3B%0A%20%20%20%20%20%20%20%20wBLocal%20%3D%20proxyB.GetVertex(0)%3B%0A%20%20%20%20%20%20%20%20v.wA%20%3D%20b2Math.MulX(transformA%2C%20wALocal)%3B%0A%20%20%20%20%20%20%20%20v.wB%20%3D%20b2Math.MulX(transformB%2C%20wBLocal)%3B%0A%20%20%20%20%20%20%20%20v.w%20%3D%20b2Math.SubtractVV(v.wB%2C%20v.wA)%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.WriteCache%20%3D%20function%20(cache)%20%7B%0A%20%20%20%20%20%20cache.metric%20%3D%20this.GetMetric()%3B%0A%20%20%20%20%20%20cache.count%20%3D%20Box2D.parseUInt(this.m_count)%3B%0A%20%20%20%20%20%20var%20vertices%20%3D%20this.m_vertices%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_count%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20cache.indexA%5Bi%5D%20%3D%20Box2D.parseUInt(vertices%5Bi%5D.indexA)%3B%0A%20%20%20%20%20%20%20%20cache.indexB%5Bi%5D%20%3D%20Box2D.parseUInt(vertices%5Bi%5D.indexB)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.GetSearchDirection%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0A%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.m_v1.w.GetNegative()%3B%0A%20%20%20%20%20%20%20%20case%202%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20e12%20%3D%20b2Math.SubtractVV(this.m_v2.w%2C%20this.m_v1.w)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20sgn%20%3D%20b2Math.CrossVV(e12%2C%20this.m_v1.w.GetNegative())%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(sgn%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20b2Math.CrossFV(1.0%2C%20e12)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20b2Math.CrossVF(e12%2C%201.0)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.GetClosestPoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0A%20%20%20%20%20%20%20%20case%200%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20return%20this.m_v1.w%3B%0A%20%20%20%20%20%20%20%20case%202%3A%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.w.x%20%2B%20this.m_v2.a%20*%20this.m_v2.w.x%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.w.y%20%2B%20this.m_v2.a%20*%20this.m_v2.w.y%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.GetWitnessPoints%20%3D%20function%20(pA%2C%20pB)%20%7B%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0A%20%20%20%20%20%20%20%20case%200%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20pA.SetV(this.m_v1.wA)%3B%0A%20%20%20%20%20%20%20%20%20%20pB.SetV(this.m_v1.wB)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%202%3A%0A%20%20%20%20%20%20%20%20%20%20pA.x%20%3D%20this.m_v1.a%20*%20this.m_v1.wA.x%20%2B%20this.m_v2.a%20*%20this.m_v2.wA.x%3B%0A%20%20%20%20%20%20%20%20%20%20pA.y%20%3D%20this.m_v1.a%20*%20this.m_v1.wA.y%20%2B%20this.m_v2.a%20*%20this.m_v2.wA.y%3B%0A%20%20%20%20%20%20%20%20%20%20pB.x%20%3D%20this.m_v1.a%20*%20this.m_v1.wB.x%20%2B%20this.m_v2.a%20*%20this.m_v2.wB.x%3B%0A%20%20%20%20%20%20%20%20%20%20pB.y%20%3D%20this.m_v1.a%20*%20this.m_v1.wB.y%20%2B%20this.m_v2.a%20*%20this.m_v2.wB.y%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%203%3A%0A%20%20%20%20%20%20%20%20%20%20pB.x%20%3D%20pA.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.wA.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v2.a%20*%20this.m_v2.wA.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v3.a%20*%20this.m_v3.wA.x%3B%0A%20%20%20%20%20%20%20%20%20%20pB.y%20%3D%20pA.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v1.a%20*%20this.m_v1.wA.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v2.a%20*%20this.m_v2.wA.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_v3.a%20*%20this.m_v3.wA.y%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.GetMetric%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20switch%20(this.m_count)%20%7B%0A%20%20%20%20%20%20%20%20case%200%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%20%20%20%20case%202%3A%0A%20%20%20%20%20%20%20%20%20%20return%20b2Math.SubtractVV(this.m_v1.w%2C%20this.m_v2.w).Length()%3B%0A%20%20%20%20%20%20%20%20case%203%3A%0A%20%20%20%20%20%20%20%20%20%20return%20b2Math.CrossVV(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(this.m_v2.w%2C%20this.m_v1.w)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.SubtractVV(this.m_v3.w%2C%20this.m_v1.w)%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(false)%3B%0A%20%20%20%20%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.Solve2%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20w1%20%3D%20this.m_v1.w%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20this.m_v2.w%3B%0A%20%20%20%20%20%20var%20e12%20%3D%20b2Math.SubtractVV(w2%2C%20w1)%3B%0A%20%20%20%20%20%20var%20d12_2%20%3D%20-(w1.x%20*%20e12.x%20%2B%20w1.y%20*%20e12.y)%3B%0A%20%20%20%20%20%20if%20(d12_2%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20d12_1%20%3D%20w2.x%20*%20e12.x%20%2B%20w2.y%20*%20e12.y%3B%0A%20%20%20%20%20%20if%20(d12_1%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v2)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20inv_d12%20%3D%201.0%20%2F%20(d12_1%20%2B%20d12_2)%3B%0A%20%20%20%20%20%20this.m_v1.a%20%3D%20d12_1%20*%20inv_d12%3B%0A%20%20%20%20%20%20this.m_v2.a%20%3D%20d12_2%20*%20inv_d12%3B%0A%20%20%20%20%20%20this.m_count%20%3D%202%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Simplex.prototype.Solve3%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20w1%20%3D%20this.m_v1.w%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20this.m_v2.w%3B%0A%20%20%20%20%20%20var%20w3%20%3D%20this.m_v3.w%3B%0A%20%20%20%20%20%20var%20e12%20%3D%20b2Math.SubtractVV(w2%2C%20w1)%3B%0A%20%20%20%20%20%20var%20w1e12%20%3D%20b2Math.Dot(w1%2C%20e12)%3B%0A%20%20%20%20%20%20var%20w2e12%20%3D%20b2Math.Dot(w2%2C%20e12)%3B%0A%20%20%20%20%20%20var%20d12_1%20%3D%20w2e12%3B%0A%20%20%20%20%20%20var%20d12_2%20%3D%20-w1e12%3B%0A%20%20%20%20%20%20var%20e13%20%3D%20b2Math.SubtractVV(w3%2C%20w1)%3B%0A%20%20%20%20%20%20var%20w1e13%20%3D%20b2Math.Dot(w1%2C%20e13)%3B%0A%20%20%20%20%20%20var%20w3e13%20%3D%20b2Math.Dot(w3%2C%20e13)%3B%0A%20%20%20%20%20%20var%20d13_1%20%3D%20w3e13%3B%0A%20%20%20%20%20%20var%20d13_2%20%3D%20-w1e13%3B%0A%20%20%20%20%20%20var%20e23%20%3D%20b2Math.SubtractVV(w3%2C%20w2)%3B%0A%20%20%20%20%20%20var%20w2e23%20%3D%20b2Math.Dot(w2%2C%20e23)%3B%0A%20%20%20%20%20%20var%20w3e23%20%3D%20b2Math.Dot(w3%2C%20e23)%3B%0A%20%20%20%20%20%20var%20d23_1%20%3D%20w3e23%3B%0A%20%20%20%20%20%20var%20d23_2%20%3D%20-w2e23%3B%0A%20%20%20%20%20%20var%20n123%20%3D%20b2Math.CrossVV(e12%2C%20e13)%3B%0A%20%20%20%20%20%20var%20d123_1%20%3D%20n123%20*%20b2Math.CrossVV(w2%2C%20w3)%3B%0A%20%20%20%20%20%20var%20d123_2%20%3D%20n123%20*%20b2Math.CrossVV(w3%2C%20w1)%3B%0A%20%20%20%20%20%20var%20d123_3%20%3D%20n123%20*%20b2Math.CrossVV(w1%2C%20w2)%3B%0A%20%20%20%20%20%20if%20(d12_2%20%3C%3D%200.0%20%26%26%20d13_2%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(d12_1%20%3E%200.0%20%26%26%20d12_2%20%3E%200.0%20%26%26%20d123_3%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20var%20inv_d12%20%3D%201.0%20%2F%20(d12_1%20%2B%20d12_2)%3B%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%20d12_1%20*%20inv_d12%3B%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%20d12_2%20*%20inv_d12%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%202%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(d13_1%20%3E%200.0%20%26%26%20d13_2%20%3E%200.0%20%26%26%20d123_2%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20var%20inv_d13%20%3D%201.0%20%2F%20(d13_1%20%2B%20d13_2)%3B%0A%20%20%20%20%20%20%20%20this.m_v1.a%20%3D%20d13_1%20*%20inv_d13%3B%0A%20%20%20%20%20%20%20%20this.m_v3.a%20%3D%20d13_2%20*%20inv_d13%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%202%3B%0A%20%20%20%20%20%20%20%20this.m_v2.Set(this.m_v3)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(d12_1%20%3C%3D%200.0%20%26%26%20d23_2%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v2)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(d13_1%20%3C%3D%200.0%20%26%26%20d23_1%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_v3.a%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%201%3B%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v3)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(d23_1%20%3E%200.0%20%26%26%20d23_2%20%3E%200.0%20%26%26%20d123_1%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20var%20inv_d23%20%3D%201.0%20%2F%20(d23_1%20%2B%20d23_2)%3B%0A%20%20%20%20%20%20%20%20this.m_v2.a%20%3D%20d23_1%20*%20inv_d23%3B%0A%20%20%20%20%20%20%20%20this.m_v3.a%20%3D%20d23_2%20*%20inv_d23%3B%0A%20%20%20%20%20%20%20%20this.m_count%20%3D%202%3B%0A%20%20%20%20%20%20%20%20this.m_v1.Set(this.m_v3)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20inv_d123%20%3D%201.0%20%2F%20(d123_1%20%2B%20d123_2%20%2B%20d123_3)%3B%0A%20%20%20%20%20%20this.m_v1.a%20%3D%20d123_1%20*%20inv_d123%3B%0A%20%20%20%20%20%20this.m_v2.a%20%3D%20d123_2%20*%20inv_d123%3B%0A%20%20%20%20%20%20this.m_v3.a%20%3D%20d123_3%20*%20inv_d123%3B%0A%20%20%20%20%20%20this.m_count%20%3D%203%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2SimplexCache.b2SimplexCache%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.indexA%20%3D%20new%20Vector_a2j_Number(3)%3B%0A%20%20%20%20%20%20this.indexB%20%3D%20new%20Vector_a2j_Number(3)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2SimplexVertex.b2SimplexVertex%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2SimplexVertex.prototype.Set%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20this.wA.SetV(other.wA)%3B%0A%20%20%20%20%20%20this.wB.SetV(other.wB)%3B%0A%20%20%20%20%20%20this.w.SetV(other.w)%3B%0A%20%20%20%20%20%20this.a%20%3D%20other.a%3B%0A%20%20%20%20%20%20this.indexA%20%3D%20other.indexA%3B%0A%20%20%20%20%20%20this.indexB%20%3D%20other.indexB%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2TimeOfImpact.b2TimeOfImpact%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2TimeOfImpact.TimeOfImpact%20%3D%20function%20(input)%20%7B%0A%20%20%20%20%20%20%2B%2Bb2TimeOfImpact.b2_toiCalls%3B%0A%20%20%20%20%20%20var%20proxyA%20%3D%20input.proxyA%3B%0A%20%20%20%20%20%20var%20proxyB%20%3D%20input.proxyB%3B%0A%20%20%20%20%20%20var%20sweepA%20%3D%20input.sweepA%3B%0A%20%20%20%20%20%20var%20sweepB%20%3D%20input.sweepB%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(sweepA.t0%20%3D%3D%20sweepB.t0)%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(1.0%20-%20sweepA.t0%20%3E%20Number.MIN_VALUE)%3B%0A%20%20%20%20%20%20var%20radius%20%3D%20proxyA.m_radius%20%2B%20proxyB.m_radius%3B%0A%20%20%20%20%20%20var%20tolerance%20%3D%20input.tolerance%3B%0A%20%20%20%20%20%20var%20alpha%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20k_maxIterations%20%3D%201000%3B%0A%20%20%20%20%20%20var%20iter%20%3D%200%3B%0A%20%20%20%20%20%20var%20target%20%3D%200.0%3B%0A%20%20%20%20%20%20b2TimeOfImpact.s_cache.count%20%3D%200%3B%0A%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.useRadii%20%3D%20false%3B%0A%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0A%20%20%20%20%20%20%20%20sweepA.GetTransform(b2TimeOfImpact.s_xfA%2C%20alpha)%3B%0A%20%20%20%20%20%20%20%20sweepB.GetTransform(b2TimeOfImpact.s_xfB%2C%20alpha)%3B%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.proxyA%20%3D%20proxyA%3B%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.proxyB%20%3D%20proxyB%3B%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.transformA%20%3D%20b2TimeOfImpact.s_xfA%3B%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput.transformB%20%3D%20b2TimeOfImpact.s_xfB%3B%0A%20%20%20%20%20%20%20%20b2Distance.Distance(%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceOutput%2C%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_cache%2C%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_distanceInput%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20if%20(b2TimeOfImpact.s_distanceOutput.distance%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.s_fcn.Initialize(%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_cache%2C%0A%20%20%20%20%20%20%20%20%20%20proxyA%2C%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0A%20%20%20%20%20%20%20%20%20%20proxyB%2C%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20separation%20%3D%20b2TimeOfImpact.s_fcn.Evaluate(%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20if%20(separation%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(iter%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(separation%20%3E%20radius)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20b2Math.Max(radius%20-%20tolerance%2C%200.75%20*%20radius)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20b2Math.Max(separation%20-%20tolerance%2C%200.02%20*%20radius)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(separation%20-%20target%20%3C%200.5%20*%20tolerance)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(iter%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20newAlpha%20%3D%20alpha%3B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20x1%20%3D%20alpha%3B%0A%20%20%20%20%20%20%20%20%20%20var%20x2%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20var%20f1%20%3D%20separation%3B%0A%20%20%20%20%20%20%20%20%20%20sweepA.GetTransform(b2TimeOfImpact.s_xfA%2C%20x2)%3B%0A%20%20%20%20%20%20%20%20%20%20sweepB.GetTransform(b2TimeOfImpact.s_xfB%2C%20x2)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20f2%20%3D%20b2TimeOfImpact.s_fcn.Evaluate(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(f2%20%3E%3D%20target)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alpha%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20var%20rootIterCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20x%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(rootIterCount%20%26%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%20%3D%20x1%20%2B%20((target%20-%20f1)%20*%20(x2%20-%20x1))%20%2F%20(f2%20-%20f1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%20%3D%200.5%20*%20(x1%20%2B%20x2)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20sweepA.GetTransform(b2TimeOfImpact.s_xfA%2C%20x)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sweepB.GetTransform(b2TimeOfImpact.s_xfB%2C%20x)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20f%20%3D%20b2TimeOfImpact.s_fcn.Evaluate(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfA%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.s_xfB%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(b2Math.Abs(f%20-%20target)%20%3C%200.025%20*%20tolerance)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newAlpha%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(f%20%3E%20target)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x1%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f1%20%3D%20f%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x2%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f2%20%3D%20f%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2BrootIterCount%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bb2TimeOfImpact.b2_toiRootIters%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(rootIterCount%20%3D%3D%2050)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxRootIters%20%3D%20b2Math.Max(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxRootIters%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rootIterCount%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(newAlpha%20%3C%20(1.0%20%2B%20100.0%20*%20Number.MIN_VALUE)%20*%20alpha)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20alpha%20%3D%20newAlpha%3B%0A%20%20%20%20%20%20%20%20iter%2B%2B%3B%0A%20%20%20%20%20%20%20%20%2B%2Bb2TimeOfImpact.b2_toiIters%3B%0A%20%20%20%20%20%20%20%20if%20(iter%20%3D%3D%20k_maxIterations)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxIters%20%3D%20b2Math.Max(%0A%20%20%20%20%20%20%20%20b2TimeOfImpact.b2_toiMaxIters%2C%0A%20%20%20%20%20%20%20%20iter%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20alpha%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiCalls%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiIters%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiMaxIters%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiRootIters%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.b2_toiMaxRootIters%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_cache%20%3D%20new%20b2SimplexCache()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_distanceInput%20%3D%20new%20b2DistanceInput()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_xfA%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_xfB%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_fcn%20%3D%20new%20b2SeparationFunction()%3B%0A%20%20%20%20%20%20Box2D.Collision.b2TimeOfImpact.s_distanceOutput%20%3D%20new%20b2DistanceOutput()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2TOIInput.b2TOIInput%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.proxyA%20%3D%20new%20b2DistanceProxy()%3B%0A%20%20%20%20%20%20this.proxyB%20%3D%20new%20b2DistanceProxy()%3B%0A%20%20%20%20%20%20this.sweepA%20%3D%20new%20b2Sweep()%3B%0A%20%20%20%20%20%20this.sweepB%20%3D%20new%20b2Sweep()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WorldManifold.b2WorldManifold%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WorldManifold.prototype.b2WorldManifold%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.m_points%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WorldManifold.prototype.Initialize%20%3D%20function%20(%0A%20%20%20%20%20%20manifold%2C%0A%20%20%20%20%20%20xfA%2C%0A%20%20%20%20%20%20radiusA%2C%0A%20%20%20%20%20%20xfB%2C%0A%20%20%20%20%20%20radiusB%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(radiusA%20%3D%3D%3D%20undefined)%20radiusA%20%3D%200%3B%0A%20%20%20%20%20%20if%20(radiusB%20%3D%3D%3D%20undefined)%20radiusB%20%3D%200%3B%0A%20%20%20%20%20%20if%20(manifold.m_pointCount%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20normalX%20%3D%200%3B%0A%20%20%20%20%20%20var%20normalY%20%3D%200%3B%0A%20%20%20%20%20%20var%20planePointX%20%3D%200%3B%0A%20%20%20%20%20%20var%20planePointY%20%3D%200%3B%0A%20%20%20%20%20%20var%20clipPointX%20%3D%200%3B%0A%20%20%20%20%20%20var%20clipPointY%20%3D%200%3B%0A%20%20%20%20%20%20switch%20(manifold.m_type)%20%7B%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_circles%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_points%5B0%5D.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dX%20%3D%20pointBX%20-%20pointAX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dY%20%3D%20pointBY%20-%20pointAY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20d2%20%3D%20dX%20*%20dX%20%2B%20dY%20*%20dY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(d2%20%3E%20Number.MIN_VALUE%20*%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20d%20%3D%20Math.sqrt(d2)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20dX%20%2F%20d%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20dY%20%2F%20d%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cAX%20%3D%20pointAX%20%2B%20radiusA%20*%20this.m_normal.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cAY%20%3D%20pointAY%20%2B%20radiusA%20*%20this.m_normal.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cBX%20%3D%20pointBX%20-%20radiusB%20*%20this.m_normal.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cBY%20%3D%20pointBY%20-%20radiusB%20*%20this.m_normal.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.x%20%3D%200.5%20*%20(cAX%20%2B%20cBX)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.y%20%3D%200.5%20*%20(cAY%20%2B%20cBY)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceA%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPlaneNormal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20manifold.m_pointCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_points%5Bi%5D.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusA%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusB)%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusA%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusB)%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceB%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPlaneNormal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normalX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20normalY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfB.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfB.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20-normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20-normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20manifold.m_pointCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20xfA.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20manifold.m_points%5Bi%5D.m_localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.x%20%2B%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xfA.position.y%20%2B%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusB%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusA)%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200.5%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(radiusB%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20normalX%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20normalY%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radiusA)%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20ClipVertex.ClipVertex%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.v%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.id%20%3D%20new%20b2ContactID()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20ClipVertex.prototype.Set%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20this.v.SetV(other.v)%3B%0A%20%20%20%20%20%20this.id.Set(other.id)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Features.Features%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22referenceEdge%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20return%20this._referenceEdge%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22referenceEdge%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._referenceEdge%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200xffffff00)%20%7C%20(this._referenceEdge%20%26%200x000000ff)%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentEdge%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20return%20this._incidentEdge%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentEdge%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._incidentEdge%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200xffff00ff)%20%7C%0A%20%20%20%20%20%20%20%20%20%20((this._incidentEdge%20%3C%3C%208)%20%26%200x0000ff00)%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentVertex%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20return%20this._incidentVertex%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22incidentVertex%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._incidentVertex%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200xff00ffff)%20%7C%0A%20%20%20%20%20%20%20%20%20%20((this._incidentVertex%20%3C%3C%2016)%20%26%200x00ff0000)%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22flip%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20return%20this._flip%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(Features.prototype%2C%20%22flip%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20undefined)%20value%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._flip%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20this._m_id._key%20%3D%0A%20%20%20%20%20%20%20%20%20%20(this._m_id._key%20%26%200x00ffffff)%20%7C%20((this._flip%20%3C%3C%2024)%20%26%200xff000000)%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%3B%0A%0A%20%20%20%20Box2D.inherit(b2CircleShape%2C%20Box2D.Collision.Shapes.b2Shape)%3B%0A%20%20%20%20b2CircleShape.prototype.__super%20%3D%20Box2D.Collision.Shapes.b2Shape.prototype%3B%0A%20%20%20%20b2CircleShape.b2CircleShape%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_p%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20s%20%3D%20new%20b2CircleShape()%3B%0A%20%20%20%20%20%20s.Set(this)%3B%0A%20%20%20%20%20%20return%20s%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.Set%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20this.__super.Set.call(this%2C%20other)%3B%0A%20%20%20%20%20%20if%20(Box2D.is(other%2C%20b2CircleShape))%20%7B%0A%20%20%20%20%20%20%20%20var%20other2%20%3D%20other%20instanceof%20b2CircleShape%20%3F%20other%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20this.m_p.SetV(other2.m_p)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.TestPoint%20%3D%20function%20(transform%2C%20p)%20%7B%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20dX%20%3D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_p.x%20%2B%20tMat.col2.x%20*%20this.m_p.y)%3B%0A%20%20%20%20%20%20var%20dY%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_p.x%20%2B%20tMat.col2.y%20*%20this.m_p.y)%3B%0A%20%20%20%20%20%20dX%20%3D%20p.x%20-%20dX%3B%0A%20%20%20%20%20%20dY%20%3D%20p.y%20-%20dY%3B%0A%20%20%20%20%20%20return%20dX%20*%20dX%20%2B%20dY%20*%20dY%20%3C%3D%20this.m_radius%20*%20this.m_radius%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20positionX%20%3D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_p.x%20%2B%20tMat.col2.x%20*%20this.m_p.y)%3B%0A%20%20%20%20%20%20var%20positionY%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_p.x%20%2B%20tMat.col2.y%20*%20this.m_p.y)%3B%0A%20%20%20%20%20%20var%20sX%20%3D%20input.p1.x%20-%20positionX%3B%0A%20%20%20%20%20%20var%20sY%20%3D%20input.p1.y%20-%20positionY%3B%0A%20%20%20%20%20%20var%20b%20%3D%20sX%20*%20sX%20%2B%20sY%20*%20sY%20-%20this.m_radius%20*%20this.m_radius%3B%0A%20%20%20%20%20%20var%20rX%20%3D%20input.p2.x%20-%20input.p1.x%3B%0A%20%20%20%20%20%20var%20rY%20%3D%20input.p2.y%20-%20input.p1.y%3B%0A%20%20%20%20%20%20var%20c%20%3D%20sX%20*%20rX%20%2B%20sY%20*%20rY%3B%0A%20%20%20%20%20%20var%20rr%20%3D%20rX%20*%20rX%20%2B%20rY%20*%20rY%3B%0A%20%20%20%20%20%20var%20sigma%20%3D%20c%20*%20c%20-%20rr%20*%20b%3B%0A%20%20%20%20%20%20if%20(sigma%20%3C%200.0%20%7C%7C%20rr%20%3C%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20a%20%3D%20-(c%20%2B%20Math.sqrt(sigma))%3B%0A%20%20%20%20%20%20if%20(0.0%20%3C%3D%20a%20%26%26%20a%20%3C%3D%20input.maxFraction%20*%20rr)%20%7B%0A%20%20%20%20%20%20%20%20a%20%2F%3D%20rr%3B%0A%20%20%20%20%20%20%20%20output.fraction%20%3D%20a%3B%0A%20%20%20%20%20%20%20%20output.normal.x%20%3D%20sX%20%2B%20a%20*%20rX%3B%0A%20%20%20%20%20%20%20%20output.normal.y%20%3D%20sY%20%2B%20a%20*%20rY%3B%0A%20%20%20%20%20%20%20%20output.normal.Normalize()%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20transform)%20%7B%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20pX%20%3D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_p.x%20%2B%20tMat.col2.x%20*%20this.m_p.y)%3B%0A%20%20%20%20%20%20var%20pY%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_p.x%20%2B%20tMat.col2.y%20*%20this.m_p.y)%3B%0A%20%20%20%20%20%20aabb.lowerBound.Set(pX%20-%20this.m_radius%2C%20pY%20-%20this.m_radius)%3B%0A%20%20%20%20%20%20aabb.upperBound.Set(pX%20%2B%20this.m_radius%2C%20pY%20%2B%20this.m_radius)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0A%20%20%20%20%20%20massData.mass%20%3D%20density%20*%20b2Settings.b2_pi%20*%20this.m_radius%20*%20this.m_radius%3B%0A%20%20%20%20%20%20massData.center.SetV(this.m_p)%3B%0A%20%20%20%20%20%20massData.I%20%3D%0A%20%20%20%20%20%20%20%20massData.mass%20*%0A%20%20%20%20%20%20%20%20(0.5%20*%20this.m_radius%20*%20this.m_radius%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_p.x%20*%20this.m_p.x%20%2B%20this.m_p.y%20*%20this.m_p.y))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.ComputeSubmergedArea%20%3D%20function%20(%0A%20%20%20%20%20%20normal%2C%0A%20%20%20%20%20%20offset%2C%0A%20%20%20%20%20%20xf%2C%0A%20%20%20%20%20%20c%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0A%20%20%20%20%20%20var%20p%20%3D%20b2Math.MulX(xf%2C%20this.m_p)%3B%0A%20%20%20%20%20%20var%20l%20%3D%20-(b2Math.Dot(normal%2C%20p)%20-%20offset)%3B%0A%20%20%20%20%20%20if%20(l%20%3C%20-this.m_radius%20%2B%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(l%20%3E%20this.m_radius)%20%7B%0A%20%20%20%20%20%20%20%20c.SetV(p)%3B%0A%20%20%20%20%20%20%20%20return%20Math.PI%20*%20this.m_radius%20*%20this.m_radius%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20r2%20%3D%20this.m_radius%20*%20this.m_radius%3B%0A%20%20%20%20%20%20var%20l2%20%3D%20l%20*%20l%3B%0A%20%20%20%20%20%20var%20area%20%3D%0A%20%20%20%20%20%20%20%20r2%20*%20(Math.asin(l%20%2F%20this.m_radius)%20%2B%20Math.PI%20%2F%202)%20%2B%0A%20%20%20%20%20%20%20%20l%20*%20Math.sqrt(r2%20-%20l2)%3B%0A%20%20%20%20%20%20var%20com%20%3D%20((-2%20%2F%203)%20*%20Math.pow(r2%20-%20l2%2C%201.5))%20%2F%20area%3B%0A%20%20%20%20%20%20c.x%20%3D%20p.x%20%2B%20normal.x%20*%20com%3B%0A%20%20%20%20%20%20c.y%20%3D%20p.y%20%2B%20normal.y%20*%20com%3B%0A%20%20%20%20%20%20return%20area%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.GetLocalPosition%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_p%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.SetLocalPosition%20%3D%20function%20(position)%20%7B%0A%20%20%20%20%20%20this.m_p.SetV(position)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.GetRadius%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_radius%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.SetRadius%20%3D%20function%20(radius)%20%7B%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0A%20%20%20%20%20%20this.m_radius%20%3D%20radius%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleShape.prototype.b2CircleShape%20%3D%20function%20(radius)%20%7B%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0A%20%20%20%20%20%20this.__super.b2Shape.call(this)%3B%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_circleShape%3B%0A%20%20%20%20%20%20this.m_radius%20%3D%20radius%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeChainDef.b2EdgeChainDef%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2EdgeChainDef.prototype.b2EdgeChainDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.vertexCount%20%3D%200%3B%0A%20%20%20%20%20%20this.isALoop%20%3D%20true%3B%0A%20%20%20%20%20%20this.vertices%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2EdgeShape%2C%20Box2D.Collision.Shapes.b2Shape)%3B%0A%20%20%20%20b2EdgeShape.prototype.__super%20%3D%20Box2D.Collision.Shapes.b2Shape.prototype%3B%0A%20%20%20%20b2EdgeShape.b2EdgeShape%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.s_supportVec%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_v1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_v2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_coreV1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_coreV2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_direction%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_cornerDir1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_cornerDir2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.TestPoint%20%3D%20function%20(transform%2C%20p)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20rX%20%3D%20input.p2.x%20-%20input.p1.x%3B%0A%20%20%20%20%20%20var%20rY%20%3D%20input.p2.y%20-%20input.p1.y%3B%0A%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20v1X%20%3D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v1.x%20%2B%20tMat.col2.x%20*%20this.m_v1.y)%3B%0A%20%20%20%20%20%20var%20v1Y%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v1.x%20%2B%20tMat.col2.y%20*%20this.m_v1.y)%3B%0A%20%20%20%20%20%20var%20nX%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v2.x%20%2B%20tMat.col2.y%20*%20this.m_v2.y)%20-%0A%20%20%20%20%20%20%20%20v1Y%3B%0A%20%20%20%20%20%20var%20nY%20%3D%20-(%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v2.x%20%2B%20tMat.col2.x%20*%20this.m_v2.y)%20-%0A%20%20%20%20%20%20%20%20v1X%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20k_slop%20%3D%20100.0%20*%20Number.MIN_VALUE%3B%0A%20%20%20%20%20%20var%20denom%20%3D%20-(rX%20*%20nX%20%2B%20rY%20*%20nY)%3B%0A%20%20%20%20%20%20if%20(denom%20%3E%20k_slop)%20%7B%0A%20%20%20%20%20%20%20%20var%20bX%20%3D%20input.p1.x%20-%20v1X%3B%0A%20%20%20%20%20%20%20%20var%20bY%20%3D%20input.p1.y%20-%20v1Y%3B%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20bX%20*%20nX%20%2B%20bY%20*%20nY%3B%0A%20%20%20%20%20%20%20%20if%20(0.0%20%3C%3D%20a%20%26%26%20a%20%3C%3D%20input.maxFraction%20*%20denom)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20mu2%20%3D%20-rX%20*%20bY%20%2B%20rY%20*%20bX%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(-k_slop%20*%20denom%20%3C%3D%20mu2%20%26%26%20mu2%20%3C%3D%20denom%20*%20(1.0%20%2B%20k_slop))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%2F%3D%20denom%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.fraction%20%3D%20a%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20nLen%20%3D%20Math.sqrt(nX%20*%20nX%20%2B%20nY%20*%20nY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.normal.x%20%3D%20nX%20%2F%20nLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20output.normal.y%20%3D%20nY%20%2F%20nLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20transform)%20%7B%0A%20%20%20%20%20%20var%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20v1X%20%3D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v1.x%20%2B%20tMat.col2.x%20*%20this.m_v1.y)%3B%0A%20%20%20%20%20%20var%20v1Y%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v1.x%20%2B%20tMat.col2.y%20*%20this.m_v1.y)%3B%0A%20%20%20%20%20%20var%20v2X%20%3D%0A%20%20%20%20%20%20%20%20transform.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_v2.x%20%2B%20tMat.col2.x%20*%20this.m_v2.y)%3B%0A%20%20%20%20%20%20var%20v2Y%20%3D%0A%20%20%20%20%20%20%20%20transform.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_v2.x%20%2B%20tMat.col2.y%20*%20this.m_v2.y)%3B%0A%20%20%20%20%20%20if%20(v1X%20%3C%20v2X)%20%7B%0A%20%20%20%20%20%20%20%20aabb.lowerBound.x%20%3D%20v1X%3B%0A%20%20%20%20%20%20%20%20aabb.upperBound.x%20%3D%20v2X%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20aabb.lowerBound.x%20%3D%20v2X%3B%0A%20%20%20%20%20%20%20%20aabb.upperBound.x%20%3D%20v1X%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(v1Y%20%3C%20v2Y)%20%7B%0A%20%20%20%20%20%20%20%20aabb.lowerBound.y%20%3D%20v1Y%3B%0A%20%20%20%20%20%20%20%20aabb.upperBound.y%20%3D%20v2Y%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20aabb.lowerBound.y%20%3D%20v2Y%3B%0A%20%20%20%20%20%20%20%20aabb.upperBound.y%20%3D%20v1Y%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0A%20%20%20%20%20%20massData.mass%20%3D%200%3B%0A%20%20%20%20%20%20massData.center.SetV(this.m_v1)%3B%0A%20%20%20%20%20%20massData.I%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.ComputeSubmergedArea%20%3D%20function%20(%0A%20%20%20%20%20%20normal%2C%0A%20%20%20%20%20%20offset%2C%0A%20%20%20%20%20%20xf%2C%0A%20%20%20%20%20%20c%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0A%20%20%20%20%20%20var%20v0%20%3D%20new%20b2Vec2(normal.x%20*%20offset%2C%20normal.y%20*%20offset)%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20b2Math.MulX(xf%2C%20this.m_v1)%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20b2Math.MulX(xf%2C%20this.m_v2)%3B%0A%20%20%20%20%20%20var%20d1%20%3D%20b2Math.Dot(normal%2C%20v1)%20-%20offset%3B%0A%20%20%20%20%20%20var%20d2%20%3D%20b2Math.Dot(normal%2C%20v2)%20-%20offset%3B%0A%20%20%20%20%20%20if%20(d1%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(d2%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20v1.x%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.x%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.x%3B%0A%20%20%20%20%20%20%20%20%20%20v1.y%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.y%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.y%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(d2%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20v2.x%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.x%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.x%3B%0A%20%20%20%20%20%20%20%20%20%20v2.y%20%3D%20(-d2%20%2F%20(d1%20-%20d2))%20*%20v1.y%20%2B%20(d1%20%2F%20(d1%20-%20d2))%20*%20v2.y%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20c.x%20%3D%20(v0.x%20%2B%20v1.x%20%2B%20v2.x)%20%2F%203%3B%0A%20%20%20%20%20%20c.y%20%3D%20(v0.y%20%2B%20v1.y%20%2B%20v2.y)%20%2F%203%3B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%200.5%20*%20((v1.x%20-%20v0.x)%20*%20(v2.y%20-%20v0.y)%20-%20(v1.y%20-%20v0.y)%20*%20(v2.x%20-%20v0.x))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetLength%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_length%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetVertex1%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_v1%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetVertex2%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_v2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetCoreVertex1%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_coreV1%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetCoreVertex2%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_coreV2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetNormalVector%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_normal%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetDirectionVector%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_direction%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetCorner1Vector%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_cornerDir1%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetCorner2Vector%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_cornerDir2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.Corner1IsConvex%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_cornerConvex1%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.Corner2IsConvex%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_cornerConvex2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetFirstVertex%20%3D%20function%20(xf)%20%7B%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_coreV1.x%20%2B%20tMat.col2.x%20*%20this.m_coreV1.y)%2C%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_coreV1.x%20%2B%20tMat.col2.y%20*%20this.m_coreV1.y)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetNextEdge%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_nextEdge%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.GetPrevEdge%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_prevEdge%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.Support%20%3D%20function%20(xf%2C%20dX%2C%20dY)%20%7B%0A%20%20%20%20%20%20if%20(dX%20%3D%3D%3D%20undefined)%20dX%20%3D%200%3B%0A%20%20%20%20%20%20if%20(dY%20%3D%3D%3D%20undefined)%20dY%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0A%20%20%20%20%20%20var%20v1X%20%3D%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_coreV1.x%20%2B%20tMat.col2.x%20*%20this.m_coreV1.y)%3B%0A%20%20%20%20%20%20var%20v1Y%20%3D%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_coreV1.x%20%2B%20tMat.col2.y%20*%20this.m_coreV1.y)%3B%0A%20%20%20%20%20%20var%20v2X%20%3D%0A%20%20%20%20%20%20%20%20xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20this.m_coreV2.x%20%2B%20tMat.col2.x%20*%20this.m_coreV2.y)%3B%0A%20%20%20%20%20%20var%20v2Y%20%3D%0A%20%20%20%20%20%20%20%20xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20this.m_coreV2.x%20%2B%20tMat.col2.y%20*%20this.m_coreV2.y)%3B%0A%20%20%20%20%20%20if%20(v1X%20*%20dX%20%2B%20v1Y%20*%20dY%20%3E%20v2X%20*%20dX%20%2B%20v2Y%20*%20dY)%20%7B%0A%20%20%20%20%20%20%20%20this.s_supportVec.x%20%3D%20v1X%3B%0A%20%20%20%20%20%20%20%20this.s_supportVec.y%20%3D%20v1Y%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.s_supportVec.x%20%3D%20v2X%3B%0A%20%20%20%20%20%20%20%20this.s_supportVec.y%20%3D%20v2Y%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this.s_supportVec%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.b2EdgeShape%20%3D%20function%20(v1%2C%20v2)%20%7B%0A%20%20%20%20%20%20this.__super.b2Shape.call(this)%3B%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_edgeShape%3B%0A%20%20%20%20%20%20this.m_prevEdge%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nextEdge%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_v1%20%3D%20v1%3B%0A%20%20%20%20%20%20this.m_v2%20%3D%20v2%3B%0A%20%20%20%20%20%20this.m_direction.Set(this.m_v2.x%20-%20this.m_v1.x%2C%20this.m_v2.y%20-%20this.m_v1.y)%3B%0A%20%20%20%20%20%20this.m_length%20%3D%20this.m_direction.Normalize()%3B%0A%20%20%20%20%20%20this.m_normal.Set(this.m_direction.y%2C%20-this.m_direction.x)%3B%0A%20%20%20%20%20%20this.m_coreV1.Set(%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.x%20-%20this.m_direction.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_v1.x%2C%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.y%20-%20this.m_direction.y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_v1.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.m_coreV2.Set(%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.x%20%2B%20this.m_direction.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_v2.x%2C%0A%20%20%20%20%20%20%20%20-b2Settings.b2_toiSlop%20*%20(this.m_normal.y%20%2B%20this.m_direction.y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_v2.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.m_cornerDir1%20%3D%20this.m_normal%3B%0A%20%20%20%20%20%20this.m_cornerDir2.Set(-this.m_normal.x%2C%20-this.m_normal.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.SetPrevEdge%20%3D%20function%20(edge%2C%20core%2C%20cornerDir%2C%20convex)%20%7B%0A%20%20%20%20%20%20this.m_prevEdge%20%3D%20edge%3B%0A%20%20%20%20%20%20this.m_coreV1%20%3D%20core%3B%0A%20%20%20%20%20%20this.m_cornerDir1%20%3D%20cornerDir%3B%0A%20%20%20%20%20%20this.m_cornerConvex1%20%3D%20convex%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeShape.prototype.SetNextEdge%20%3D%20function%20(edge%2C%20core%2C%20cornerDir%2C%20convex)%20%7B%0A%20%20%20%20%20%20this.m_nextEdge%20%3D%20edge%3B%0A%20%20%20%20%20%20this.m_coreV2%20%3D%20core%3B%0A%20%20%20%20%20%20this.m_cornerDir2%20%3D%20cornerDir%3B%0A%20%20%20%20%20%20this.m_cornerConvex2%20%3D%20convex%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MassData.b2MassData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.mass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.center%20%3D%20new%20b2Vec2(0%2C%200)%3B%0A%20%20%20%20%20%20this.I%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2PolygonShape%2C%20Box2D.Collision.Shapes.b2Shape)%3B%0A%20%20%20%20b2PolygonShape.prototype.__super%20%3D%20Box2D.Collision.Shapes.b2Shape.prototype%3B%0A%20%20%20%20b2PolygonShape.b2PolygonShape%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20s%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20%20%20s.Set(this)%3B%0A%20%20%20%20%20%20return%20s%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.Set%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20this.__super.Set.call(this%2C%20other)%3B%0A%20%20%20%20%20%20if%20(Box2D.is(other%2C%20b2PolygonShape))%20%7B%0A%20%20%20%20%20%20%20%20var%20other2%20%3D%20other%20instanceof%20b2PolygonShape%20%3F%20other%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20this.m_centroid.SetV(other2.m_centroid)%3B%0A%20%20%20%20%20%20%20%20this.m_vertexCount%20%3D%20other2.m_vertexCount%3B%0A%20%20%20%20%20%20%20%20this.Reserve(this.m_vertexCount)%3B%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D.SetV(other2.m_vertices%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D.SetV(other2.m_normals%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.SetAsArray%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20v%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%2C%0A%20%20%20%20%20%20%20%20tVec%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20vertices.length%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20v.push(tVec)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.SetAsVector(v%2C%20vertexCount)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.AsArray%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20%20%20polygonShape.SetAsArray(vertices%2C%20vertexCount)%3B%0A%20%20%20%20%20%20return%20polygonShape%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.SetAsVector%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%200)%20vertexCount%20%3D%20vertices.length%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(2%20%3C%3D%20vertexCount)%3B%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%20vertexCount%3B%0A%20%20%20%20%20%20this.Reserve(vertexCount)%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D.SetV(vertices%5Bi%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20i1%20%3D%20parseInt(i)%3B%0A%20%20%20%20%20%20%20%20var%20i2%20%3D%20parseInt(i%20%2B%201%20%3C%20this.m_vertexCount%20%3F%20i%20%2B%201%20%3A%200)%3B%0A%20%20%20%20%20%20%20%20var%20edge%20%3D%20b2Math.SubtractVV(this.m_vertices%5Bi2%5D%2C%20this.m_vertices%5Bi1%5D)%3B%0A%20%20%20%20%20%20%20%20b2Settings.b2Assert(edge.LengthSquared()%20%3E%20Number.MIN_VALUE)%3B%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D.SetV(b2Math.CrossVF(edge%2C%201.0))%3B%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D.Normalize()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_centroid%20%3D%20b2PolygonShape.ComputeCentroid(%0A%20%20%20%20%20%20%20%20this.m_vertices%2C%0A%20%20%20%20%20%20%20%20this.m_vertexCount%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.AsVector%20%3D%20function%20(vertices%2C%20vertexCount)%20%7B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20%20%20polygonShape.SetAsVector(vertices%2C%20vertexCount)%3B%0A%20%20%20%20%20%20return%20polygonShape%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.SetAsBox%20%3D%20function%20(hx%2C%20hy)%20%7B%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%204%3B%0A%20%20%20%20%20%20this.Reserve(4)%3B%0A%20%20%20%20%20%20this.m_vertices%5B0%5D.Set(-hx%2C%20-hy)%3B%0A%20%20%20%20%20%20this.m_vertices%5B1%5D.Set(hx%2C%20-hy)%3B%0A%20%20%20%20%20%20this.m_vertices%5B2%5D.Set(hx%2C%20hy)%3B%0A%20%20%20%20%20%20this.m_vertices%5B3%5D.Set(-hx%2C%20hy)%3B%0A%20%20%20%20%20%20this.m_normals%5B0%5D.Set(0.0%2C%20-1.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B1%5D.Set(1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B2%5D.Set(0.0%2C%201.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B3%5D.Set(-1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.m_centroid.SetZero()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.AsBox%20%3D%20function%20(hx%2C%20hy)%20%7B%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20%20%20polygonShape.SetAsBox(hx%2C%20hy)%3B%0A%20%20%20%20%20%20return%20polygonShape%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.SetAsOrientedBox%20%3D%20function%20(hx%2C%20hy%2C%20center%2C%20angle)%20%7B%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0A%20%20%20%20%20%20if%20(center%20%3D%3D%3D%20undefined)%20center%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%204%3B%0A%20%20%20%20%20%20this.Reserve(4)%3B%0A%20%20%20%20%20%20this.m_vertices%5B0%5D.Set(-hx%2C%20-hy)%3B%0A%20%20%20%20%20%20this.m_vertices%5B1%5D.Set(hx%2C%20-hy)%3B%0A%20%20%20%20%20%20this.m_vertices%5B2%5D.Set(hx%2C%20hy)%3B%0A%20%20%20%20%20%20this.m_vertices%5B3%5D.Set(-hx%2C%20hy)%3B%0A%20%20%20%20%20%20this.m_normals%5B0%5D.Set(0.0%2C%20-1.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B1%5D.Set(1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B2%5D.Set(0.0%2C%201.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B3%5D.Set(-1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.m_centroid%20%3D%20center%3B%0A%20%20%20%20%20%20var%20xf%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20xf.position%20%3D%20center%3B%0A%20%20%20%20%20%20xf.R.Set(angle)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D%20%3D%20b2Math.MulX(xf%2C%20this.m_vertices%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D%20%3D%20b2Math.MulMV(xf.R%2C%20this.m_normals%5Bi%5D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.AsOrientedBox%20%3D%20function%20(hx%2C%20hy%2C%20center%2C%20angle)%20%7B%0A%20%20%20%20%20%20if%20(hx%20%3D%3D%3D%20undefined)%20hx%20%3D%200%3B%0A%20%20%20%20%20%20if%20(hy%20%3D%3D%3D%20undefined)%20hy%20%3D%200%3B%0A%20%20%20%20%20%20if%20(center%20%3D%3D%3D%20undefined)%20center%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20%20%20polygonShape.SetAsOrientedBox(hx%2C%20hy%2C%20center%2C%20angle)%3B%0A%20%20%20%20%20%20return%20polygonShape%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.SetAsEdge%20%3D%20function%20(v1%2C%20v2)%20%7B%0A%20%20%20%20%20%20this.m_vertexCount%20%3D%202%3B%0A%20%20%20%20%20%20this.Reserve(2)%3B%0A%20%20%20%20%20%20this.m_vertices%5B0%5D.SetV(v1)%3B%0A%20%20%20%20%20%20this.m_vertices%5B1%5D.SetV(v2)%3B%0A%20%20%20%20%20%20this.m_centroid.x%20%3D%200.5%20*%20(v1.x%20%2B%20v2.x)%3B%0A%20%20%20%20%20%20this.m_centroid.y%20%3D%200.5%20*%20(v1.y%20%2B%20v2.y)%3B%0A%20%20%20%20%20%20this.m_normals%5B0%5D%20%3D%20b2Math.CrossVF(b2Math.SubtractVV(v2%2C%20v1)%2C%201.0)%3B%0A%20%20%20%20%20%20this.m_normals%5B0%5D.Normalize()%3B%0A%20%20%20%20%20%20this.m_normals%5B1%5D.x%20%3D%20-this.m_normals%5B0%5D.x%3B%0A%20%20%20%20%20%20this.m_normals%5B1%5D.y%20%3D%20-this.m_normals%5B0%5D.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.AsEdge%20%3D%20function%20(v1%2C%20v2)%20%7B%0A%20%20%20%20%20%20var%20polygonShape%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20%20%20polygonShape.SetAsEdge(v1%2C%20v2)%3B%0A%20%20%20%20%20%20return%20polygonShape%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.TestPoint%20%3D%20function%20(xf%2C%20p)%20%7B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20p.x%20-%20xf.position.x%3B%0A%20%20%20%20%20%20var%20tY%20%3D%20p.y%20-%20xf.position.y%3B%0A%20%20%20%20%20%20var%20pLocalX%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0A%20%20%20%20%20%20var%20pLocalY%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20pLocalX%20-%20tVec.x%3B%0A%20%20%20%20%20%20%20%20tY%20%3D%20pLocalY%20-%20tVec.y%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_normals%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20dot%20%3D%20tVec.x%20*%20tX%20%2B%20tVec.y%20*%20tY%3B%0A%20%20%20%20%20%20%20%20if%20(dot%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0A%20%20%20%20%20%20var%20lower%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20upper%20%3D%20input.maxFraction%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20tX%20%3D%20input.p1.x%20-%20transform.position.x%3B%0A%20%20%20%20%20%20tY%20%3D%20input.p1.y%20-%20transform.position.y%3B%0A%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0A%20%20%20%20%20%20tX%20%3D%20input.p2.x%20-%20transform.position.x%3B%0A%20%20%20%20%20%20tY%20%3D%20input.p2.y%20-%20transform.position.y%3B%0A%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20var%20p2X%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0A%20%20%20%20%20%20var%20p2Y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0A%20%20%20%20%20%20var%20index%20%3D%20parseInt(-1)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tVec.x%20-%20p1X%3B%0A%20%20%20%20%20%20%20%20tY%20%3D%20tVec.y%20-%20p1Y%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_normals%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20numerator%20%3D%20tVec.x%20*%20tX%20%2B%20tVec.y%20*%20tY%3B%0A%20%20%20%20%20%20%20%20var%20denominator%20%3D%20tVec.x%20*%20dX%20%2B%20tVec.y%20*%20dY%3B%0A%20%20%20%20%20%20%20%20if%20(denominator%20%3D%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(numerator%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(denominator%20%3C%200.0%20%26%26%20numerator%20%3C%20lower%20*%20denominator)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20lower%20%3D%20numerator%20%2F%20denominator%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(denominator%20%3E%200.0%20%26%26%20numerator%20%3C%20upper%20*%20denominator)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20upper%20%3D%20numerator%20%2F%20denominator%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(upper%20%3C%20lower%20-%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(index%20%3E%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20output.fraction%20%3D%20lower%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20transform.R%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_normals%5Bindex%5D%3B%0A%20%20%20%20%20%20%20%20output.normal.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20output.normal.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20xf)%20%7B%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_vertices%5B0%5D%3B%0A%20%20%20%20%20%20var%20lowerX%20%3D%20xf.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20lowerY%20%3D%20xf.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20upperX%20%3D%20lowerX%3B%0A%20%20%20%20%20%20var%20upperY%20%3D%20lowerY%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20vX%20%3D%20xf.position.x%20%2B%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20var%20vY%20%3D%20xf.position.y%20%2B%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20lowerX%20%3D%20lowerX%20%3C%20vX%20%3F%20lowerX%20%3A%20vX%3B%0A%20%20%20%20%20%20%20%20lowerY%20%3D%20lowerY%20%3C%20vY%20%3F%20lowerY%20%3A%20vY%3B%0A%20%20%20%20%20%20%20%20upperX%20%3D%20upperX%20%3E%20vX%20%3F%20upperX%20%3A%20vX%3B%0A%20%20%20%20%20%20%20%20upperY%20%3D%20upperY%20%3E%20vY%20%3F%20upperY%20%3A%20vY%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20aabb.lowerBound.x%20%3D%20lowerX%20-%20this.m_radius%3B%0A%20%20%20%20%20%20aabb.lowerBound.y%20%3D%20lowerY%20-%20this.m_radius%3B%0A%20%20%20%20%20%20aabb.upperBound.x%20%3D%20upperX%20%2B%20this.m_radius%3B%0A%20%20%20%20%20%20aabb.upperBound.y%20%3D%20upperY%20%2B%20this.m_radius%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_vertexCount%20%3D%3D%202)%20%7B%0A%20%20%20%20%20%20%20%20massData.center.x%20%3D%200.5%20*%20(this.m_vertices%5B0%5D.x%20%2B%20this.m_vertices%5B1%5D.x)%3B%0A%20%20%20%20%20%20%20%20massData.center.y%20%3D%200.5%20*%20(this.m_vertices%5B0%5D.y%20%2B%20this.m_vertices%5B1%5D.y)%3B%0A%20%20%20%20%20%20%20%20massData.mass%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20massData.I%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20centerX%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20centerY%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20area%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20I%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20k_inv3%20%3D%201.0%20%2F%203.0%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20p2%20%3D%20this.m_vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20p3%20%3D%0A%20%20%20%20%20%20%20%20%20%20i%20%2B%201%20%3C%20this.m_vertexCount%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20this.m_vertices%5BparseInt(i%20%2B%201)%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20this.m_vertices%5B0%5D%3B%0A%20%20%20%20%20%20%20%20var%20e1X%20%3D%20p2.x%20-%20p1X%3B%0A%20%20%20%20%20%20%20%20var%20e1Y%20%3D%20p2.y%20-%20p1Y%3B%0A%20%20%20%20%20%20%20%20var%20e2X%20%3D%20p3.x%20-%20p1X%3B%0A%20%20%20%20%20%20%20%20var%20e2Y%20%3D%20p3.y%20-%20p1Y%3B%0A%20%20%20%20%20%20%20%20var%20D%20%3D%20e1X%20*%20e2Y%20-%20e1Y%20*%20e2X%3B%0A%20%20%20%20%20%20%20%20var%20triangleArea%20%3D%200.5%20*%20D%3B%0A%20%20%20%20%20%20%20%20area%20%2B%3D%20triangleArea%3B%0A%20%20%20%20%20%20%20%20centerX%20%2B%3D%20triangleArea%20*%20k_inv3%20*%20(p1X%20%2B%20p2.x%20%2B%20p3.x)%3B%0A%20%20%20%20%20%20%20%20centerY%20%2B%3D%20triangleArea%20*%20k_inv3%20*%20(p1Y%20%2B%20p2.y%20%2B%20p3.y)%3B%0A%20%20%20%20%20%20%20%20var%20px%20%3D%20p1X%3B%0A%20%20%20%20%20%20%20%20var%20py%20%3D%20p1Y%3B%0A%20%20%20%20%20%20%20%20var%20ex1%20%3D%20e1X%3B%0A%20%20%20%20%20%20%20%20var%20ey1%20%3D%20e1Y%3B%0A%20%20%20%20%20%20%20%20var%20ex2%20%3D%20e2X%3B%0A%20%20%20%20%20%20%20%20var%20ey2%20%3D%20e2Y%3B%0A%20%20%20%20%20%20%20%20var%20intx2%20%3D%0A%20%20%20%20%20%20%20%20%20%20k_inv3%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20(0.25%20*%20(ex1%20*%20ex1%20%2B%20ex2%20*%20ex1%20%2B%20ex2%20*%20ex2)%20%2B%20(px%20*%20ex1%20%2B%20px%20*%20ex2))%20%2B%0A%20%20%20%20%20%20%20%20%20%200.5%20*%20px%20*%20px%3B%0A%20%20%20%20%20%20%20%20var%20inty2%20%3D%0A%20%20%20%20%20%20%20%20%20%20k_inv3%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20(0.25%20*%20(ey1%20*%20ey1%20%2B%20ey2%20*%20ey1%20%2B%20ey2%20*%20ey2)%20%2B%20(py%20*%20ey1%20%2B%20py%20*%20ey2))%20%2B%0A%20%20%20%20%20%20%20%20%20%200.5%20*%20py%20*%20py%3B%0A%20%20%20%20%20%20%20%20I%20%2B%3D%20D%20*%20(intx2%20%2B%20inty2)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20massData.mass%20%3D%20density%20*%20area%3B%0A%20%20%20%20%20%20centerX%20*%3D%201.0%20%2F%20area%3B%0A%20%20%20%20%20%20centerY%20*%3D%201.0%20%2F%20area%3B%0A%20%20%20%20%20%20massData.center.Set(centerX%2C%20centerY)%3B%0A%20%20%20%20%20%20massData.I%20%3D%20density%20*%20I%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.ComputeSubmergedArea%20%3D%20function%20(%0A%20%20%20%20%20%20normal%2C%0A%20%20%20%20%20%20offset%2C%0A%20%20%20%20%20%20xf%2C%0A%20%20%20%20%20%20c%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0A%20%20%20%20%20%20var%20normalL%20%3D%20b2Math.MulTMV(xf.R%2C%20normal)%3B%0A%20%20%20%20%20%20var%20offsetL%20%3D%20offset%20-%20b2Math.Dot(normal%2C%20xf.position)%3B%0A%20%20%20%20%20%20var%20depths%20%3D%20new%20Vector_a2j_Number()%3B%0A%20%20%20%20%20%20var%20diveCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20intoIndex%20%3D%20parseInt(-1)%3B%0A%20%20%20%20%20%20var%20outoIndex%20%3D%20parseInt(-1)%3B%0A%20%20%20%20%20%20var%20lastSubmerged%20%3D%20false%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20depths%5Bi%5D%20%3D%20b2Math.Dot(normalL%2C%20this.m_vertices%5Bi%5D)%20-%20offsetL%3B%0A%20%20%20%20%20%20%20%20var%20isSubmerged%20%3D%20depths%5Bi%5D%20%3C%20-Number.MIN_VALUE%3B%0A%20%20%20%20%20%20%20%20if%20(i%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(isSubmerged)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!lastSubmerged)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20intoIndex%20%3D%20i%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20diveCount%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(lastSubmerged)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20outoIndex%20%3D%20i%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20diveCount%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20lastSubmerged%20%3D%20isSubmerged%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20switch%20(diveCount)%20%7B%0A%20%20%20%20%20%20%20%20case%200%3A%0A%20%20%20%20%20%20%20%20%20%20if%20(lastSubmerged)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20md%20%3D%20new%20b2MassData()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ComputeMass(md%2C%201)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c.SetV(b2Math.MulX(xf%2C%20md.center))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20md.mass%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20if%20(intoIndex%20%3D%3D%20-1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20intoIndex%20%3D%20this.m_vertexCount%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20outoIndex%20%3D%20this.m_vertexCount%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20intoIndex2%20%3D%20parseInt((intoIndex%20%2B%201)%20%25%20this.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20outoIndex2%20%3D%20parseInt((outoIndex%20%2B%201)%20%25%20this.m_vertexCount)%3B%0A%20%20%20%20%20%20var%20intoLamdda%20%3D%0A%20%20%20%20%20%20%20%20(0%20-%20depths%5BintoIndex%5D)%20%2F%20(depths%5BintoIndex2%5D%20-%20depths%5BintoIndex%5D)%3B%0A%20%20%20%20%20%20var%20outoLamdda%20%3D%0A%20%20%20%20%20%20%20%20(0%20-%20depths%5BoutoIndex%5D)%20%2F%20(depths%5BoutoIndex2%5D%20-%20depths%5BoutoIndex%5D)%3B%0A%20%20%20%20%20%20var%20intoVec%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex%5D.x%20*%20(1%20-%20intoLamdda)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex2%5D.x%20*%20intoLamdda%2C%0A%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex%5D.y%20*%20(1%20-%20intoLamdda)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BintoIndex2%5D.y%20*%20intoLamdda%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20outoVec%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex%5D.x%20*%20(1%20-%20outoLamdda)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex2%5D.x%20*%20outoLamdda%2C%0A%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex%5D.y%20*%20(1%20-%20outoLamdda)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_vertices%5BoutoIndex2%5D.y%20*%20outoLamdda%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20area%20%3D%200%3B%0A%20%20%20%20%20%20var%20center%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20this.m_vertices%5BintoIndex2%5D%3B%0A%20%20%20%20%20%20var%20p3%3B%0A%20%20%20%20%20%20i%20%3D%20intoIndex2%3B%0A%20%20%20%20%20%20while%20(i%20!%3D%20outoIndex2)%20%7B%0A%20%20%20%20%20%20%20%20i%20%3D%20(i%20%2B%201)%20%25%20this.m_vertexCount%3B%0A%20%20%20%20%20%20%20%20if%20(i%20%3D%3D%20outoIndex2)%20p3%20%3D%20outoVec%3B%0A%20%20%20%20%20%20%20%20else%20p3%20%3D%20this.m_vertices%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20triangleArea%20%3D%0A%20%20%20%20%20%20%20%20%20%200.5%20*%0A%20%20%20%20%20%20%20%20%20%20((p2.x%20-%20intoVec.x)%20*%20(p3.y%20-%20intoVec.y)%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20(p2.y%20-%20intoVec.y)%20*%20(p3.x%20-%20intoVec.x))%3B%0A%20%20%20%20%20%20%20%20area%20%2B%3D%20triangleArea%3B%0A%20%20%20%20%20%20%20%20center.x%20%2B%3D%20(triangleArea%20*%20(intoVec.x%20%2B%20p2.x%20%2B%20p3.x))%20%2F%203%3B%0A%20%20%20%20%20%20%20%20center.y%20%2B%3D%20(triangleArea%20*%20(intoVec.y%20%2B%20p2.y%20%2B%20p3.y))%20%2F%203%3B%0A%20%20%20%20%20%20%20%20p2%20%3D%20p3%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20center.Multiply(1%20%2F%20area)%3B%0A%20%20%20%20%20%20c.SetV(b2Math.MulX(xf%2C%20center))%3B%0A%20%20%20%20%20%20return%20area%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.GetVertexCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_vertexCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.GetVertices%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_vertices%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.GetNormals%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_normals%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.GetSupport%20%3D%20function%20(d)%20%7B%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20bestIndex%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.GetSupportVertex%20%3D%20function%20(d)%20%7B%0A%20%20%20%20%20%20var%20bestIndex%20%3D%200%3B%0A%20%20%20%20%20%20var%20bestValue%20%3D%20this.m_vertices%5B0%5D.x%20*%20d.x%20%2B%20this.m_vertices%5B0%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20this.m_vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this.m_vertices%5Bi%5D.x%20*%20d.x%20%2B%20this.m_vertices%5Bi%5D.y%20*%20d.y%3B%0A%20%20%20%20%20%20%20%20if%20(value%20%3E%20bestValue)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bestIndex%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%20%20bestValue%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this.m_vertices%5BbestIndex%5D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.Validate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.b2PolygonShape%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2Shape.call(this)%3B%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_polygonShape%3B%0A%20%20%20%20%20%20this.m_centroid%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_vertices%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20this.m_normals%20%3D%20new%20Vector()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.prototype.Reserve%20%3D%20function%20(count)%20%7B%0A%20%20%20%20%20%20if%20(count%20%3D%3D%3D%20undefined)%20count%20%3D%200%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20parseInt(this.m_vertices.length)%3B%20i%20%3C%20count%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.m_vertices%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20this.m_normals%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.ComputeCentroid%20%3D%20function%20(vs%2C%20count)%20%7B%0A%20%20%20%20%20%20if%20(count%20%3D%3D%3D%20undefined)%20count%20%3D%200%3B%0A%20%20%20%20%20%20var%20c%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20area%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20inv3%20%3D%201.0%20%2F%203.0%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20count%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20p2%20%3D%20vs%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20p3%20%3D%20i%20%2B%201%20%3C%20count%20%3F%20vs%5BparseInt(i%20%2B%201)%5D%20%3A%20vs%5B0%5D%3B%0A%20%20%20%20%20%20%20%20var%20e1X%20%3D%20p2.x%20-%20p1X%3B%0A%20%20%20%20%20%20%20%20var%20e1Y%20%3D%20p2.y%20-%20p1Y%3B%0A%20%20%20%20%20%20%20%20var%20e2X%20%3D%20p3.x%20-%20p1X%3B%0A%20%20%20%20%20%20%20%20var%20e2Y%20%3D%20p3.y%20-%20p1Y%3B%0A%20%20%20%20%20%20%20%20var%20D%20%3D%20e1X%20*%20e2Y%20-%20e1Y%20*%20e2X%3B%0A%20%20%20%20%20%20%20%20var%20triangleArea%20%3D%200.5%20*%20D%3B%0A%20%20%20%20%20%20%20%20area%20%2B%3D%20triangleArea%3B%0A%20%20%20%20%20%20%20%20c.x%20%2B%3D%20triangleArea%20*%20inv3%20*%20(p1X%20%2B%20p2.x%20%2B%20p3.x)%3B%0A%20%20%20%20%20%20%20%20c.y%20%2B%3D%20triangleArea%20*%20inv3%20*%20(p1Y%20%2B%20p2.y%20%2B%20p3.y)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20c.x%20*%3D%201.0%20%2F%20area%3B%0A%20%20%20%20%20%20c.y%20*%3D%201.0%20%2F%20area%3B%0A%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonShape.ComputeOBB%20%3D%20function%20(obb%2C%20vs%2C%20count)%20%7B%0A%20%20%20%20%20%20if%20(count%20%3D%3D%3D%20undefined)%20count%20%3D%200%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20p%20%3D%20new%20Vector(count%20%2B%201)%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20count%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20p%5Bi%5D%20%3D%20vs%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20p%5Bcount%5D%20%3D%20p%5B0%5D%3B%0A%20%20%20%20%20%20var%20minArea%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20for%20(i%20%3D%201%3B%20i%20%3C%3D%20count%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20root%20%3D%20p%5BparseInt(i%20-%201)%5D%3B%0A%20%20%20%20%20%20%20%20var%20uxX%20%3D%20p%5Bi%5D.x%20-%20root.x%3B%0A%20%20%20%20%20%20%20%20var%20uxY%20%3D%20p%5Bi%5D.y%20-%20root.y%3B%0A%20%20%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(uxX%20*%20uxX%20%2B%20uxY%20*%20uxY)%3B%0A%20%20%20%20%20%20%20%20uxX%20%2F%3D%20length%3B%0A%20%20%20%20%20%20%20%20uxY%20%2F%3D%20length%3B%0A%20%20%20%20%20%20%20%20var%20uyX%20%3D%20-uxY%3B%0A%20%20%20%20%20%20%20%20var%20uyY%20%3D%20uxX%3B%0A%20%20%20%20%20%20%20%20var%20lowerX%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20%20%20var%20lowerY%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20%20%20var%20upperX%20%3D%20-Number.MAX_VALUE%3B%0A%20%20%20%20%20%20%20%20var%20upperY%20%3D%20-Number.MAX_VALUE%3B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20count%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20dX%20%3D%20p%5Bj%5D.x%20-%20root.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20dY%20%3D%20p%5Bj%5D.y%20-%20root.y%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rX%20%3D%20uxX%20*%20dX%20%2B%20uxY%20*%20dY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rY%20%3D%20uyX%20*%20dX%20%2B%20uyY%20*%20dY%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(rX%20%3C%20lowerX)%20lowerX%20%3D%20rX%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(rY%20%3C%20lowerY)%20lowerY%20%3D%20rY%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(rX%20%3E%20upperX)%20upperX%20%3D%20rX%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(rY%20%3E%20upperY)%20upperY%20%3D%20rY%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20area%20%3D%20(upperX%20-%20lowerX)%20*%20(upperY%20-%20lowerY)%3B%0A%20%20%20%20%20%20%20%20if%20(area%20%3C%200.95%20*%20minArea)%20%7B%0A%20%20%20%20%20%20%20%20%20%20minArea%20%3D%20area%3B%0A%20%20%20%20%20%20%20%20%20%20obb.R.col1.x%20%3D%20uxX%3B%0A%20%20%20%20%20%20%20%20%20%20obb.R.col1.y%20%3D%20uxY%3B%0A%20%20%20%20%20%20%20%20%20%20obb.R.col2.x%20%3D%20uyX%3B%0A%20%20%20%20%20%20%20%20%20%20obb.R.col2.y%20%3D%20uyY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20centerX%20%3D%200.5%20*%20(lowerX%20%2B%20upperX)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20centerY%20%3D%200.5%20*%20(lowerY%20%2B%20upperY)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tMat%20%3D%20obb.R%3B%0A%20%20%20%20%20%20%20%20%20%20obb.center.x%20%3D%20root.x%20%2B%20(tMat.col1.x%20*%20centerX%20%2B%20tMat.col2.x%20*%20centerY)%3B%0A%20%20%20%20%20%20%20%20%20%20obb.center.y%20%3D%20root.y%20%2B%20(tMat.col1.y%20*%20centerX%20%2B%20tMat.col2.y%20*%20centerY)%3B%0A%20%20%20%20%20%20%20%20%20%20obb.extents.x%20%3D%200.5%20*%20(upperX%20-%20lowerX)%3B%0A%20%20%20%20%20%20%20%20%20%20obb.extents.y%20%3D%200.5%20*%20(upperY%20-%20lowerY)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2PolygonShape.s_mat%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2Shape.b2Shape%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Shape.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.Set%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20this.m_radius%20%3D%20other.m_radius%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.GetType%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_type%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.TestPoint%20%3D%20function%20(xf%2C%20p)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.RayCast%20%3D%20function%20(output%2C%20input%2C%20transform)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.ComputeAABB%20%3D%20function%20(aabb%2C%20xf)%20%7B%7D%3B%0A%20%20%20%20b2Shape.prototype.ComputeMass%20%3D%20function%20(massData%2C%20density)%20%7B%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.ComputeSubmergedArea%20%3D%20function%20(normal%2C%20offset%2C%20xf%2C%20c)%20%7B%0A%20%20%20%20%20%20if%20(offset%20%3D%3D%3D%20undefined)%20offset%20%3D%200%3B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.TestOverlap%20%3D%20function%20(shape1%2C%20transform1%2C%20shape2%2C%20transform2)%20%7B%0A%20%20%20%20%20%20var%20input%20%3D%20new%20b2DistanceInput()%3B%0A%20%20%20%20%20%20input.proxyA%20%3D%20new%20b2DistanceProxy()%3B%0A%20%20%20%20%20%20input.proxyA.Set(shape1)%3B%0A%20%20%20%20%20%20input.proxyB%20%3D%20new%20b2DistanceProxy()%3B%0A%20%20%20%20%20%20input.proxyB.Set(shape2)%3B%0A%20%20%20%20%20%20input.transformA%20%3D%20transform1%3B%0A%20%20%20%20%20%20input.transformB%20%3D%20transform2%3B%0A%20%20%20%20%20%20input.useRadii%20%3D%20true%3B%0A%20%20%20%20%20%20var%20simplexCache%20%3D%20new%20b2SimplexCache()%3B%0A%20%20%20%20%20%20simplexCache.count%20%3D%200%3B%0A%20%20%20%20%20%20var%20output%20%3D%20new%20b2DistanceOutput()%3B%0A%20%20%20%20%20%20b2Distance.Distance(output%2C%20simplexCache%2C%20input)%3B%0A%20%20%20%20%20%20return%20output.distance%20%3C%2010.0%20*%20Number.MIN_VALUE%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Shape.prototype.b2Shape%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_type%20%3D%20b2Shape.e_unknownShape%3B%0A%20%20%20%20%20%20this.m_radius%20%3D%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_unknownShape%20%3D%20parseInt(-1)%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_circleShape%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_polygonShape%20%3D%201%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_edgeShape%20%3D%202%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount%20%3D%203%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_hitCollide%20%3D%201%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_missCollide%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide%20%3D%20parseInt(-1)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%3B%0A%0A%20%20%20%20b2Color.b2Color%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this._r%20%3D%200%3B%0A%20%20%20%20%20%20this._g%20%3D%200%3B%0A%20%20%20%20%20%20this._b%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Color.prototype.b2Color%20%3D%20function%20(rr%2C%20gg%2C%20bb)%20%7B%0A%20%20%20%20%20%20if%20(rr%20%3D%3D%3D%20undefined)%20rr%20%3D%200%3B%0A%20%20%20%20%20%20if%20(gg%20%3D%3D%3D%20undefined)%20gg%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bb%20%3D%3D%3D%20undefined)%20bb%20%3D%200%3B%0A%20%20%20%20%20%20this._r%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(rr%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20this._g%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(gg%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20this._b%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(bb%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Color.prototype.Set%20%3D%20function%20(rr%2C%20gg%2C%20bb)%20%7B%0A%20%20%20%20%20%20if%20(rr%20%3D%3D%3D%20undefined)%20rr%20%3D%200%3B%0A%20%20%20%20%20%20if%20(gg%20%3D%3D%3D%20undefined)%20gg%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bb%20%3D%3D%3D%20undefined)%20bb%20%3D%200%3B%0A%20%20%20%20%20%20this._r%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(rr%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20this._g%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(gg%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20this._b%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(bb%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22r%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(rr)%20%7B%0A%20%20%20%20%20%20%20%20if%20(rr%20%3D%3D%3D%20undefined)%20rr%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._r%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(rr%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22g%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(gg)%20%7B%0A%20%20%20%20%20%20%20%20if%20(gg%20%3D%3D%3D%20undefined)%20gg%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._g%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(gg%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22b%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20set%3A%20function%20(bb)%20%7B%0A%20%20%20%20%20%20%20%20if%20(bb%20%3D%3D%3D%20undefined)%20bb%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this._b%20%3D%20Box2D.parseUInt(255%20*%20b2Math.Clamp(bb%2C%200.0%2C%201.0))%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Object.defineProperty(b2Color.prototype%2C%20%22color%22%2C%20%7B%0A%20%20%20%20%20%20enumerable%3A%20false%2C%0A%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20get%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20return%20(this._r%20%3C%3C%2016)%20%7C%20(this._g%20%3C%3C%208)%20%7C%20this._b%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2Settings.b2Settings%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Settings.b2MixFriction%20%3D%20function%20(friction1%2C%20friction2)%20%7B%0A%20%20%20%20%20%20if%20(friction1%20%3D%3D%3D%20undefined)%20friction1%20%3D%200%3B%0A%20%20%20%20%20%20if%20(friction2%20%3D%3D%3D%20undefined)%20friction2%20%3D%200%3B%0A%20%20%20%20%20%20return%20Math.sqrt(friction1%20*%20friction2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Settings.b2MixRestitution%20%3D%20function%20(restitution1%2C%20restitution2)%20%7B%0A%20%20%20%20%20%20if%20(restitution1%20%3D%3D%3D%20undefined)%20restitution1%20%3D%200%3B%0A%20%20%20%20%20%20if%20(restitution2%20%3D%3D%3D%20undefined)%20restitution2%20%3D%200%3B%0A%20%20%20%20%20%20return%20restitution1%20%3E%20restitution2%20%3F%20restitution1%20%3A%20restitution2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Settings.b2Assert%20%3D%20function%20(a)%20%7B%0A%20%20%20%20%20%20if%20(!a)%20%7B%0A%20%20%20%20%20%20%20%20throw%20%22Assertion%20Failed%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.VERSION%20%3D%20%222.1alpha%22%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.USHRT_MAX%20%3D%200x0000ffff%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_pi%20%3D%20Math.PI%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxManifoldPoints%20%3D%202%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_aabbExtension%20%3D%200.1%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_aabbMultiplier%20%3D%202.0%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_polygonRadius%20%3D%202.0%20*%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_linearSlop%20%3D%200.005%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_angularSlop%20%3D%20(2.0%20%2F%20180.0)%20*%20b2Settings.b2_pi%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_toiSlop%20%3D%208.0%20*%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland%20%3D%2032%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland%20%3D%2032%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_velocityThreshold%20%3D%201.0%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxLinearCorrection%20%3D%200.2%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxAngularCorrection%20%3D%0A%20%20%20%20%20%20%20%20(8.0%20%2F%20180.0)%20*%20b2Settings.b2_pi%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTranslation%20%3D%202.0%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxTranslationSquared%20%3D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxTranslation%20*%20b2Settings.b2_maxTranslation%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxRotation%20%3D%200.5%20*%20b2Settings.b2_pi%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_maxRotationSquared%20%3D%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxRotation%20*%20b2Settings.b2_maxRotation%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_contactBaumgarte%20%3D%200.2%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_timeToSleep%20%3D%200.5%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_linearSleepTolerance%20%3D%200.01%3B%0A%20%20%20%20%20%20Box2D.Common.b2Settings.b2_angularSleepTolerance%20%3D%0A%20%20%20%20%20%20%20%20(2.0%20%2F%20180.0)%20*%20b2Settings.b2_pi%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%3B%0A%0A%20%20%20%20b2Mat22.b2Mat22%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.col2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.b2Mat22%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.SetIdentity()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.FromAngle%20%3D%20function%20(angle)%20%7B%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0A%20%20%20%20%20%20var%20mat%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20mat.Set(angle)%3B%0A%20%20%20%20%20%20return%20mat%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.FromVV%20%3D%20function%20(c1%2C%20c2)%20%7B%0A%20%20%20%20%20%20var%20mat%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20mat.SetVV(c1%2C%20c2)%3B%0A%20%20%20%20%20%20return%20mat%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.Set%20%3D%20function%20(angle)%20%7B%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0A%20%20%20%20%20%20var%20c%20%3D%20Math.cos(angle)%3B%0A%20%20%20%20%20%20var%20s%20%3D%20Math.sin(angle)%3B%0A%20%20%20%20%20%20this.col1.x%20%3D%20c%3B%0A%20%20%20%20%20%20this.col2.x%20%3D%20-s%3B%0A%20%20%20%20%20%20this.col1.y%20%3D%20s%3B%0A%20%20%20%20%20%20this.col2.y%20%3D%20c%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.SetVV%20%3D%20function%20(c1%2C%20c2)%20%7B%0A%20%20%20%20%20%20this.col1.SetV(c1)%3B%0A%20%20%20%20%20%20this.col2.SetV(c2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20mat%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20mat.SetM(this)%3B%0A%20%20%20%20%20%20return%20mat%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.SetM%20%3D%20function%20(m)%20%7B%0A%20%20%20%20%20%20this.col1.SetV(m.col1)%3B%0A%20%20%20%20%20%20this.col2.SetV(m.col2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.AddM%20%3D%20function%20(m)%20%7B%0A%20%20%20%20%20%20this.col1.x%20%2B%3D%20m.col1.x%3B%0A%20%20%20%20%20%20this.col1.y%20%2B%3D%20m.col1.y%3B%0A%20%20%20%20%20%20this.col2.x%20%2B%3D%20m.col2.x%3B%0A%20%20%20%20%20%20this.col2.y%20%2B%3D%20m.col2.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.SetIdentity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1.x%20%3D%201.0%3B%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.y%20%3D%201.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.SetZero%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.y%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.GetAngle%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20Math.atan2(this.col1.y%2C%20this.col1.x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.GetInverse%20%3D%20function%20(out)%20%7B%0A%20%20%20%20%20%20var%20a%20%3D%20this.col1.x%3B%0A%20%20%20%20%20%20var%20b%20%3D%20this.col2.x%3B%0A%20%20%20%20%20%20var%20c%20%3D%20this.col1.y%3B%0A%20%20%20%20%20%20var%20d%20%3D%20this.col2.y%3B%0A%20%20%20%20%20%20var%20det%20%3D%20a%20*%20d%20-%20b%20*%20c%3B%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20out.col1.x%20%3D%20det%20*%20d%3B%0A%20%20%20%20%20%20out.col2.x%20%3D%20-det%20*%20b%3B%0A%20%20%20%20%20%20out.col1.y%20%3D%20-det%20*%20c%3B%0A%20%20%20%20%20%20out.col2.y%20%3D%20det%20*%20a%3B%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.Solve%20%3D%20function%20(out%2C%20bX%2C%20bY)%20%7B%0A%20%20%20%20%20%20if%20(bX%20%3D%3D%3D%20undefined)%20bX%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bY%20%3D%3D%3D%20undefined)%20bY%20%3D%200%3B%0A%20%20%20%20%20%20var%20a11%20%3D%20this.col1.x%3B%0A%20%20%20%20%20%20var%20a12%20%3D%20this.col2.x%3B%0A%20%20%20%20%20%20var%20a21%20%3D%20this.col1.y%3B%0A%20%20%20%20%20%20var%20a22%20%3D%20this.col2.y%3B%0A%20%20%20%20%20%20var%20det%20%3D%20a11%20*%20a22%20-%20a12%20*%20a21%3B%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20out.x%20%3D%20det%20*%20(a22%20*%20bX%20-%20a12%20*%20bY)%3B%0A%20%20%20%20%20%20out.y%20%3D%20det%20*%20(a11%20*%20bY%20-%20a21%20*%20bX)%3B%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat22.prototype.Abs%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1.Abs()%3B%0A%20%20%20%20%20%20this.col2.Abs()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.b2Mat33%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.col2%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.col3%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.b2Mat33%20%3D%20function%20(c1%2C%20c2%2C%20c3)%20%7B%0A%20%20%20%20%20%20if%20(c1%20%3D%3D%3D%20undefined)%20c1%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(c2%20%3D%3D%3D%20undefined)%20c2%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(c3%20%3D%3D%3D%20undefined)%20c3%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(!c1%20%26%26%20!c2%20%26%26%20!c3)%20%7B%0A%20%20%20%20%20%20%20%20this.col1.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.col2.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.col3.SetZero()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.col1.SetV(c1)%3B%0A%20%20%20%20%20%20%20%20this.col2.SetV(c2)%3B%0A%20%20%20%20%20%20%20%20this.col3.SetV(c3)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.SetVVV%20%3D%20function%20(c1%2C%20c2%2C%20c3)%20%7B%0A%20%20%20%20%20%20this.col1.SetV(c1)%3B%0A%20%20%20%20%20%20this.col2.SetV(c2)%3B%0A%20%20%20%20%20%20this.col3.SetV(c3)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Mat33(this.col1%2C%20this.col2%2C%20this.col3)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.SetM%20%3D%20function%20(m)%20%7B%0A%20%20%20%20%20%20this.col1.SetV(m.col1)%3B%0A%20%20%20%20%20%20this.col2.SetV(m.col2)%3B%0A%20%20%20%20%20%20this.col3.SetV(m.col3)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.AddM%20%3D%20function%20(m)%20%7B%0A%20%20%20%20%20%20this.col1.x%20%2B%3D%20m.col1.x%3B%0A%20%20%20%20%20%20this.col1.y%20%2B%3D%20m.col1.y%3B%0A%20%20%20%20%20%20this.col1.z%20%2B%3D%20m.col1.z%3B%0A%20%20%20%20%20%20this.col2.x%20%2B%3D%20m.col2.x%3B%0A%20%20%20%20%20%20this.col2.y%20%2B%3D%20m.col2.y%3B%0A%20%20%20%20%20%20this.col2.z%20%2B%3D%20m.col2.z%3B%0A%20%20%20%20%20%20this.col3.x%20%2B%3D%20m.col3.x%3B%0A%20%20%20%20%20%20this.col3.y%20%2B%3D%20m.col3.y%3B%0A%20%20%20%20%20%20this.col3.z%20%2B%3D%20m.col3.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.SetIdentity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1.x%20%3D%201.0%3B%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col3.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.y%20%3D%201.0%3B%0A%20%20%20%20%20%20this.col3.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col1.z%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.z%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col3.z%20%3D%201.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.SetZero%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.col1.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col3.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col3.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col1.z%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col2.z%20%3D%200.0%3B%0A%20%20%20%20%20%20this.col3.z%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.Solve22%20%3D%20function%20(out%2C%20bX%2C%20bY)%20%7B%0A%20%20%20%20%20%20if%20(bX%20%3D%3D%3D%20undefined)%20bX%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bY%20%3D%3D%3D%20undefined)%20bY%20%3D%200%3B%0A%20%20%20%20%20%20var%20a11%20%3D%20this.col1.x%3B%0A%20%20%20%20%20%20var%20a12%20%3D%20this.col2.x%3B%0A%20%20%20%20%20%20var%20a21%20%3D%20this.col1.y%3B%0A%20%20%20%20%20%20var%20a22%20%3D%20this.col2.y%3B%0A%20%20%20%20%20%20var%20det%20%3D%20a11%20*%20a22%20-%20a12%20*%20a21%3B%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20out.x%20%3D%20det%20*%20(a22%20*%20bX%20-%20a12%20*%20bY)%3B%0A%20%20%20%20%20%20out.y%20%3D%20det%20*%20(a11%20*%20bY%20-%20a21%20*%20bX)%3B%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Mat33.prototype.Solve33%20%3D%20function%20(out%2C%20bX%2C%20bY%2C%20bZ)%20%7B%0A%20%20%20%20%20%20if%20(bX%20%3D%3D%3D%20undefined)%20bX%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bY%20%3D%3D%3D%20undefined)%20bY%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bZ%20%3D%3D%3D%20undefined)%20bZ%20%3D%200%3B%0A%20%20%20%20%20%20var%20a11%20%3D%20this.col1.x%3B%0A%20%20%20%20%20%20var%20a21%20%3D%20this.col1.y%3B%0A%20%20%20%20%20%20var%20a31%20%3D%20this.col1.z%3B%0A%20%20%20%20%20%20var%20a12%20%3D%20this.col2.x%3B%0A%20%20%20%20%20%20var%20a22%20%3D%20this.col2.y%3B%0A%20%20%20%20%20%20var%20a32%20%3D%20this.col2.z%3B%0A%20%20%20%20%20%20var%20a13%20%3D%20this.col3.x%3B%0A%20%20%20%20%20%20var%20a23%20%3D%20this.col3.y%3B%0A%20%20%20%20%20%20var%20a33%20%3D%20this.col3.z%3B%0A%20%20%20%20%20%20var%20det%20%3D%0A%20%20%20%20%20%20%20%20a11%20*%20(a22%20*%20a33%20-%20a32%20*%20a23)%20%2B%0A%20%20%20%20%20%20%20%20a21%20*%20(a32%20*%20a13%20-%20a12%20*%20a33)%20%2B%0A%20%20%20%20%20%20%20%20a31%20*%20(a12%20*%20a23%20-%20a22%20*%20a13)%3B%0A%20%20%20%20%20%20if%20(det%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20det%20%3D%201.0%20%2F%20det%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20out.x%20%3D%0A%20%20%20%20%20%20%20%20det%20*%0A%20%20%20%20%20%20%20%20(bX%20*%20(a22%20*%20a33%20-%20a32%20*%20a23)%20%2B%0A%20%20%20%20%20%20%20%20%20%20bY%20*%20(a32%20*%20a13%20-%20a12%20*%20a33)%20%2B%0A%20%20%20%20%20%20%20%20%20%20bZ%20*%20(a12%20*%20a23%20-%20a22%20*%20a13))%3B%0A%20%20%20%20%20%20out.y%20%3D%0A%20%20%20%20%20%20%20%20det%20*%0A%20%20%20%20%20%20%20%20(a11%20*%20(bY%20*%20a33%20-%20bZ%20*%20a23)%20%2B%0A%20%20%20%20%20%20%20%20%20%20a21%20*%20(bZ%20*%20a13%20-%20bX%20*%20a33)%20%2B%0A%20%20%20%20%20%20%20%20%20%20a31%20*%20(bX%20*%20a23%20-%20bY%20*%20a13))%3B%0A%20%20%20%20%20%20out.z%20%3D%0A%20%20%20%20%20%20%20%20det%20*%0A%20%20%20%20%20%20%20%20(a11%20*%20(a22%20*%20bZ%20-%20a32%20*%20bY)%20%2B%0A%20%20%20%20%20%20%20%20%20%20a21%20*%20(a32%20*%20bX%20-%20a12%20*%20bZ)%20%2B%0A%20%20%20%20%20%20%20%20%20%20a31%20*%20(a12%20*%20bY%20-%20a22%20*%20bX))%3B%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.b2Math%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Math.IsValid%20%3D%20function%20(x)%20%7B%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0A%20%20%20%20%20%20return%20isFinite(x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Dot%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20return%20a.x%20*%20b.x%20%2B%20a.y%20*%20b.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.CrossVV%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20return%20a.x%20*%20b.y%20-%20a.y%20*%20b.x%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.CrossVF%20%3D%20function%20(a%2C%20s)%20%7B%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(s%20*%20a.y%2C%20-s%20*%20a.x)%3B%0A%20%20%20%20%20%20return%20v%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.CrossFV%20%3D%20function%20(s%2C%20a)%20%7B%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(-s%20*%20a.y%2C%20s%20*%20a.x)%3B%0A%20%20%20%20%20%20return%20v%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulMV%20%3D%20function%20(A%2C%20v)%20%7B%0A%20%20%20%20%20%20var%20u%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20A.col1.x%20*%20v.x%20%2B%20A.col2.x%20*%20v.y%2C%0A%20%20%20%20%20%20%20%20A.col1.y%20*%20v.x%20%2B%20A.col2.y%20*%20v.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20u%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulTMV%20%3D%20function%20(A%2C%20v)%20%7B%0A%20%20%20%20%20%20var%20u%20%3D%20new%20b2Vec2(b2Math.Dot(v%2C%20A.col1)%2C%20b2Math.Dot(v%2C%20A.col2))%3B%0A%20%20%20%20%20%20return%20u%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulX%20%3D%20function%20(T%2C%20v)%20%7B%0A%20%20%20%20%20%20var%20a%20%3D%20b2Math.MulMV(T.R%2C%20v)%3B%0A%20%20%20%20%20%20a.x%20%2B%3D%20T.position.x%3B%0A%20%20%20%20%20%20a.y%20%2B%3D%20T.position.y%3B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulXT%20%3D%20function%20(T%2C%20v)%20%7B%0A%20%20%20%20%20%20var%20a%20%3D%20b2Math.SubtractVV(v%2C%20T.position)%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20a.x%20*%20T.R.col1.x%20%2B%20a.y%20*%20T.R.col1.y%3B%0A%20%20%20%20%20%20a.y%20%3D%20a.x%20*%20T.R.col2.x%20%2B%20a.y%20*%20T.R.col2.y%3B%0A%20%20%20%20%20%20a.x%20%3D%20tX%3B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.AddVV%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(a.x%20%2B%20b.x%2C%20a.y%20%2B%20b.y)%3B%0A%20%20%20%20%20%20return%20v%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.SubtractVV%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(a.x%20-%20b.x%2C%20a.y%20-%20b.y)%3B%0A%20%20%20%20%20%20return%20v%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Distance%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20cX%20%3D%20a.x%20-%20b.x%3B%0A%20%20%20%20%20%20var%20cY%20%3D%20a.y%20-%20b.y%3B%0A%20%20%20%20%20%20return%20Math.sqrt(cX%20*%20cX%20%2B%20cY%20*%20cY)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.DistanceSquared%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20cX%20%3D%20a.x%20-%20b.x%3B%0A%20%20%20%20%20%20var%20cY%20%3D%20a.y%20-%20b.y%3B%0A%20%20%20%20%20%20return%20cX%20*%20cX%20%2B%20cY%20*%20cY%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulFV%20%3D%20function%20(s%2C%20a)%20%7B%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0A%20%20%20%20%20%20var%20v%20%3D%20new%20b2Vec2(s%20*%20a.x%2C%20s%20*%20a.y)%3B%0A%20%20%20%20%20%20return%20v%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.AddMM%20%3D%20function%20(A%2C%20B)%20%7B%0A%20%20%20%20%20%20var%20C%20%3D%20b2Mat22.FromVV(%0A%20%20%20%20%20%20%20%20b2Math.AddVV(A.col1%2C%20B.col1)%2C%0A%20%20%20%20%20%20%20%20b2Math.AddVV(A.col2%2C%20B.col2)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20return%20C%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulMM%20%3D%20function%20(A%2C%20B)%20%7B%0A%20%20%20%20%20%20var%20C%20%3D%20b2Mat22.FromVV(b2Math.MulMV(A%2C%20B.col1)%2C%20b2Math.MulMV(A%2C%20B.col2))%3B%0A%20%20%20%20%20%20return%20C%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MulTMM%20%3D%20function%20(A%2C%20B)%20%7B%0A%20%20%20%20%20%20var%20c1%20%3D%20new%20b2Vec2(b2Math.Dot(A.col1%2C%20B.col1)%2C%20b2Math.Dot(A.col2%2C%20B.col1))%3B%0A%20%20%20%20%20%20var%20c2%20%3D%20new%20b2Vec2(b2Math.Dot(A.col1%2C%20B.col2)%2C%20b2Math.Dot(A.col2%2C%20B.col2))%3B%0A%20%20%20%20%20%20var%20C%20%3D%20b2Mat22.FromVV(c1%2C%20c2)%3B%0A%20%20%20%20%20%20return%20C%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Abs%20%3D%20function%20(a)%20%7B%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0A%20%20%20%20%20%20return%20a%20%3E%200.0%20%3F%20a%20%3A%20-a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.AbsV%20%3D%20function%20(a)%20%7B%0A%20%20%20%20%20%20var%20b%20%3D%20new%20b2Vec2(b2Math.Abs(a.x)%2C%20b2Math.Abs(a.y))%3B%0A%20%20%20%20%20%20return%20b%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.AbsM%20%3D%20function%20(A)%20%7B%0A%20%20%20%20%20%20var%20B%20%3D%20b2Mat22.FromVV(b2Math.AbsV(A.col1)%2C%20b2Math.AbsV(A.col2))%3B%0A%20%20%20%20%20%20return%20B%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Min%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0A%20%20%20%20%20%20if%20(b%20%3D%3D%3D%20undefined)%20b%20%3D%200%3B%0A%20%20%20%20%20%20return%20a%20%3C%20b%20%3F%20a%20%3A%20b%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MinV%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20c%20%3D%20new%20b2Vec2(b2Math.Min(a.x%2C%20b.x)%2C%20b2Math.Min(a.y%2C%20b.y))%3B%0A%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Max%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0A%20%20%20%20%20%20if%20(b%20%3D%3D%3D%20undefined)%20b%20%3D%200%3B%0A%20%20%20%20%20%20return%20a%20%3E%20b%20%3F%20a%20%3A%20b%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.MaxV%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20c%20%3D%20new%20b2Vec2(b2Math.Max(a.x%2C%20b.x)%2C%20b2Math.Max(a.y%2C%20b.y))%3B%0A%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Clamp%20%3D%20function%20(a%2C%20low%2C%20high)%20%7B%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0A%20%20%20%20%20%20if%20(low%20%3D%3D%3D%20undefined)%20low%20%3D%200%3B%0A%20%20%20%20%20%20if%20(high%20%3D%3D%3D%20undefined)%20high%20%3D%200%3B%0A%20%20%20%20%20%20return%20a%20%3C%20low%20%3F%20low%20%3A%20a%20%3E%20high%20%3F%20high%20%3A%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.ClampV%20%3D%20function%20(a%2C%20low%2C%20high)%20%7B%0A%20%20%20%20%20%20return%20b2Math.MaxV(low%2C%20b2Math.MinV(a%2C%20high))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Swap%20%3D%20function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20tmp%20%3D%20a%5B0%5D%3B%0A%20%20%20%20%20%20a%5B0%5D%20%3D%20b%5B0%5D%3B%0A%20%20%20%20%20%20b%5B0%5D%20%3D%20tmp%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.Random%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20Math.random()%20*%202%20-%201%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.RandomRange%20%3D%20function%20(lo%2C%20hi)%20%7B%0A%20%20%20%20%20%20if%20(lo%20%3D%3D%3D%20undefined)%20lo%20%3D%200%3B%0A%20%20%20%20%20%20if%20(hi%20%3D%3D%3D%20undefined)%20hi%20%3D%200%3B%0A%20%20%20%20%20%20var%20r%20%3D%20Math.random()%3B%0A%20%20%20%20%20%20r%20%3D%20(hi%20-%20lo)%20*%20r%20%2B%20lo%3B%0A%20%20%20%20%20%20return%20r%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.NextPowerOfTwo%20%3D%20function%20(x)%20%7B%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%201)%20%26%200x7fffffff%3B%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%202)%20%26%200x3fffffff%3B%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%204)%20%26%200x0fffffff%3B%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%208)%20%26%200x00ffffff%3B%0A%20%20%20%20%20%20x%20%7C%3D%20(x%20%3E%3E%2016)%20%26%200x0000ffff%3B%0A%20%20%20%20%20%20return%20x%20%2B%201%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Math.IsPowerOfTwo%20%3D%20function%20(x)%20%7B%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0A%20%20%20%20%20%20var%20result%20%3D%20x%20%3E%200%20%26%26%20(x%20%26%20(x%20-%201))%20%3D%3D%200%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Common.Math.b2Math.b2Vec2_zero%20%3D%20new%20b2Vec2(0.0%2C%200.0)%3B%0A%20%20%20%20%20%20Box2D.Common.Math.b2Math.b2Mat22_identity%20%3D%20b2Mat22.FromVV(%0A%20%20%20%20%20%20%20%20new%20b2Vec2(1.0%2C%200.0)%2C%0A%20%20%20%20%20%20%20%20new%20b2Vec2(0.0%2C%201.0)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20Box2D.Common.Math.b2Math.b2Transform_identity%20%3D%20new%20b2Transform(%0A%20%20%20%20%20%20%20%20b2Math.b2Vec2_zero%2C%0A%20%20%20%20%20%20%20%20b2Math.b2Mat22_identity%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2Sweep.b2Sweep%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.localCenter%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.c0%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.c%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Sweep.prototype.Set%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20this.localCenter.SetV(other.localCenter)%3B%0A%20%20%20%20%20%20this.c0.SetV(other.c0)%3B%0A%20%20%20%20%20%20this.c.SetV(other.c)%3B%0A%20%20%20%20%20%20this.a0%20%3D%20other.a0%3B%0A%20%20%20%20%20%20this.a%20%3D%20other.a%3B%0A%20%20%20%20%20%20this.t0%20%3D%20other.t0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Sweep.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20copy%20%3D%20new%20b2Sweep()%3B%0A%20%20%20%20%20%20copy.localCenter.SetV(this.localCenter)%3B%0A%20%20%20%20%20%20copy.c0.SetV(this.c0)%3B%0A%20%20%20%20%20%20copy.c.SetV(this.c)%3B%0A%20%20%20%20%20%20copy.a0%20%3D%20this.a0%3B%0A%20%20%20%20%20%20copy.a%20%3D%20this.a%3B%0A%20%20%20%20%20%20copy.t0%20%3D%20this.t0%3B%0A%20%20%20%20%20%20return%20copy%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Sweep.prototype.GetTransform%20%3D%20function%20(xf%2C%20alpha)%20%7B%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0A%20%20%20%20%20%20xf.position.x%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.x%20%2B%20alpha%20*%20this.c.x%3B%0A%20%20%20%20%20%20xf.position.y%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.y%20%2B%20alpha%20*%20this.c.y%3B%0A%20%20%20%20%20%20var%20angle%20%3D%20(1.0%20-%20alpha)%20*%20this.a0%20%2B%20alpha%20*%20this.a%3B%0A%20%20%20%20%20%20xf.R.Set(angle)%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf.R%3B%0A%20%20%20%20%20%20xf.position.x%20-%3D%0A%20%20%20%20%20%20%20%20tMat.col1.x%20*%20this.localCenter.x%20%2B%20tMat.col2.x%20*%20this.localCenter.y%3B%0A%20%20%20%20%20%20xf.position.y%20-%3D%0A%20%20%20%20%20%20%20%20tMat.col1.y%20*%20this.localCenter.x%20%2B%20tMat.col2.y%20*%20this.localCenter.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Sweep.prototype.Advance%20%3D%20function%20(t)%20%7B%0A%20%20%20%20%20%20if%20(t%20%3D%3D%3D%20undefined)%20t%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.t0%20%3C%20t%20%26%26%201.0%20-%20this.t0%20%3E%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20var%20alpha%20%3D%20(t%20-%20this.t0)%20%2F%20(1.0%20-%20this.t0)%3B%0A%20%20%20%20%20%20%20%20this.c0.x%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.x%20%2B%20alpha%20*%20this.c.x%3B%0A%20%20%20%20%20%20%20%20this.c0.y%20%3D%20(1.0%20-%20alpha)%20*%20this.c0.y%20%2B%20alpha%20*%20this.c.y%3B%0A%20%20%20%20%20%20%20%20this.a0%20%3D%20(1.0%20-%20alpha)%20*%20this.a0%20%2B%20alpha%20*%20this.a%3B%0A%20%20%20%20%20%20%20%20this.t0%20%3D%20t%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Transform.b2Transform%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.R%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Transform.prototype.b2Transform%20%3D%20function%20(pos%2C%20r)%20%7B%0A%20%20%20%20%20%20if%20(pos%20%3D%3D%3D%20undefined)%20pos%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(r%20%3D%3D%3D%20undefined)%20r%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(pos)%20%7B%0A%20%20%20%20%20%20%20%20this.position.SetV(pos)%3B%0A%20%20%20%20%20%20%20%20this.R.SetM(r)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Transform.prototype.Initialize%20%3D%20function%20(pos%2C%20r)%20%7B%0A%20%20%20%20%20%20this.position.SetV(pos)%3B%0A%20%20%20%20%20%20this.R.SetM(r)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Transform.prototype.SetIdentity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.position.SetZero()%3B%0A%20%20%20%20%20%20this.R.SetIdentity()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Transform.prototype.Set%20%3D%20function%20(x)%20%7B%0A%20%20%20%20%20%20this.position.SetV(x.position)%3B%0A%20%20%20%20%20%20this.R.SetM(x.R)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Transform.prototype.GetAngle%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20Math.atan2(this.R.col1.y%2C%20this.R.col1.x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.b2Vec2%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Vec2.prototype.b2Vec2%20%3D%20function%20(x_%2C%20y_)%20%7B%0A%20%20%20%20%20%20if%20(x_%20%3D%3D%3D%20undefined)%20x_%20%3D%200%3B%0A%20%20%20%20%20%20if%20(y_%20%3D%3D%3D%20undefined)%20y_%20%3D%200%3B%0A%20%20%20%20%20%20this.x%20%3D%20x_%3B%0A%20%20%20%20%20%20this.y%20%3D%20y_%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.SetZero%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.y%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Set%20%3D%20function%20(x_%2C%20y_)%20%7B%0A%20%20%20%20%20%20if%20(x_%20%3D%3D%3D%20undefined)%20x_%20%3D%200%3B%0A%20%20%20%20%20%20if%20(y_%20%3D%3D%3D%20undefined)%20y_%20%3D%200%3B%0A%20%20%20%20%20%20this.x%20%3D%20x_%3B%0A%20%20%20%20%20%20this.y%20%3D%20y_%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.SetV%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20v.x%3B%0A%20%20%20%20%20%20this.y%20%3D%20v.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.GetNegative%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec2(-this.x%2C%20-this.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.NegativeSelf%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20-this.x%3B%0A%20%20%20%20%20%20this.y%20%3D%20-this.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.Make%20%3D%20function%20(x_%2C%20y_)%20%7B%0A%20%20%20%20%20%20if%20(x_%20%3D%3D%3D%20undefined)%20x_%20%3D%200%3B%0A%20%20%20%20%20%20if%20(y_%20%3D%3D%3D%20undefined)%20y_%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(x_%2C%20y_)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec2(this.x%2C%20this.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Add%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20this.x%20%2B%3D%20v.x%3B%0A%20%20%20%20%20%20this.y%20%2B%3D%20v.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Subtract%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20this.x%20-%3D%20v.x%3B%0A%20%20%20%20%20%20this.y%20-%3D%20v.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Multiply%20%3D%20function%20(a)%20%7B%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0A%20%20%20%20%20%20this.x%20*%3D%20a%3B%0A%20%20%20%20%20%20this.y%20*%3D%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.MulM%20%3D%20function%20(A)%20%7B%0A%20%20%20%20%20%20var%20tX%20%3D%20this.x%3B%0A%20%20%20%20%20%20this.x%20%3D%20A.col1.x%20*%20tX%20%2B%20A.col2.x%20*%20this.y%3B%0A%20%20%20%20%20%20this.y%20%3D%20A.col1.y%20*%20tX%20%2B%20A.col2.y%20*%20this.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.MulTM%20%3D%20function%20(A)%20%7B%0A%20%20%20%20%20%20var%20tX%20%3D%20b2Math.Dot(this%2C%20A.col1)%3B%0A%20%20%20%20%20%20this.y%20%3D%20b2Math.Dot(this%2C%20A.col2)%3B%0A%20%20%20%20%20%20this.x%20%3D%20tX%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.CrossVF%20%3D%20function%20(s)%20%7B%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20this.x%3B%0A%20%20%20%20%20%20this.x%20%3D%20s%20*%20this.y%3B%0A%20%20%20%20%20%20this.y%20%3D%20-s%20*%20tX%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.CrossFV%20%3D%20function%20(s)%20%7B%0A%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20undefined)%20s%20%3D%200%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20this.x%3B%0A%20%20%20%20%20%20this.x%20%3D%20-s%20*%20this.y%3B%0A%20%20%20%20%20%20this.y%20%3D%20s%20*%20tX%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.MinV%20%3D%20function%20(b)%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20this.x%20%3C%20b.x%20%3F%20this.x%20%3A%20b.x%3B%0A%20%20%20%20%20%20this.y%20%3D%20this.y%20%3C%20b.y%20%3F%20this.y%20%3A%20b.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.MaxV%20%3D%20function%20(b)%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20this.x%20%3E%20b.x%20%3F%20this.x%20%3A%20b.x%3B%0A%20%20%20%20%20%20this.y%20%3D%20this.y%20%3E%20b.y%20%3F%20this.y%20%3A%20b.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Abs%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20if%20(this.x%20%3C%200)%20this.x%20%3D%20-this.x%3B%0A%20%20%20%20%20%20if%20(this.y%20%3C%200)%20this.y%20%3D%20-this.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Length%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.LengthSquared%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.x%20*%20this.x%20%2B%20this.y%20*%20this.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.Normalize%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(this.x%20*%20this.x%20%2B%20this.y%20*%20this.y)%3B%0A%20%20%20%20%20%20if%20(length%20%3C%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20invLength%20%3D%201.0%20%2F%20length%3B%0A%20%20%20%20%20%20this.x%20*%3D%20invLength%3B%0A%20%20%20%20%20%20this.y%20*%3D%20invLength%3B%0A%20%20%20%20%20%20return%20length%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec2.prototype.IsValid%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20b2Math.IsValid(this.x)%20%26%26%20b2Math.IsValid(this.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.b2Vec3%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Vec3.prototype.b2Vec3%20%3D%20function%20(x%2C%20y%2C%20z)%20%7B%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0A%20%20%20%20%20%20if%20(y%20%3D%3D%3D%20undefined)%20y%20%3D%200%3B%0A%20%20%20%20%20%20if%20(z%20%3D%3D%3D%20undefined)%20z%20%3D%200%3B%0A%20%20%20%20%20%20this.x%20%3D%20x%3B%0A%20%20%20%20%20%20this.y%20%3D%20y%3B%0A%20%20%20%20%20%20this.z%20%3D%20z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.SetZero%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20this.y%20%3D%20this.z%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.Set%20%3D%20function%20(x%2C%20y%2C%20z)%20%7B%0A%20%20%20%20%20%20if%20(x%20%3D%3D%3D%20undefined)%20x%20%3D%200%3B%0A%20%20%20%20%20%20if%20(y%20%3D%3D%3D%20undefined)%20y%20%3D%200%3B%0A%20%20%20%20%20%20if%20(z%20%3D%3D%3D%20undefined)%20z%20%3D%200%3B%0A%20%20%20%20%20%20this.x%20%3D%20x%3B%0A%20%20%20%20%20%20this.y%20%3D%20y%3B%0A%20%20%20%20%20%20this.z%20%3D%20z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.SetV%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20v.x%3B%0A%20%20%20%20%20%20this.y%20%3D%20v.y%3B%0A%20%20%20%20%20%20this.z%20%3D%20v.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.GetNegative%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec3(-this.x%2C%20-this.y%2C%20-this.z)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.NegativeSelf%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.x%20%3D%20-this.x%3B%0A%20%20%20%20%20%20this.y%20%3D%20-this.y%3B%0A%20%20%20%20%20%20this.z%20%3D%20-this.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec3(this.x%2C%20this.y%2C%20this.z)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.Add%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20this.x%20%2B%3D%20v.x%3B%0A%20%20%20%20%20%20this.y%20%2B%3D%20v.y%3B%0A%20%20%20%20%20%20this.z%20%2B%3D%20v.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.Subtract%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20this.x%20-%3D%20v.x%3B%0A%20%20%20%20%20%20this.y%20-%3D%20v.y%3B%0A%20%20%20%20%20%20this.z%20-%3D%20v.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Vec3.prototype.Multiply%20%3D%20function%20(a)%20%7B%0A%20%20%20%20%20%20if%20(a%20%3D%3D%3D%20undefined)%20a%20%3D%200%3B%0A%20%20%20%20%20%20this.x%20*%3D%20a%3B%0A%20%20%20%20%20%20this.y%20*%3D%20a%3B%0A%20%20%20%20%20%20this.z%20*%3D%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2ControllerEdge%20%3D%20Box2D.Dynamics.Controllers.b2ControllerEdge%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%2C%0A%20%20%20%20%20%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0A%20%20%20%20%20%20b2CircleContact%20%3D%20Box2D.Dynamics.Contacts.b2CircleContact%2C%0A%20%20%20%20%20%20b2Contact%20%3D%20Box2D.Dynamics.Contacts.b2Contact%2C%0A%20%20%20%20%20%20b2ContactConstraint%20%3D%20Box2D.Dynamics.Contacts.b2ContactConstraint%2C%0A%20%20%20%20%20%20b2ContactConstraintPoint%20%3D%20Box2D.Dynamics.Contacts.b2ContactConstraintPoint%2C%0A%20%20%20%20%20%20b2ContactEdge%20%3D%20Box2D.Dynamics.Contacts.b2ContactEdge%2C%0A%20%20%20%20%20%20b2ContactFactory%20%3D%20Box2D.Dynamics.Contacts.b2ContactFactory%2C%0A%20%20%20%20%20%20b2ContactRegister%20%3D%20Box2D.Dynamics.Contacts.b2ContactRegister%2C%0A%20%20%20%20%20%20b2ContactResult%20%3D%20Box2D.Dynamics.Contacts.b2ContactResult%2C%0A%20%20%20%20%20%20b2ContactSolver%20%3D%20Box2D.Dynamics.Contacts.b2ContactSolver%2C%0A%20%20%20%20%20%20b2EdgeAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2EdgeAndCircleContact%2C%0A%20%20%20%20%20%20b2NullContact%20%3D%20Box2D.Dynamics.Contacts.b2NullContact%2C%0A%20%20%20%20%20%20b2PolyAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndCircleContact%2C%0A%20%20%20%20%20%20b2PolyAndEdgeContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndEdgeContact%2C%0A%20%20%20%20%20%20b2PolygonContact%20%3D%20Box2D.Dynamics.Contacts.b2PolygonContact%2C%0A%20%20%20%20%20%20b2PositionSolverManifold%20%3D%20Box2D.Dynamics.Contacts.b2PositionSolverManifold%2C%0A%20%20%20%20%20%20b2Controller%20%3D%20Box2D.Dynamics.Controllers.b2Controller%2C%0A%20%20%20%20%20%20b2DistanceJoint%20%3D%20Box2D.Dynamics.Joints.b2DistanceJoint%2C%0A%20%20%20%20%20%20b2DistanceJointDef%20%3D%20Box2D.Dynamics.Joints.b2DistanceJointDef%2C%0A%20%20%20%20%20%20b2FrictionJoint%20%3D%20Box2D.Dynamics.Joints.b2FrictionJoint%2C%0A%20%20%20%20%20%20b2FrictionJointDef%20%3D%20Box2D.Dynamics.Joints.b2FrictionJointDef%2C%0A%20%20%20%20%20%20b2GearJoint%20%3D%20Box2D.Dynamics.Joints.b2GearJoint%2C%0A%20%20%20%20%20%20b2GearJointDef%20%3D%20Box2D.Dynamics.Joints.b2GearJointDef%2C%0A%20%20%20%20%20%20b2Jacobian%20%3D%20Box2D.Dynamics.Joints.b2Jacobian%2C%0A%20%20%20%20%20%20b2Joint%20%3D%20Box2D.Dynamics.Joints.b2Joint%2C%0A%20%20%20%20%20%20b2JointDef%20%3D%20Box2D.Dynamics.Joints.b2JointDef%2C%0A%20%20%20%20%20%20b2JointEdge%20%3D%20Box2D.Dynamics.Joints.b2JointEdge%2C%0A%20%20%20%20%20%20b2LineJoint%20%3D%20Box2D.Dynamics.Joints.b2LineJoint%2C%0A%20%20%20%20%20%20b2LineJointDef%20%3D%20Box2D.Dynamics.Joints.b2LineJointDef%2C%0A%20%20%20%20%20%20b2MouseJoint%20%3D%20Box2D.Dynamics.Joints.b2MouseJoint%2C%0A%20%20%20%20%20%20b2MouseJointDef%20%3D%20Box2D.Dynamics.Joints.b2MouseJointDef%2C%0A%20%20%20%20%20%20b2PrismaticJoint%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJoint%2C%0A%20%20%20%20%20%20b2PrismaticJointDef%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJointDef%2C%0A%20%20%20%20%20%20b2PulleyJoint%20%3D%20Box2D.Dynamics.Joints.b2PulleyJoint%2C%0A%20%20%20%20%20%20b2PulleyJointDef%20%3D%20Box2D.Dynamics.Joints.b2PulleyJointDef%2C%0A%20%20%20%20%20%20b2RevoluteJoint%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJoint%2C%0A%20%20%20%20%20%20b2RevoluteJointDef%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJointDef%2C%0A%20%20%20%20%20%20b2WeldJoint%20%3D%20Box2D.Dynamics.Joints.b2WeldJoint%2C%0A%20%20%20%20%20%20b2WeldJointDef%20%3D%20Box2D.Dynamics.Joints.b2WeldJointDef%3B%0A%0A%20%20%20%20b2Body.b2Body%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_xf%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20this.m_sweep%20%3D%20new%20b2Sweep()%3B%0A%20%20%20%20%20%20this.m_linearVelocity%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_force%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.connectEdges%20%3D%20function%20(s1%2C%20s2%2C%20angle1)%20%7B%0A%20%20%20%20%20%20if%20(angle1%20%3D%3D%3D%20undefined)%20angle1%20%3D%200%3B%0A%20%20%20%20%20%20var%20angle2%20%3D%20Math.atan2(%0A%20%20%20%20%20%20%20%20s2.GetDirectionVector().y%2C%0A%20%20%20%20%20%20%20%20s2.GetDirectionVector().x%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20coreOffset%20%3D%20Math.tan((angle2%20-%20angle1)%20*%200.5)%3B%0A%20%20%20%20%20%20var%20core%20%3D%20b2Math.MulFV(coreOffset%2C%20s2.GetDirectionVector())%3B%0A%20%20%20%20%20%20core%20%3D%20b2Math.SubtractVV(core%2C%20s2.GetNormalVector())%3B%0A%20%20%20%20%20%20core%20%3D%20b2Math.MulFV(b2Settings.b2_toiSlop%2C%20core)%3B%0A%20%20%20%20%20%20core%20%3D%20b2Math.AddVV(core%2C%20s2.GetVertex1())%3B%0A%20%20%20%20%20%20var%20cornerDir%20%3D%20b2Math.AddVV(%0A%20%20%20%20%20%20%20%20s1.GetDirectionVector()%2C%0A%20%20%20%20%20%20%20%20s2.GetDirectionVector()%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20cornerDir.Normalize()%3B%0A%20%20%20%20%20%20var%20convex%20%3D%0A%20%20%20%20%20%20%20%20b2Math.Dot(s1.GetDirectionVector()%2C%20s2.GetNormalVector())%20%3E%200.0%3B%0A%20%20%20%20%20%20s1.SetNextEdge(s2%2C%20core%2C%20cornerDir%2C%20convex)%3B%0A%20%20%20%20%20%20s2.SetPrevEdge(s1%2C%20core%2C%20cornerDir%2C%20convex)%3B%0A%20%20%20%20%20%20return%20angle2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.CreateFixture%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20fixture%20%3D%20new%20b2Fixture()%3B%0A%20%20%20%20%20%20fixture.Create(this%2C%20this.m_xf%2C%20def)%3B%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2Body.e_activeFlag)%20%7B%0A%20%20%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20%20%20fixture.CreateProxy(broadPhase%2C%20this.m_xf)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20fixture.m_next%20%3D%20this.m_fixtureList%3B%0A%20%20%20%20%20%20this.m_fixtureList%20%3D%20fixture%3B%0A%20%20%20%20%20%20%2B%2Bthis.m_fixtureCount%3B%0A%20%20%20%20%20%20fixture.m_body%20%3D%20this%3B%0A%20%20%20%20%20%20if%20(fixture.m_density%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.ResetMassData()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_world.m_flags%20%7C%3D%20b2World.e_newFixture%3B%0A%20%20%20%20%20%20return%20fixture%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.CreateFixture2%20%3D%20function%20(shape%2C%20density)%20%7B%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20def%20%3D%20new%20b2FixtureDef()%3B%0A%20%20%20%20%20%20def.shape%20%3D%20shape%3B%0A%20%20%20%20%20%20def.density%20%3D%20density%3B%0A%20%20%20%20%20%20return%20this.CreateFixture(def)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.DestroyFixture%20%3D%20function%20(fixture)%20%7B%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20node%20%3D%20this.m_fixtureList%3B%0A%20%20%20%20%20%20var%20ppF%20%3D%20null%3B%0A%20%20%20%20%20%20var%20found%20%3D%20false%3B%0A%20%20%20%20%20%20while%20(node%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20if%20(node%20%3D%3D%20fixture)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(ppF)%20ppF.m_next%20%3D%20fixture.m_next%3B%0A%20%20%20%20%20%20%20%20%20%20else%20this.m_fixtureList%20%3D%20fixture.m_next%3B%0A%20%20%20%20%20%20%20%20%20%20found%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20ppF%20%3D%20node%3B%0A%20%20%20%20%20%20%20%20node%20%3D%20node.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20edge%20%3D%20this.m_contactList%3B%0A%20%20%20%20%20%20while%20(edge)%20%7B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20edge.contact%3B%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20c.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20c.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20if%20(fixture%20%3D%3D%20fixtureA%20%7C%7C%20fixture%20%3D%3D%20fixtureB)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_world.m_contactManager.Destroy(c)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2Body.e_activeFlag)%20%7B%0A%20%20%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20%20%20fixture.DestroyProxy(broadPhase)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20fixture.Destroy()%3B%0A%20%20%20%20%20%20fixture.m_body%20%3D%20null%3B%0A%20%20%20%20%20%20fixture.m_next%20%3D%20null%3B%0A%20%20%20%20%20%20--this.m_fixtureCount%3B%0A%20%20%20%20%20%20this.ResetMassData()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetPositionAndAngle%20%3D%20function%20(position%2C%20angle)%20%7B%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0A%20%20%20%20%20%20var%20f%3B%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_xf.R.Set(angle)%3B%0A%20%20%20%20%20%20this.m_xf.position.SetV(position)%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_xf.R%3B%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0A%20%20%20%20%20%20this.m_sweep.c.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20this.m_sweep.c.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20this.m_sweep.c.x%20%2B%3D%20this.m_xf.position.x%3B%0A%20%20%20%20%20%20this.m_sweep.c.y%20%2B%3D%20this.m_xf.position.y%3B%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(this.m_sweep.c)%3B%0A%20%20%20%20%20%20this.m_sweep.a0%20%3D%20this.m_sweep.a%20%3D%20angle%3B%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20f.Synchronize(broadPhase%2C%20this.m_xf%2C%20this.m_xf)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_world.m_contactManager.FindNewContacts()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetTransform%20%3D%20function%20(xf)%20%7B%0A%20%20%20%20%20%20this.SetPositionAndAngle(xf.position%2C%20xf.GetAngle())%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetTransform%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_xf%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetPosition%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_xf.position%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetPosition%20%3D%20function%20(position)%20%7B%0A%20%20%20%20%20%20this.SetPositionAndAngle(position%2C%20this.GetAngle())%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetAngle%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_sweep.a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetAngle%20%3D%20function%20(angle)%20%7B%0A%20%20%20%20%20%20if%20(angle%20%3D%3D%3D%20undefined)%20angle%20%3D%200%3B%0A%20%20%20%20%20%20this.SetPositionAndAngle(this.GetPosition()%2C%20angle)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetWorldCenter%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_sweep.c%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLocalCenter%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_sweep.localCenter%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetLinearVelocity%20%3D%20function%20(v)%20%7B%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_linearVelocity.SetV(v)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLinearVelocity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_linearVelocity%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetAngularVelocity%20%3D%20function%20(omega)%20%7B%0A%20%20%20%20%20%20if%20(omega%20%3D%3D%3D%20undefined)%20omega%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_angularVelocity%20%3D%20omega%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetAngularVelocity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_angularVelocity%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetDefinition%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bd%20%3D%20new%20b2BodyDef()%3B%0A%20%20%20%20%20%20bd.type%20%3D%20this.GetType()%3B%0A%20%20%20%20%20%20bd.allowSleep%20%3D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%20b2Body.e_allowSleepFlag%3B%0A%20%20%20%20%20%20bd.angle%20%3D%20this.GetAngle()%3B%0A%20%20%20%20%20%20bd.angularDamping%20%3D%20this.m_angularDamping%3B%0A%20%20%20%20%20%20bd.angularVelocity%20%3D%20this.m_angularVelocity%3B%0A%20%20%20%20%20%20bd.fixedRotation%20%3D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%20b2Body.e_fixedRotationFlag%3B%0A%20%20%20%20%20%20bd.bullet%20%3D%20(this.m_flags%20%26%20b2Body.e_bulletFlag)%20%3D%3D%20b2Body.e_bulletFlag%3B%0A%20%20%20%20%20%20bd.awake%20%3D%20(this.m_flags%20%26%20b2Body.e_awakeFlag)%20%3D%3D%20b2Body.e_awakeFlag%3B%0A%20%20%20%20%20%20bd.linearDamping%20%3D%20this.m_linearDamping%3B%0A%20%20%20%20%20%20bd.linearVelocity.SetV(this.GetLinearVelocity())%3B%0A%20%20%20%20%20%20bd.position%20%3D%20this.GetPosition()%3B%0A%20%20%20%20%20%20bd.userData%20%3D%20this.GetUserData()%3B%0A%20%20%20%20%20%20return%20bd%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.ApplyForce%20%3D%20function%20(force%2C%20point)%20%7B%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_force.x%20%2B%3D%20force.x%3B%0A%20%20%20%20%20%20this.m_force.y%20%2B%3D%20force.y%3B%0A%20%20%20%20%20%20this.m_torque%20%2B%3D%0A%20%20%20%20%20%20%20%20(point.x%20-%20this.m_sweep.c.x)%20*%20force.y%20-%0A%20%20%20%20%20%20%20%20(point.y%20-%20this.m_sweep.c.y)%20*%20force.x%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.ApplyTorque%20%3D%20function%20(torque)%20%7B%0A%20%20%20%20%20%20if%20(torque%20%3D%3D%3D%20undefined)%20torque%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_torque%20%2B%3D%20torque%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.ApplyImpulse%20%3D%20function%20(impulse%2C%20point)%20%7B%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_linearVelocity.x%20%2B%3D%20this.m_invMass%20*%20impulse.x%3B%0A%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%3D%20this.m_invMass%20*%20impulse.y%3B%0A%20%20%20%20%20%20this.m_angularVelocity%20%2B%3D%0A%20%20%20%20%20%20%20%20this.m_invI%20*%0A%20%20%20%20%20%20%20%20((point.x%20-%20this.m_sweep.c.x)%20*%20impulse.y%20-%0A%20%20%20%20%20%20%20%20%20%20(point.y%20-%20this.m_sweep.c.y)%20*%20impulse.x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.Split%20%3D%20function%20(callback)%20%7B%0A%20%20%20%20%20%20var%20linearVelocity%20%3D%20this.GetLinearVelocity().Copy()%3B%0A%20%20%20%20%20%20var%20angularVelocity%20%3D%20this.GetAngularVelocity()%3B%0A%20%20%20%20%20%20var%20center%20%3D%20this.GetWorldCenter()%3B%0A%20%20%20%20%20%20var%20body1%20%3D%20this%3B%0A%20%20%20%20%20%20var%20body2%20%3D%20this.m_world.CreateBody(this.GetDefinition())%3B%0A%20%20%20%20%20%20var%20prev%3B%0A%20%20%20%20%20%20for%20(var%20f%20%3D%20body1.m_fixtureList%3B%20f%3B%20)%20%7B%0A%20%20%20%20%20%20%20%20if%20(callback(f))%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20next%20%3D%20f.m_next%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(prev)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20prev.m_next%20%3D%20next%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20body1.m_fixtureList%20%3D%20next%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20body1.m_fixtureCount--%3B%0A%20%20%20%20%20%20%20%20%20%20f.m_next%20%3D%20body2.m_fixtureList%3B%0A%20%20%20%20%20%20%20%20%20%20body2.m_fixtureList%20%3D%20f%3B%0A%20%20%20%20%20%20%20%20%20%20body2.m_fixtureCount%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20f.m_body%20%3D%20body2%3B%0A%20%20%20%20%20%20%20%20%20%20f%20%3D%20next%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20prev%20%3D%20f%3B%0A%20%20%20%20%20%20%20%20%20%20f%20%3D%20f.m_next%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20body1.ResetMassData()%3B%0A%20%20%20%20%20%20body2.ResetMassData()%3B%0A%20%20%20%20%20%20var%20center1%20%3D%20body1.GetWorldCenter()%3B%0A%20%20%20%20%20%20var%20center2%20%3D%20body2.GetWorldCenter()%3B%0A%20%20%20%20%20%20var%20velocity1%20%3D%20b2Math.AddVV(%0A%20%20%20%20%20%20%20%20linearVelocity%2C%0A%20%20%20%20%20%20%20%20b2Math.CrossFV(angularVelocity%2C%20b2Math.SubtractVV(center1%2C%20center))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20velocity2%20%3D%20b2Math.AddVV(%0A%20%20%20%20%20%20%20%20linearVelocity%2C%0A%20%20%20%20%20%20%20%20b2Math.CrossFV(angularVelocity%2C%20b2Math.SubtractVV(center2%2C%20center))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20body1.SetLinearVelocity(velocity1)%3B%0A%20%20%20%20%20%20body2.SetLinearVelocity(velocity2)%3B%0A%20%20%20%20%20%20body1.SetAngularVelocity(angularVelocity)%3B%0A%20%20%20%20%20%20body2.SetAngularVelocity(angularVelocity)%3B%0A%20%20%20%20%20%20body1.SynchronizeFixtures()%3B%0A%20%20%20%20%20%20body2.SynchronizeFixtures()%3B%0A%20%20%20%20%20%20return%20body2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.Merge%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20var%20f%3B%0A%20%20%20%20%20%20for%20(f%20%3D%20other.m_fixtureList%3B%20f%3B%20)%20%7B%0A%20%20%20%20%20%20%20%20var%20next%20%3D%20f.m_next%3B%0A%20%20%20%20%20%20%20%20other.m_fixtureCount--%3B%0A%20%20%20%20%20%20%20%20f.m_next%20%3D%20this.m_fixtureList%3B%0A%20%20%20%20%20%20%20%20this.m_fixtureList%20%3D%20f%3B%0A%20%20%20%20%20%20%20%20this.m_fixtureCount%2B%2B%3B%0A%20%20%20%20%20%20%20%20f.m_body%20%3D%20body2%3B%0A%20%20%20%20%20%20%20%20f%20%3D%20next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20body1.m_fixtureCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20body1%20%3D%20this%3B%0A%20%20%20%20%20%20var%20body2%20%3D%20other%3B%0A%20%20%20%20%20%20var%20center1%20%3D%20body1.GetWorldCenter()%3B%0A%20%20%20%20%20%20var%20center2%20%3D%20body2.GetWorldCenter()%3B%0A%20%20%20%20%20%20var%20velocity1%20%3D%20body1.GetLinearVelocity().Copy()%3B%0A%20%20%20%20%20%20var%20velocity2%20%3D%20body2.GetLinearVelocity().Copy()%3B%0A%20%20%20%20%20%20var%20angular1%20%3D%20body1.GetAngularVelocity()%3B%0A%20%20%20%20%20%20var%20angular%20%3D%20body2.GetAngularVelocity()%3B%0A%20%20%20%20%20%20body1.ResetMassData()%3B%0A%20%20%20%20%20%20this.SynchronizeFixtures()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetMass%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_mass%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetInertia%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_I%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetMassData%20%3D%20function%20(data)%20%7B%0A%20%20%20%20%20%20data.mass%20%3D%20this.m_mass%3B%0A%20%20%20%20%20%20data.I%20%3D%20this.m_I%3B%0A%20%20%20%20%20%20data.center.SetV(this.m_sweep.localCenter)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetMassData%20%3D%20function%20(massData)%20%7B%0A%20%20%20%20%20%20b2Settings.b2Assert(this.m_world.IsLocked()%20%3D%3D%20false)%3B%0A%20%20%20%20%20%20if%20(this.m_world.IsLocked()%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_type%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_invMass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_mass%20%3D%20massData.mass%3B%0A%20%20%20%20%20%20if%20(this.m_mass%20%3C%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%201.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_invMass%20%3D%201.0%20%2F%20this.m_mass%3B%0A%20%20%20%20%20%20if%20(massData.I%20%3E%200.0%20%26%26%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20this.m_I%20%3D%0A%20%20%20%20%20%20%20%20%20%20massData.I%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_mass%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20(massData.center.x%20*%20massData.center.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20massData.center.y%20*%20massData.center.y)%3B%0A%20%20%20%20%20%20%20%20this.m_invI%20%3D%201.0%20%2F%20this.m_I%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20oldCenter%20%3D%20this.m_sweep.c.Copy()%3B%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetV(massData.center)%3B%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf%2C%20this.m_sweep.localCenter))%3B%0A%20%20%20%20%20%20this.m_sweep.c.SetV(this.m_sweep.c0)%3B%0A%20%20%20%20%20%20this.m_linearVelocity.x%20%2B%3D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20-(this.m_sweep.c.y%20-%20oldCenter.y)%3B%0A%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%3D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20%2B(this.m_sweep.c.x%20-%20oldCenter.x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.ResetMassData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_mass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_invMass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetZero()%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%3D%20b2Body.b2_staticBody%20%7C%7C%0A%20%20%20%20%20%20%20%20this.m_type%20%3D%3D%20b2Body.b2_kinematicBody%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20center%20%3D%20b2Vec2.Make(0%2C%200)%3B%0A%20%20%20%20%20%20for%20(var%20f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20if%20(f.m_density%20%3D%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20massData%20%3D%20f.GetMassData()%3B%0A%20%20%20%20%20%20%20%20this.m_mass%20%2B%3D%20massData.mass%3B%0A%20%20%20%20%20%20%20%20center.x%20%2B%3D%20massData.center.x%20*%20massData.mass%3B%0A%20%20%20%20%20%20%20%20center.y%20%2B%3D%20massData.center.y%20*%20massData.mass%3B%0A%20%20%20%20%20%20%20%20this.m_I%20%2B%3D%20massData.I%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_mass%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%201.0%20%2F%20this.m_mass%3B%0A%20%20%20%20%20%20%20%20center.x%20*%3D%20this.m_invMass%3B%0A%20%20%20%20%20%20%20%20center.y%20*%3D%20this.m_invMass%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%201.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_I%20%3E%200.0%20%26%26%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20this.m_I%20-%3D%20this.m_mass%20*%20(center.x%20*%20center.x%20%2B%20center.y%20*%20center.y)%3B%0A%20%20%20%20%20%20%20%20this.m_I%20*%3D%20this.m_inertiaScale%3B%0A%20%20%20%20%20%20%20%20b2Settings.b2Assert(this.m_I%20%3E%200)%3B%0A%20%20%20%20%20%20%20%20this.m_invI%20%3D%201.0%20%2F%20this.m_I%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20oldCenter%20%3D%20this.m_sweep.c.Copy()%3B%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetV(center)%3B%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf%2C%20this.m_sweep.localCenter))%3B%0A%20%20%20%20%20%20this.m_sweep.c.SetV(this.m_sweep.c0)%3B%0A%20%20%20%20%20%20this.m_linearVelocity.x%20%2B%3D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20-(this.m_sweep.c.y%20-%20oldCenter.y)%3B%0A%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%3D%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20%2B(this.m_sweep.c.x%20-%20oldCenter.x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetWorldPoint%20%3D%20function%20(localPoint)%20%7B%0A%20%20%20%20%20%20var%20A%20%3D%20this.m_xf.R%3B%0A%20%20%20%20%20%20var%20u%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20A.col1.x%20*%20localPoint.x%20%2B%20A.col2.x%20*%20localPoint.y%2C%0A%20%20%20%20%20%20%20%20A.col1.y%20*%20localPoint.x%20%2B%20A.col2.y%20*%20localPoint.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20u.x%20%2B%3D%20this.m_xf.position.x%3B%0A%20%20%20%20%20%20u.y%20%2B%3D%20this.m_xf.position.y%3B%0A%20%20%20%20%20%20return%20u%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetWorldVector%20%3D%20function%20(localVector)%20%7B%0A%20%20%20%20%20%20return%20b2Math.MulMV(this.m_xf.R%2C%20localVector)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLocalPoint%20%3D%20function%20(worldPoint)%20%7B%0A%20%20%20%20%20%20return%20b2Math.MulXT(this.m_xf%2C%20worldPoint)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLocalVector%20%3D%20function%20(worldVector)%20%7B%0A%20%20%20%20%20%20return%20b2Math.MulTMV(this.m_xf.R%2C%20worldVector)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLinearVelocityFromWorldPoint%20%3D%20function%20(worldPoint)%20%7B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.x%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.y%20-%20this.m_sweep.c.y)%2C%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.x%20-%20this.m_sweep.c.x)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLinearVelocityFromLocalPoint%20%3D%20function%20(localPoint)%20%7B%0A%20%20%20%20%20%20var%20A%20%3D%20this.m_xf.R%3B%0A%20%20%20%20%20%20var%20worldPoint%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20A.col1.x%20*%20localPoint.x%20%2B%20A.col2.x%20*%20localPoint.y%2C%0A%20%20%20%20%20%20%20%20A.col1.y%20*%20localPoint.x%20%2B%20A.col2.y%20*%20localPoint.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20worldPoint.x%20%2B%3D%20this.m_xf.position.x%3B%0A%20%20%20%20%20%20worldPoint.y%20%2B%3D%20this.m_xf.position.y%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.x%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.y%20-%20this.m_sweep.c.y)%2C%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_angularVelocity%20*%20(worldPoint.x%20-%20this.m_sweep.c.x)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetLinearDamping%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_linearDamping%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetLinearDamping%20%3D%20function%20(linearDamping)%20%7B%0A%20%20%20%20%20%20if%20(linearDamping%20%3D%3D%3D%20undefined)%20linearDamping%20%3D%200%3B%0A%20%20%20%20%20%20this.m_linearDamping%20%3D%20linearDamping%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetAngularDamping%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_angularDamping%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetAngularDamping%20%3D%20function%20(angularDamping)%20%7B%0A%20%20%20%20%20%20if%20(angularDamping%20%3D%3D%3D%20undefined)%20angularDamping%20%3D%200%3B%0A%20%20%20%20%20%20this.m_angularDamping%20%3D%20angularDamping%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetType%20%3D%20function%20(type)%20%7B%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20undefined)%20type%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20type)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_type%20%3D%20type%3B%0A%20%20%20%20%20%20this.ResetMassData()%3B%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_force.SetZero()%3B%0A%20%20%20%20%20%20this.m_torque%20%3D%200.0%3B%0A%20%20%20%20%20%20for%20(var%20ce%20%3D%20this.m_contactList%3B%20ce%3B%20ce%20%3D%20ce.next)%20%7B%0A%20%20%20%20%20%20%20%20ce.contact.FlagForFiltering()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetType%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_type%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetBullet%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20if%20(flag)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_bulletFlag%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_bulletFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.IsBullet%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_bulletFlag)%20%3D%3D%20b2Body.e_bulletFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetSleepingAllowed%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20if%20(flag)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_allowSleepFlag%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_allowSleepFlag%3B%0A%20%20%20%20%20%20%20%20this.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetAwake%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20if%20(flag)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_awakeFlag%3B%0A%20%20%20%20%20%20%20%20this.m_sleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_awakeFlag%3B%0A%20%20%20%20%20%20%20%20this.m_sleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_linearVelocity.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_angularVelocity%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_force.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_torque%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.IsAwake%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_awakeFlag)%20%3D%3D%20b2Body.e_awakeFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetFixedRotation%20%3D%20function%20(fixed)%20%7B%0A%20%20%20%20%20%20if%20(fixed)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_fixedRotationFlag%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_fixedRotationFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.ResetMassData()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.IsFixedRotation%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Body.e_fixedRotationFlag)%20%3D%3D%20b2Body.e_fixedRotationFlag%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetActive%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20if%20(flag%20%3D%3D%20this.IsActive())%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20broadPhase%3B%0A%20%20%20%20%20%20var%20f%3B%0A%20%20%20%20%20%20if%20(flag)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_activeFlag%3B%0A%20%20%20%20%20%20%20%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20f.CreateProxy(broadPhase%2C%20this.m_xf)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Body.e_activeFlag%3B%0A%20%20%20%20%20%20%20%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20f.DestroyProxy(broadPhase)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20ce%20%3D%20this.m_contactList%3B%0A%20%20%20%20%20%20%20%20while%20(ce)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20ce0%20%3D%20ce%3B%0A%20%20%20%20%20%20%20%20%20%20ce%20%3D%20ce.next%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_world.m_contactManager.Destroy(ce0.contact)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.m_contactList%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.IsActive%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_activeFlag)%20%3D%3D%20b2Body.e_activeFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.IsSleepingAllowed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%20b2Body.e_allowSleepFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetFixtureList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_fixtureList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetJointList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_jointList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetControllerList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_controllerList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetContactList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_contactList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetNext%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_next%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetUserData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_userData%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SetUserData%20%3D%20function%20(data)%20%7B%0A%20%20%20%20%20%20this.m_userData%20%3D%20data%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.GetWorld%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_world%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.b2Body%20%3D%20function%20(bd%2C%20world)%20%7B%0A%20%20%20%20%20%20this.m_flags%20%3D%200%3B%0A%20%20%20%20%20%20if%20(bd.bullet)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_bulletFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(bd.fixedRotation)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_fixedRotationFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(bd.allowSleep)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_allowSleepFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(bd.awake)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_awakeFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(bd.active)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Body.e_activeFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_world%20%3D%20world%3B%0A%20%20%20%20%20%20this.m_xf.position.SetV(bd.position)%3B%0A%20%20%20%20%20%20this.m_xf.R.Set(bd.angle)%3B%0A%20%20%20%20%20%20this.m_sweep.localCenter.SetZero()%3B%0A%20%20%20%20%20%20this.m_sweep.t0%20%3D%201.0%3B%0A%20%20%20%20%20%20this.m_sweep.a0%20%3D%20this.m_sweep.a%20%3D%20bd.angle%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_xf.R%3B%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0A%20%20%20%20%20%20this.m_sweep.c.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20this.m_sweep.c.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20this.m_sweep.c.x%20%2B%3D%20this.m_xf.position.x%3B%0A%20%20%20%20%20%20this.m_sweep.c.y%20%2B%3D%20this.m_xf.position.y%3B%0A%20%20%20%20%20%20this.m_sweep.c0.SetV(this.m_sweep.c)%3B%0A%20%20%20%20%20%20this.m_jointList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_contactList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_controllerCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_linearVelocity.SetV(bd.linearVelocity)%3B%0A%20%20%20%20%20%20this.m_angularVelocity%20%3D%20bd.angularVelocity%3B%0A%20%20%20%20%20%20this.m_linearDamping%20%3D%20bd.linearDamping%3B%0A%20%20%20%20%20%20this.m_angularDamping%20%3D%20bd.angularDamping%3B%0A%20%20%20%20%20%20this.m_force.Set(0.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.m_torque%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_sleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_type%20%3D%20bd.type%3B%0A%20%20%20%20%20%20if%20(this.m_type%20%3D%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%201.0%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_invMass%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_I%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_invI%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_inertiaScale%20%3D%20bd.inertiaScale%3B%0A%20%20%20%20%20%20this.m_userData%20%3D%20bd.userData%3B%0A%20%20%20%20%20%20this.m_fixtureList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_fixtureCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SynchronizeFixtures%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20xf1%20%3D%20b2Body.s_xf1%3B%0A%20%20%20%20%20%20xf1.R.Set(this.m_sweep.a0)%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20xf1.R%3B%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0A%20%20%20%20%20%20xf1.position.x%20%3D%0A%20%20%20%20%20%20%20%20this.m_sweep.c0.x%20-%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20xf1.position.y%20%3D%0A%20%20%20%20%20%20%20%20this.m_sweep.c0.y%20-%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20var%20f%3B%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20this.m_world.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20for%20(f%20%3D%20this.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20f.Synchronize(broadPhase%2C%20xf1%2C%20this.m_xf)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.SynchronizeTransform%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_xf.R.Set(this.m_sweep.a)%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_xf.R%3B%0A%20%20%20%20%20%20var%20tVec%20%3D%20this.m_sweep.localCenter%3B%0A%20%20%20%20%20%20this.m_xf.position.x%20%3D%0A%20%20%20%20%20%20%20%20this.m_sweep.c.x%20-%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20this.m_xf.position.y%20%3D%0A%20%20%20%20%20%20%20%20this.m_sweep.c.y%20-%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.ShouldCollide%20%3D%20function%20(other)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20this.m_type%20!%3D%20b2Body.b2_dynamicBody%20%26%26%0A%20%20%20%20%20%20%20%20other.m_type%20!%3D%20b2Body.b2_dynamicBody%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(var%20jn%20%3D%20this.m_jointList%3B%20jn%3B%20jn%20%3D%20jn.next)%20%7B%0A%20%20%20%20%20%20%20%20if%20(jn.other%20%3D%3D%20other)%0A%20%20%20%20%20%20%20%20%20%20if%20(jn.joint.m_collideConnected%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Body.prototype.Advance%20%3D%20function%20(t)%20%7B%0A%20%20%20%20%20%20if%20(t%20%3D%3D%3D%20undefined)%20t%20%3D%200%3B%0A%20%20%20%20%20%20this.m_sweep.Advance(t)%3B%0A%20%20%20%20%20%20this.m_sweep.c.SetV(this.m_sweep.c0)%3B%0A%20%20%20%20%20%20this.m_sweep.a%20%3D%20this.m_sweep.a0%3B%0A%20%20%20%20%20%20this.SynchronizeTransform()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.s_xf1%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_islandFlag%20%3D%200x0001%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_awakeFlag%20%3D%200x0002%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_allowSleepFlag%20%3D%200x0004%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_bulletFlag%20%3D%200x0008%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_fixedRotationFlag%20%3D%200x0010%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.e_activeFlag%20%3D%200x0020%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.b2_staticBody%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.b2_kinematicBody%20%3D%201%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Body.b2_dynamicBody%20%3D%202%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2BodyDef.b2BodyDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.linearVelocity%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2BodyDef.prototype.b2BodyDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.userData%20%3D%20null%3B%0A%20%20%20%20%20%20this.position.Set(0.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.angle%20%3D%200.0%3B%0A%20%20%20%20%20%20this.linearVelocity.Set(0%2C%200)%3B%0A%20%20%20%20%20%20this.angularVelocity%20%3D%200.0%3B%0A%20%20%20%20%20%20this.linearDamping%20%3D%200.0%3B%0A%20%20%20%20%20%20this.angularDamping%20%3D%200.0%3B%0A%20%20%20%20%20%20this.allowSleep%20%3D%20true%3B%0A%20%20%20%20%20%20this.awake%20%3D%20true%3B%0A%20%20%20%20%20%20this.fixedRotation%20%3D%20false%3B%0A%20%20%20%20%20%20this.bullet%20%3D%20false%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Body.b2_staticBody%3B%0A%20%20%20%20%20%20this.active%20%3D%20true%3B%0A%20%20%20%20%20%20this.inertiaScale%20%3D%201.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactFilter.b2ContactFilter%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactFilter.prototype.ShouldCollide%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20var%20filter1%20%3D%20fixtureA.GetFilterData()%3B%0A%20%20%20%20%20%20var%20filter2%20%3D%20fixtureB.GetFilterData()%3B%0A%20%20%20%20%20%20if%20(filter1.groupIndex%20%3D%3D%20filter2.groupIndex%20%26%26%20filter1.groupIndex%20!%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20filter1.groupIndex%20%3E%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20collide%20%3D%0A%20%20%20%20%20%20%20%20(filter1.maskBits%20%26%20filter2.categoryBits)%20!%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20(filter1.categoryBits%20%26%20filter2.maskBits)%20!%3D%200%3B%0A%20%20%20%20%20%20return%20collide%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactFilter.prototype.RayCollide%20%3D%20function%20(userData%2C%20fixture)%20%7B%0A%20%20%20%20%20%20if%20(!userData)%20return%20true%3B%0A%20%20%20%20%20%20return%20this.ShouldCollide(%0A%20%20%20%20%20%20%20%20userData%20instanceof%20b2Fixture%20%3F%20userData%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20fixture%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2ContactFilter.b2_defaultFilter%20%3D%20new%20b2ContactFilter()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2ContactImpulse.b2ContactImpulse%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.normalImpulses%20%3D%20new%20Vector_a2j_Number(%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxManifoldPoints%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.tangentImpulses%20%3D%20new%20Vector_a2j_Number(%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxManifoldPoints%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactListener.b2ContactListener%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactListener.prototype.BeginContact%20%3D%20function%20(contact)%20%7B%7D%3B%0A%20%20%20%20b2ContactListener.prototype.EndContact%20%3D%20function%20(contact)%20%7B%7D%3B%0A%20%20%20%20b2ContactListener.prototype.PreSolve%20%3D%20function%20(contact%2C%20oldManifold)%20%7B%7D%3B%0A%20%20%20%20b2ContactListener.prototype.PostSolve%20%3D%20function%20(contact%2C%20impulse)%20%7B%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2ContactListener.b2_defaultListener%20%3D%0A%20%20%20%20%20%20%20%20new%20b2ContactListener()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2ContactManager.b2ContactManager%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactManager.prototype.b2ContactManager%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_world%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_contactFilter%20%3D%20b2ContactFilter.b2_defaultFilter%3B%0A%20%20%20%20%20%20this.m_contactListener%20%3D%20b2ContactListener.b2_defaultListener%3B%0A%20%20%20%20%20%20this.m_contactFactory%20%3D%20new%20b2ContactFactory(this.m_allocator)%3B%0A%20%20%20%20%20%20this.m_broadPhase%20%3D%20new%20b2DynamicTreeBroadPhase()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactManager.prototype.AddPair%20%3D%20function%20(%0A%20%20%20%20%20%20proxyUserDataA%2C%0A%20%20%20%20%20%20proxyUserDataB%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20var%20fixtureA%20%3D%20proxyUserDataA%20instanceof%20b2Fixture%20%3F%20proxyUserDataA%20%3A%20null%3B%0A%20%20%20%20%20%20var%20fixtureB%20%3D%20proxyUserDataB%20instanceof%20b2Fixture%20%3F%20proxyUserDataB%20%3A%20null%3B%0A%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0A%20%20%20%20%20%20if%20(bodyA%20%3D%3D%20bodyB)%20return%3B%0A%20%20%20%20%20%20var%20edge%20%3D%20bodyB.GetContactList()%3B%0A%20%20%20%20%20%20while%20(edge)%20%7B%0A%20%20%20%20%20%20%20%20if%20(edge.other%20%3D%3D%20bodyA)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20fA%20%3D%20edge.contact.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20fB%20%3D%20edge.contact.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(fA%20%3D%3D%20fixtureA%20%26%26%20fB%20%3D%3D%20fixtureB)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(fA%20%3D%3D%20fixtureB%20%26%26%20fB%20%3D%3D%20fixtureA)%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(bodyB.ShouldCollide(bodyA)%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_contactFilter.ShouldCollide(fixtureA%2C%20fixtureB)%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20c%20%3D%20this.m_contactFactory.Create(fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%20%20fixtureA%20%3D%20c.GetFixtureA()%3B%0A%20%20%20%20%20%20fixtureB%20%3D%20c.GetFixtureB()%3B%0A%20%20%20%20%20%20bodyA%20%3D%20fixtureA.m_body%3B%0A%20%20%20%20%20%20bodyB%20%3D%20fixtureB.m_body%3B%0A%20%20%20%20%20%20c.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20c.m_next%20%3D%20this.m_world.m_contactList%3B%0A%20%20%20%20%20%20if%20(this.m_world.m_contactList%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20this.m_world.m_contactList.m_prev%20%3D%20c%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_world.m_contactList%20%3D%20c%3B%0A%20%20%20%20%20%20c.m_nodeA.contact%20%3D%20c%3B%0A%20%20%20%20%20%20c.m_nodeA.other%20%3D%20bodyB%3B%0A%20%20%20%20%20%20c.m_nodeA.prev%20%3D%20null%3B%0A%20%20%20%20%20%20c.m_nodeA.next%20%3D%20bodyA.m_contactList%3B%0A%20%20%20%20%20%20if%20(bodyA.m_contactList%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20bodyA.m_contactList.prev%20%3D%20c.m_nodeA%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20bodyA.m_contactList%20%3D%20c.m_nodeA%3B%0A%20%20%20%20%20%20c.m_nodeB.contact%20%3D%20c%3B%0A%20%20%20%20%20%20c.m_nodeB.other%20%3D%20bodyA%3B%0A%20%20%20%20%20%20c.m_nodeB.prev%20%3D%20null%3B%0A%20%20%20%20%20%20c.m_nodeB.next%20%3D%20bodyB.m_contactList%3B%0A%20%20%20%20%20%20if%20(bodyB.m_contactList%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20bodyB.m_contactList.prev%20%3D%20c.m_nodeB%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20bodyB.m_contactList%20%3D%20c.m_nodeB%3B%0A%20%20%20%20%20%20%2B%2Bthis.m_world.m_contactCount%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactManager.prototype.FindNewContacts%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_broadPhase.UpdatePairs(Box2D.generateCallback(this%2C%20this.AddPair))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactManager.prototype.Destroy%20%3D%20function%20(c)%20%7B%0A%20%20%20%20%20%20var%20fixtureA%20%3D%20c.GetFixtureA()%3B%0A%20%20%20%20%20%20var%20fixtureB%20%3D%20c.GetFixtureB()%3B%0A%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0A%20%20%20%20%20%20if%20(c.IsTouching())%20%7B%0A%20%20%20%20%20%20%20%20this.m_contactListener.EndContact(c)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_prev)%20%7B%0A%20%20%20%20%20%20%20%20c.m_prev.m_next%20%3D%20c.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_next)%20%7B%0A%20%20%20%20%20%20%20%20c.m_next.m_prev%20%3D%20c.m_prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c%20%3D%3D%20this.m_world.m_contactList)%20%7B%0A%20%20%20%20%20%20%20%20this.m_world.m_contactList%20%3D%20c.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_nodeA.prev)%20%7B%0A%20%20%20%20%20%20%20%20c.m_nodeA.prev.next%20%3D%20c.m_nodeA.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_nodeA.next)%20%7B%0A%20%20%20%20%20%20%20%20c.m_nodeA.next.prev%20%3D%20c.m_nodeA.prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_nodeA%20%3D%3D%20bodyA.m_contactList)%20%7B%0A%20%20%20%20%20%20%20%20bodyA.m_contactList%20%3D%20c.m_nodeA.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_nodeB.prev)%20%7B%0A%20%20%20%20%20%20%20%20c.m_nodeB.prev.next%20%3D%20c.m_nodeB.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_nodeB.next)%20%7B%0A%20%20%20%20%20%20%20%20c.m_nodeB.next.prev%20%3D%20c.m_nodeB.prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(c.m_nodeB%20%3D%3D%20bodyB.m_contactList)%20%7B%0A%20%20%20%20%20%20%20%20bodyB.m_contactList%20%3D%20c.m_nodeB.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_contactFactory.Destroy(c)%3B%0A%20%20%20%20%20%20--this.m_contactCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactManager.prototype.Collide%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20c%20%3D%20this.m_world.m_contactList%3B%0A%20%20%20%20%20%20while%20(c)%20%7B%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20c.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20c.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0A%20%20%20%20%20%20%20%20if%20(bodyA.IsAwake()%20%3D%3D%20false%20%26%26%20bodyB.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20c.GetNext()%3B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(c.m_flags%20%26%20b2Contact.e_filterFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(bodyB.ShouldCollide(bodyA)%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cNuke%20%3D%20c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20cNuke.GetNext()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.Destroy(cNuke)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_contactFilter.ShouldCollide(fixtureA%2C%20fixtureB)%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cNuke%20%3D%20c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20cNuke.GetNext()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.Destroy(cNuke)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~b2Contact.e_filterFlag%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20proxyA%20%3D%20fixtureA.m_proxy%3B%0A%20%20%20%20%20%20%20%20var%20proxyB%20%3D%20fixtureB.m_proxy%3B%0A%20%20%20%20%20%20%20%20var%20overlap%20%3D%20this.m_broadPhase.TestOverlap(proxyA%2C%20proxyB)%3B%0A%20%20%20%20%20%20%20%20if%20(overlap%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20cNuke%20%3D%20c%3B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20cNuke.GetNext()%3B%0A%20%20%20%20%20%20%20%20%20%20this.Destroy(cNuke)%3B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20c.Update(this.m_contactListener)%3B%0A%20%20%20%20%20%20%20%20c%20%3D%20c.GetNext()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2ContactManager.s_evalCP%20%3D%20new%20b2ContactPoint()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2DebugDraw.b2DebugDraw%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.b2DebugDraw%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetFlags%20%3D%20function%20(flags)%20%7B%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetFlags%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.AppendFlags%20%3D%20function%20(flags)%20%7B%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.ClearFlags%20%3D%20function%20(flags)%20%7B%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetSprite%20%3D%20function%20(sprite)%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetSprite%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetDrawScale%20%3D%20function%20(drawScale)%20%7B%0A%20%20%20%20%20%20if%20(drawScale%20%3D%3D%3D%20undefined)%20drawScale%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetDrawScale%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetLineThickness%20%3D%20function%20(lineThickness)%20%7B%0A%20%20%20%20%20%20if%20(lineThickness%20%3D%3D%3D%20undefined)%20lineThickness%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetLineThickness%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetAlpha%20%3D%20function%20(alpha)%20%7B%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetAlpha%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetFillAlpha%20%3D%20function%20(alpha)%20%7B%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetFillAlpha%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetXFormScale%20%3D%20function%20(xformScale)%20%7B%0A%20%20%20%20%20%20if%20(xformScale%20%3D%3D%3D%20undefined)%20xformScale%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetXFormScale%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawPolygon%20%3D%20function%20(vertices%2C%20vertexCount%2C%20color)%20%7B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidPolygon%20%3D%20function%20(%0A%20%20%20%20%20%20vertices%2C%0A%20%20%20%20%20%20vertexCount%2C%0A%20%20%20%20%20%20color%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(vertexCount%20%3D%3D%3D%20undefined)%20vertexCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawCircle%20%3D%20function%20(center%2C%20radius%2C%20color)%20%7B%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidCircle%20%3D%20function%20(%0A%20%20%20%20%20%20center%2C%0A%20%20%20%20%20%20radius%2C%0A%20%20%20%20%20%20axis%2C%0A%20%20%20%20%20%20color%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(radius%20%3D%3D%3D%20undefined)%20radius%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawSegment%20%3D%20function%20(p1%2C%20p2%2C%20color)%20%7B%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawTransform%20%3D%20function%20(xf)%20%7B%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_shapeBit%20%3D%200x0001%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_jointBit%20%3D%200x0002%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_aabbBit%20%3D%200x0004%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_pairBit%20%3D%200x0008%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit%20%3D%200x0010%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2DebugDraw.e_controllerBit%20%3D%200x0020%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2DestructionListener.b2DestructionListener%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2DestructionListener.prototype.SayGoodbyeJoint%20%3D%20function%20(joint)%20%7B%7D%3B%0A%20%20%20%20b2DestructionListener.prototype.SayGoodbyeFixture%20%3D%20function%20(fixture)%20%7B%7D%3B%0A%20%20%20%20b2FilterData.b2FilterData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.categoryBits%20%3D%200x0001%3B%0A%20%20%20%20%20%20this.maskBits%20%3D%200xffff%3B%0A%20%20%20%20%20%20this.groupIndex%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FilterData.prototype.Copy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20copy%20%3D%20new%20b2FilterData()%3B%0A%20%20%20%20%20%20copy.categoryBits%20%3D%20this.categoryBits%3B%0A%20%20%20%20%20%20copy.maskBits%20%3D%20this.maskBits%3B%0A%20%20%20%20%20%20copy.groupIndex%20%3D%20this.groupIndex%3B%0A%20%20%20%20%20%20return%20copy%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.b2Fixture%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_filter%20%3D%20new%20b2FilterData()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetType%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_shape.GetType()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetShape%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_shape%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.SetSensor%20%3D%20function%20(sensor)%20%7B%0A%20%20%20%20%20%20if%20(this.m_isSensor%20%3D%3D%20sensor)%20return%3B%0A%20%20%20%20%20%20this.m_isSensor%20%3D%20sensor%3B%0A%20%20%20%20%20%20if%20(this.m_body%20%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20var%20edge%20%3D%20this.m_body.GetContactList()%3B%0A%20%20%20%20%20%20while%20(edge)%20%7B%0A%20%20%20%20%20%20%20%20var%20contact%20%3D%20edge.contact%3B%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20if%20(fixtureA%20%3D%3D%20this%20%7C%7C%20fixtureB%20%3D%3D%20this)%0A%20%20%20%20%20%20%20%20%20%20contact.SetSensor(fixtureA.IsSensor()%20%7C%7C%20fixtureB.IsSensor())%3B%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.IsSensor%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_isSensor%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.SetFilterData%20%3D%20function%20(filter)%20%7B%0A%20%20%20%20%20%20this.m_filter%20%3D%20filter.Copy()%3B%0A%20%20%20%20%20%20if%20(this.m_body)%20return%3B%0A%20%20%20%20%20%20var%20edge%20%3D%20this.m_body.GetContactList()%3B%0A%20%20%20%20%20%20while%20(edge)%20%7B%0A%20%20%20%20%20%20%20%20var%20contact%20%3D%20edge.contact%3B%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20if%20(fixtureA%20%3D%3D%20this%20%7C%7C%20fixtureB%20%3D%3D%20this)%20contact.FlagForFiltering()%3B%0A%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetFilterData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_filter.Copy()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetBody%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_body%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetNext%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_next%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetUserData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_userData%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.SetUserData%20%3D%20function%20(data)%20%7B%0A%20%20%20%20%20%20this.m_userData%20%3D%20data%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.TestPoint%20%3D%20function%20(p)%20%7B%0A%20%20%20%20%20%20return%20this.m_shape.TestPoint(this.m_body.GetTransform()%2C%20p)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.RayCast%20%3D%20function%20(output%2C%20input)%20%7B%0A%20%20%20%20%20%20return%20this.m_shape.RayCast(output%2C%20input%2C%20this.m_body.GetTransform())%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetMassData%20%3D%20function%20(massData)%20%7B%0A%20%20%20%20%20%20if%20(massData%20%3D%3D%3D%20undefined)%20massData%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(massData%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20massData%20%3D%20new%20b2MassData()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_shape.ComputeMass(massData%2C%20this.m_density)%3B%0A%20%20%20%20%20%20return%20massData%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.SetDensity%20%3D%20function%20(density)%20%7B%0A%20%20%20%20%20%20if%20(density%20%3D%3D%3D%20undefined)%20density%20%3D%200%3B%0A%20%20%20%20%20%20this.m_density%20%3D%20density%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetDensity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_density%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetFriction%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_friction%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.SetFriction%20%3D%20function%20(friction)%20%7B%0A%20%20%20%20%20%20if%20(friction%20%3D%3D%3D%20undefined)%20friction%20%3D%200%3B%0A%20%20%20%20%20%20this.m_friction%20%3D%20friction%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetRestitution%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_restitution%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.SetRestitution%20%3D%20function%20(restitution)%20%7B%0A%20%20%20%20%20%20if%20(restitution%20%3D%3D%3D%20undefined)%20restitution%20%3D%200%3B%0A%20%20%20%20%20%20this.m_restitution%20%3D%20restitution%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.GetAABB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_aabb%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.b2Fixture%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_aabb%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20this.m_userData%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_body%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_shape%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_density%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_friction%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_restitution%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.Create%20%3D%20function%20(body%2C%20xf%2C%20def)%20%7B%0A%20%20%20%20%20%20this.m_userData%20%3D%20def.userData%3B%0A%20%20%20%20%20%20this.m_friction%20%3D%20def.friction%3B%0A%20%20%20%20%20%20this.m_restitution%20%3D%20def.restitution%3B%0A%20%20%20%20%20%20this.m_body%20%3D%20body%3B%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_filter%20%3D%20def.filter.Copy()%3B%0A%20%20%20%20%20%20this.m_isSensor%20%3D%20def.isSensor%3B%0A%20%20%20%20%20%20this.m_shape%20%3D%20def.shape.Copy()%3B%0A%20%20%20%20%20%20this.m_density%20%3D%20def.density%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.Destroy%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_shape%20%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.CreateProxy%20%3D%20function%20(broadPhase%2C%20xf)%20%7B%0A%20%20%20%20%20%20this.m_shape.ComputeAABB(this.m_aabb%2C%20xf)%3B%0A%20%20%20%20%20%20this.m_proxy%20%3D%20broadPhase.CreateProxy(this.m_aabb%2C%20this)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.DestroyProxy%20%3D%20function%20(broadPhase)%20%7B%0A%20%20%20%20%20%20if%20(this.m_proxy%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20broadPhase.DestroyProxy(this.m_proxy)%3B%0A%20%20%20%20%20%20this.m_proxy%20%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Fixture.prototype.Synchronize%20%3D%20function%20(%0A%20%20%20%20%20%20broadPhase%2C%0A%20%20%20%20%20%20transform1%2C%0A%20%20%20%20%20%20transform2%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(!this.m_proxy)%20return%3B%0A%20%20%20%20%20%20var%20aabb1%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20var%20aabb2%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20this.m_shape.ComputeAABB(aabb1%2C%20transform1)%3B%0A%20%20%20%20%20%20this.m_shape.ComputeAABB(aabb2%2C%20transform2)%3B%0A%20%20%20%20%20%20this.m_aabb.Combine(aabb1%2C%20aabb2)%3B%0A%20%20%20%20%20%20var%20displacement%20%3D%20b2Math.SubtractVV(%0A%20%20%20%20%20%20%20%20transform2.position%2C%0A%20%20%20%20%20%20%20%20transform1.position%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20broadPhase.MoveProxy(this.m_proxy%2C%20this.m_aabb%2C%20displacement)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FixtureDef.b2FixtureDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.filter%20%3D%20new%20b2FilterData()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FixtureDef.prototype.b2FixtureDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.shape%20%3D%20null%3B%0A%20%20%20%20%20%20this.userData%20%3D%20null%3B%0A%20%20%20%20%20%20this.friction%20%3D%200.2%3B%0A%20%20%20%20%20%20this.restitution%20%3D%200.0%3B%0A%20%20%20%20%20%20this.density%20%3D%200.0%3B%0A%20%20%20%20%20%20this.filter.categoryBits%20%3D%200x0001%3B%0A%20%20%20%20%20%20this.filter.maskBits%20%3D%200xffff%3B%0A%20%20%20%20%20%20this.filter.groupIndex%20%3D%200%3B%0A%20%20%20%20%20%20this.isSensor%20%3D%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.b2Island%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Island.prototype.b2Island%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_bodies%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20this.m_contacts%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20this.m_joints%20%3D%20new%20Vector()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.Initialize%20%3D%20function%20(%0A%20%20%20%20%20%20bodyCapacity%2C%0A%20%20%20%20%20%20contactCapacity%2C%0A%20%20%20%20%20%20jointCapacity%2C%0A%20%20%20%20%20%20allocator%2C%0A%20%20%20%20%20%20listener%2C%0A%20%20%20%20%20%20contactSolver%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(bodyCapacity%20%3D%3D%3D%20undefined)%20bodyCapacity%20%3D%200%3B%0A%20%20%20%20%20%20if%20(contactCapacity%20%3D%3D%3D%20undefined)%20contactCapacity%20%3D%200%3B%0A%20%20%20%20%20%20if%20(jointCapacity%20%3D%3D%3D%20undefined)%20jointCapacity%20%3D%200%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyCapacity%20%3D%20bodyCapacity%3B%0A%20%20%20%20%20%20this.m_contactCapacity%20%3D%20contactCapacity%3B%0A%20%20%20%20%20%20this.m_jointCapacity%20%3D%20jointCapacity%3B%0A%20%20%20%20%20%20this.m_bodyCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_jointCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_allocator%20%3D%20allocator%3B%0A%20%20%20%20%20%20this.m_listener%20%3D%20listener%3B%0A%20%20%20%20%20%20this.m_contactSolver%20%3D%20contactSolver%3B%0A%20%20%20%20%20%20for%20(i%20%3D%20this.m_bodies.length%3B%20i%20%3C%20bodyCapacity%3B%20i%2B%2B)%0A%20%20%20%20%20%20%20%20this.m_bodies%5Bi%5D%20%3D%20null%3B%0A%20%20%20%20%20%20for%20(i%20%3D%20this.m_contacts.length%3B%20i%20%3C%20contactCapacity%3B%20i%2B%2B)%0A%20%20%20%20%20%20%20%20this.m_contacts%5Bi%5D%20%3D%20null%3B%0A%20%20%20%20%20%20for%20(i%20%3D%20this.m_joints.length%3B%20i%20%3C%20jointCapacity%3B%20i%2B%2B)%0A%20%20%20%20%20%20%20%20this.m_joints%5Bi%5D%20%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.Clear%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_bodyCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_jointCount%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.Solve%20%3D%20function%20(step%2C%20gravity%2C%20allowSleep)%20%7B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20j%20%3D%200%3B%0A%20%20%20%20%20%20var%20b%3B%0A%20%20%20%20%20%20var%20joint%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20continue%3B%0A%20%20%20%20%20%20%20%20b.m_linearVelocity.x%20%2B%3D%20step.dt%20*%20(gravity.x%20%2B%20b.m_invMass%20*%20b.m_force.x)%3B%0A%20%20%20%20%20%20%20%20b.m_linearVelocity.y%20%2B%3D%20step.dt%20*%20(gravity.y%20%2B%20b.m_invMass%20*%20b.m_force.y)%3B%0A%20%20%20%20%20%20%20%20b.m_angularVelocity%20%2B%3D%20step.dt%20*%20b.m_invI%20*%20b.m_torque%3B%0A%20%20%20%20%20%20%20%20b.m_linearVelocity.Multiply(%0A%20%20%20%20%20%20%20%20%20%20b2Math.Clamp(1.0%20-%20step.dt%20*%20b.m_linearDamping%2C%200.0%2C%201.0)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20b.m_angularVelocity%20*%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%201.0%20-%20step.dt%20*%20b.m_angularDamping%2C%0A%20%20%20%20%20%20%20%20%20%200.0%2C%0A%20%20%20%20%20%20%20%20%20%201.0%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_contactSolver.Initialize(%0A%20%20%20%20%20%20%20%20step%2C%0A%20%20%20%20%20%20%20%20this.m_contacts%2C%0A%20%20%20%20%20%20%20%20this.m_contactCount%2C%0A%20%20%20%20%20%20%20%20this.m_allocator%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20contactSolver%20%3D%20this.m_contactSolver%3B%0A%20%20%20%20%20%20contactSolver.InitVelocityConstraints(step)%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_jointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20joint.InitVelocityConstraints(step)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20step.velocityIterations%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20joint.SolveVelocityConstraints(step)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20contactSolver.SolveVelocityConstraints()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_jointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20joint.FinalizeVelocityConstraints()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20contactSolver.FinalizeVelocityConstraints()%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20continue%3B%0A%20%20%20%20%20%20%20%20var%20translationX%20%3D%20step.dt%20*%20b.m_linearVelocity.x%3B%0A%20%20%20%20%20%20%20%20var%20translationY%20%3D%20step.dt%20*%20b.m_linearVelocity.y%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20translationX%20*%20translationX%20%2B%20translationY%20*%20translationY%20%3E%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxTranslationSquared%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.Normalize()%3B%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.x%20*%3D%20b2Settings.b2_maxTranslation%20*%20step.inv_dt%3B%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.y%20*%3D%20b2Settings.b2_maxTranslation%20*%20step.inv_dt%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20rotation%20%3D%20step.dt%20*%20b.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20if%20(rotation%20*%20rotation%20%3E%20b2Settings.b2_maxRotationSquared)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.m_angularVelocity%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20-b2Settings.b2_maxRotation%20*%20step.inv_dt%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20b2Settings.b2_maxRotation%20*%20step.inv_dt%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20b.m_sweep.c0.SetV(b.m_sweep.c)%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.a0%20%3D%20b.m_sweep.a%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.c.x%20%2B%3D%20step.dt%20*%20b.m_linearVelocity.x%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.c.y%20%2B%3D%20step.dt%20*%20b.m_linearVelocity.y%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.a%20%2B%3D%20step.dt%20*%20b.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20b.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20step.positionIterations%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20contactsOkay%20%3D%20contactSolver.SolvePositionConstraints(%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_contactBaumgarte%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20jointsOkay%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20joint%20%3D%20this.m_joints%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20jointOkay%20%3D%20joint.SolvePositionConstraints(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_contactBaumgarte%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20jointsOkay%20%3D%20jointsOkay%20%26%26%20jointOkay%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(contactsOkay%20%26%26%20jointsOkay)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.Report(contactSolver.m_constraints)%3B%0A%20%20%20%20%20%20if%20(allowSleep)%20%7B%0A%20%20%20%20%20%20%20%20var%20minSleepTime%20%3D%20Number.MAX_VALUE%3B%0A%20%20%20%20%20%20%20%20var%20linTolSqr%20%3D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_linearSleepTolerance%20*%20b2Settings.b2_linearSleepTolerance%3B%0A%20%20%20%20%20%20%20%20var%20angTolSqr%20%3D%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_angularSleepTolerance%20*%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_angularSleepTolerance%3B%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20((b.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_sleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20minSleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20(b.m_flags%20%26%20b2Body.e_allowSleepFlag)%20%3D%3D%200%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20*%20b.m_angularVelocity%20%3E%20angTolSqr%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Math.Dot(b.m_linearVelocity%2C%20b.m_linearVelocity)%20%3E%20linTolSqr%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_sleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20minSleepTime%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_sleepTime%20%2B%3D%20step.dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20minSleepTime%20%3D%20b2Math.Min(minSleepTime%2C%20b.m_sleepTime)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(minSleepTime%20%3E%3D%20b2Settings.b2_timeToSleep)%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.SetAwake(false)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.SolveTOI%20%3D%20function%20(subStep)%20%7B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20j%20%3D%200%3B%0A%20%20%20%20%20%20this.m_contactSolver.Initialize(%0A%20%20%20%20%20%20%20%20subStep%2C%0A%20%20%20%20%20%20%20%20this.m_contacts%2C%0A%20%20%20%20%20%20%20%20this.m_contactCount%2C%0A%20%20%20%20%20%20%20%20this.m_allocator%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20contactSolver%20%3D%20this.m_contactSolver%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_jointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20this.m_joints%5Bi%5D.InitVelocityConstraints(subStep)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20subStep.velocityIterations%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20contactSolver.SolveVelocityConstraints()%3B%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_joints%5Bj%5D.SolveVelocityConstraints(subStep)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20this.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20b%20%3D%20this.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20continue%3B%0A%20%20%20%20%20%20%20%20var%20translationX%20%3D%20subStep.dt%20*%20b.m_linearVelocity.x%3B%0A%20%20%20%20%20%20%20%20var%20translationY%20%3D%20subStep.dt%20*%20b.m_linearVelocity.y%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20translationX%20*%20translationX%20%2B%20translationY%20*%20translationY%20%3E%0A%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxTranslationSquared%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.Normalize()%3B%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.x%20*%3D%20b2Settings.b2_maxTranslation%20*%20subStep.inv_dt%3B%0A%20%20%20%20%20%20%20%20%20%20b.m_linearVelocity.y%20*%3D%20b2Settings.b2_maxTranslation%20*%20subStep.inv_dt%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20rotation%20%3D%20subStep.dt%20*%20b.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20if%20(rotation%20*%20rotation%20%3E%20b2Settings.b2_maxRotationSquared)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.m_angularVelocity%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20-b2Settings.b2_maxRotation%20*%20subStep.inv_dt%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_angularVelocity%20%3D%20b2Settings.b2_maxRotation%20*%20subStep.inv_dt%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20b.m_sweep.c0.SetV(b.m_sweep.c)%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.a0%20%3D%20b.m_sweep.a%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.c.x%20%2B%3D%20subStep.dt%20*%20b.m_linearVelocity.x%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.c.y%20%2B%3D%20subStep.dt%20*%20b.m_linearVelocity.y%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.a%20%2B%3D%20subStep.dt%20*%20b.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20b.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20k_toiBaumgarte%20%3D%200.75%3B%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20subStep.positionIterations%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20contactsOkay%20%3D%20contactSolver.SolvePositionConstraints(k_toiBaumgarte)%3B%0A%20%20%20%20%20%20%20%20var%20jointsOkay%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20this.m_jointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20jointOkay%20%3D%20this.m_joints%5Bj%5D.SolvePositionConstraints(%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_contactBaumgarte%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20jointsOkay%20%3D%20jointsOkay%20%26%26%20jointOkay%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(contactsOkay%20%26%26%20jointsOkay)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.Report(contactSolver.m_constraints)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.Report%20%3D%20function%20(constraints)%20%7B%0A%20%20%20%20%20%20if%20(this.m_listener%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_contactCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_contacts%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20cc%20%3D%20constraints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20cc.pointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b2Island.s_impulse.normalImpulses%5Bj%5D%20%3D%20cc.points%5Bj%5D.normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20b2Island.s_impulse.tangentImpulses%5Bj%5D%20%3D%20cc.points%5Bj%5D.tangentImpulse%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.m_listener.PostSolve(c%2C%20b2Island.s_impulse)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.AddBody%20%3D%20function%20(body)%20%7B%0A%20%20%20%20%20%20body.m_islandIndex%20%3D%20this.m_bodyCount%3B%0A%20%20%20%20%20%20this.m_bodies%5Bthis.m_bodyCount%2B%2B%5D%20%3D%20body%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.AddContact%20%3D%20function%20(contact)%20%7B%0A%20%20%20%20%20%20this.m_contacts%5Bthis.m_contactCount%2B%2B%5D%20%3D%20contact%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Island.prototype.AddJoint%20%3D%20function%20(joint)%20%7B%0A%20%20%20%20%20%20this.m_joints%5Bthis.m_jointCount%2B%2B%5D%20%3D%20joint%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2Island.s_impulse%20%3D%20new%20b2ContactImpulse()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2TimeStep.b2TimeStep%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2TimeStep.prototype.Set%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20this.dt%20%3D%20step.dt%3B%0A%20%20%20%20%20%20this.inv_dt%20%3D%20step.inv_dt%3B%0A%20%20%20%20%20%20this.positionIterations%20%3D%20step.positionIterations%3B%0A%20%20%20%20%20%20this.velocityIterations%20%3D%20step.velocityIterations%3B%0A%20%20%20%20%20%20this.warmStarting%20%3D%20step.warmStarting%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.b2World%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.s_stack%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20this.m_contactManager%20%3D%20new%20b2ContactManager()%3B%0A%20%20%20%20%20%20this.m_contactSolver%20%3D%20new%20b2ContactSolver()%3B%0A%20%20%20%20%20%20this.m_island%20%3D%20new%20b2Island()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.b2World%20%3D%20function%20(gravity%2C%20doSleep)%20%7B%0A%20%20%20%20%20%20this.m_destructionListener%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_debugDraw%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_bodyList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_contactList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_jointList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_bodyCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_contactCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_jointCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_controllerCount%20%3D%200%3B%0A%20%20%20%20%20%20b2World.m_warmStarting%20%3D%20true%3B%0A%20%20%20%20%20%20b2World.m_continuousPhysics%20%3D%20true%3B%0A%20%20%20%20%20%20this.m_allowSleep%20%3D%20doSleep%3B%0A%20%20%20%20%20%20this.m_gravity%20%3D%20gravity%3B%0A%20%20%20%20%20%20this.m_inv_dt0%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_contactManager.m_world%20%3D%20this%3B%0A%20%20%20%20%20%20var%20bd%20%3D%20new%20b2BodyDef()%3B%0A%20%20%20%20%20%20this.m_groundBody%20%3D%20this.CreateBody(bd)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetDestructionListener%20%3D%20function%20(listener)%20%7B%0A%20%20%20%20%20%20this.m_destructionListener%20%3D%20listener%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetContactFilter%20%3D%20function%20(filter)%20%7B%0A%20%20%20%20%20%20this.m_contactManager.m_contactFilter%20%3D%20filter%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetContactListener%20%3D%20function%20(listener)%20%7B%0A%20%20%20%20%20%20this.m_contactManager.m_contactListener%20%3D%20listener%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetDebugDraw%20%3D%20function%20(debugDraw)%20%7B%0A%20%20%20%20%20%20this.m_debugDraw%20%3D%20debugDraw%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetBroadPhase%20%3D%20function%20(broadPhase)%20%7B%0A%20%20%20%20%20%20var%20oldBroadPhase%20%3D%20this.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20this.m_contactManager.m_broadPhase%20%3D%20broadPhase%3B%0A%20%20%20%20%20%20for%20(var%20b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20f%20%3D%20b.m_fixtureList%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20f.m_proxy%20%3D%20broadPhase.CreateProxy(%0A%20%20%20%20%20%20%20%20%20%20%20%20oldBroadPhase.GetFatAABB(f.m_proxy)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20f%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.Validate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_contactManager.m_broadPhase.Validate()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetProxyCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_contactManager.m_broadPhase.GetProxyCount()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.CreateBody%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20if%20(this.IsLocked()%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20b%20%3D%20new%20b2Body(def%2C%20this)%3B%0A%20%20%20%20%20%20b.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20b.m_next%20%3D%20this.m_bodyList%3B%0A%20%20%20%20%20%20if%20(this.m_bodyList)%20%7B%0A%20%20%20%20%20%20%20%20this.m_bodyList.m_prev%20%3D%20b%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_bodyList%20%3D%20b%3B%0A%20%20%20%20%20%20%2B%2Bthis.m_bodyCount%3B%0A%20%20%20%20%20%20return%20b%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.DestroyBody%20%3D%20function%20(b)%20%7B%0A%20%20%20%20%20%20if%20(this.IsLocked()%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20jn%20%3D%20b.m_jointList%3B%0A%20%20%20%20%20%20while%20(jn)%20%7B%0A%20%20%20%20%20%20%20%20var%20jn0%20%3D%20jn%3B%0A%20%20%20%20%20%20%20%20jn%20%3D%20jn.next%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_destructionListener)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_destructionListener.SayGoodbyeJoint(jn0.joint)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.DestroyJoint(jn0.joint)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20coe%20%3D%20b.m_controllerList%3B%0A%20%20%20%20%20%20while%20(coe)%20%7B%0A%20%20%20%20%20%20%20%20var%20coe0%20%3D%20coe%3B%0A%20%20%20%20%20%20%20%20coe%20%3D%20coe.nextController%3B%0A%20%20%20%20%20%20%20%20coe0.controller.RemoveBody(b)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20ce%20%3D%20b.m_contactList%3B%0A%20%20%20%20%20%20while%20(ce)%20%7B%0A%20%20%20%20%20%20%20%20var%20ce0%20%3D%20ce%3B%0A%20%20%20%20%20%20%20%20ce%20%3D%20ce.next%3B%0A%20%20%20%20%20%20%20%20this.m_contactManager.Destroy(ce0.contact)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20b.m_contactList%20%3D%20null%3B%0A%20%20%20%20%20%20var%20f%20%3D%20b.m_fixtureList%3B%0A%20%20%20%20%20%20while%20(f)%20%7B%0A%20%20%20%20%20%20%20%20var%20f0%20%3D%20f%3B%0A%20%20%20%20%20%20%20%20f%20%3D%20f.m_next%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_destructionListener)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_destructionListener.SayGoodbyeFixture(f0)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20f0.DestroyProxy(this.m_contactManager.m_broadPhase)%3B%0A%20%20%20%20%20%20%20%20f0.Destroy()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20b.m_fixtureList%20%3D%20null%3B%0A%20%20%20%20%20%20b.m_fixtureCount%20%3D%200%3B%0A%20%20%20%20%20%20if%20(b.m_prev)%20%7B%0A%20%20%20%20%20%20%20%20b.m_prev.m_next%20%3D%20b.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20b.m_next.m_prev%20%3D%20b.m_prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(b%20%3D%3D%20this.m_bodyList)%20%7B%0A%20%20%20%20%20%20%20%20this.m_bodyList%20%3D%20b.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20--this.m_bodyCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.CreateJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20var%20j%20%3D%20b2Joint.Create(def%2C%20null)%3B%0A%20%20%20%20%20%20j.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20j.m_next%20%3D%20this.m_jointList%3B%0A%20%20%20%20%20%20if%20(this.m_jointList)%20%7B%0A%20%20%20%20%20%20%20%20this.m_jointList.m_prev%20%3D%20j%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_jointList%20%3D%20j%3B%0A%20%20%20%20%20%20%2B%2Bthis.m_jointCount%3B%0A%20%20%20%20%20%20j.m_edgeA.joint%20%3D%20j%3B%0A%20%20%20%20%20%20j.m_edgeA.other%20%3D%20j.m_bodyB%3B%0A%20%20%20%20%20%20j.m_edgeA.prev%20%3D%20null%3B%0A%20%20%20%20%20%20j.m_edgeA.next%20%3D%20j.m_bodyA.m_jointList%3B%0A%20%20%20%20%20%20if%20(j.m_bodyA.m_jointList)%20j.m_bodyA.m_jointList.prev%20%3D%20j.m_edgeA%3B%0A%20%20%20%20%20%20j.m_bodyA.m_jointList%20%3D%20j.m_edgeA%3B%0A%20%20%20%20%20%20j.m_edgeB.joint%20%3D%20j%3B%0A%20%20%20%20%20%20j.m_edgeB.other%20%3D%20j.m_bodyA%3B%0A%20%20%20%20%20%20j.m_edgeB.prev%20%3D%20null%3B%0A%20%20%20%20%20%20j.m_edgeB.next%20%3D%20j.m_bodyB.m_jointList%3B%0A%20%20%20%20%20%20if%20(j.m_bodyB.m_jointList)%20j.m_bodyB.m_jointList.prev%20%3D%20j.m_edgeB%3B%0A%20%20%20%20%20%20j.m_bodyB.m_jointList%20%3D%20j.m_edgeB%3B%0A%20%20%20%20%20%20var%20bodyA%20%3D%20def.bodyA%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20def.bodyB%3B%0A%20%20%20%20%20%20if%20(def.collideConnected%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20var%20edge%20%3D%20bodyB.GetContactList()%3B%0A%20%20%20%20%20%20%20%20while%20(edge)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(edge.other%20%3D%3D%20bodyA)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20edge.contact.FlagForFiltering()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20j%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.DestroyJoint%20%3D%20function%20(j)%20%7B%0A%20%20%20%20%20%20var%20collideConnected%20%3D%20j.m_collideConnected%3B%0A%20%20%20%20%20%20if%20(j.m_prev)%20%7B%0A%20%20%20%20%20%20%20%20j.m_prev.m_next%20%3D%20j.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(j.m_next)%20%7B%0A%20%20%20%20%20%20%20%20j.m_next.m_prev%20%3D%20j.m_prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(j%20%3D%3D%20this.m_jointList)%20%7B%0A%20%20%20%20%20%20%20%20this.m_jointList%20%3D%20j.m_next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20j.m_bodyA%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20j.m_bodyB%3B%0A%20%20%20%20%20%20bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20if%20(j.m_edgeA.prev)%20%7B%0A%20%20%20%20%20%20%20%20j.m_edgeA.prev.next%20%3D%20j.m_edgeA.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(j.m_edgeA.next)%20%7B%0A%20%20%20%20%20%20%20%20j.m_edgeA.next.prev%20%3D%20j.m_edgeA.prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(j.m_edgeA%20%3D%3D%20bodyA.m_jointList)%20%7B%0A%20%20%20%20%20%20%20%20bodyA.m_jointList%20%3D%20j.m_edgeA.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20j.m_edgeA.prev%20%3D%20null%3B%0A%20%20%20%20%20%20j.m_edgeA.next%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(j.m_edgeB.prev)%20%7B%0A%20%20%20%20%20%20%20%20j.m_edgeB.prev.next%20%3D%20j.m_edgeB.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(j.m_edgeB.next)%20%7B%0A%20%20%20%20%20%20%20%20j.m_edgeB.next.prev%20%3D%20j.m_edgeB.prev%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(j.m_edgeB%20%3D%3D%20bodyB.m_jointList)%20%7B%0A%20%20%20%20%20%20%20%20bodyB.m_jointList%20%3D%20j.m_edgeB.next%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20j.m_edgeB.prev%20%3D%20null%3B%0A%20%20%20%20%20%20j.m_edgeB.next%20%3D%20null%3B%0A%20%20%20%20%20%20b2Joint.Destroy(j%2C%20null)%3B%0A%20%20%20%20%20%20--this.m_jointCount%3B%0A%20%20%20%20%20%20if%20(collideConnected%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20var%20edge%20%3D%20bodyB.GetContactList()%3B%0A%20%20%20%20%20%20%20%20while%20(edge)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(edge.other%20%3D%3D%20bodyA)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20edge.contact.FlagForFiltering()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20edge%20%3D%20edge.next%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.AddController%20%3D%20function%20(c)%20%7B%0A%20%20%20%20%20%20c.m_next%20%3D%20this.m_controllerList%3B%0A%20%20%20%20%20%20c.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20c%3B%0A%20%20%20%20%20%20c.m_world%20%3D%20this%3B%0A%20%20%20%20%20%20this.m_controllerCount%2B%2B%3B%0A%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.RemoveController%20%3D%20function%20(c)%20%7B%0A%20%20%20%20%20%20if%20(c.m_prev)%20c.m_prev.m_next%20%3D%20c.m_next%3B%0A%20%20%20%20%20%20if%20(c.m_next)%20c.m_next.m_prev%20%3D%20c.m_prev%3B%0A%20%20%20%20%20%20if%20(this.m_controllerList%20%3D%3D%20c)%20this.m_controllerList%20%3D%20c.m_next%3B%0A%20%20%20%20%20%20this.m_controllerCount--%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.CreateController%20%3D%20function%20(controller)%20%7B%0A%20%20%20%20%20%20if%20(controller.m_world%20!%3D%20this)%0A%20%20%20%20%20%20%20%20throw%20new%20Error(%22Controller%20can%20only%20be%20a%20member%20of%20one%20world%22)%3B%0A%20%20%20%20%20%20controller.m_next%20%3D%20this.m_controllerList%3B%0A%20%20%20%20%20%20controller.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(this.m_controllerList)%20this.m_controllerList.m_prev%20%3D%20controller%3B%0A%20%20%20%20%20%20this.m_controllerList%20%3D%20controller%3B%0A%20%20%20%20%20%20%2B%2Bthis.m_controllerCount%3B%0A%20%20%20%20%20%20controller.m_world%20%3D%20this%3B%0A%20%20%20%20%20%20return%20controller%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.DestroyController%20%3D%20function%20(controller)%20%7B%0A%20%20%20%20%20%20controller.Clear()%3B%0A%20%20%20%20%20%20if%20(controller.m_next)%20controller.m_next.m_prev%20%3D%20controller.m_prev%3B%0A%20%20%20%20%20%20if%20(controller.m_prev)%20controller.m_prev.m_next%20%3D%20controller.m_next%3B%0A%20%20%20%20%20%20if%20(controller%20%3D%3D%20this.m_controllerList)%0A%20%20%20%20%20%20%20%20this.m_controllerList%20%3D%20controller.m_next%3B%0A%20%20%20%20%20%20--this.m_controllerCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetWarmStarting%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20b2World.m_warmStarting%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetContinuousPhysics%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20b2World.m_continuousPhysics%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetBodyCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetJointCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_jointCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetContactCount%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_contactCount%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SetGravity%20%3D%20function%20(gravity)%20%7B%0A%20%20%20%20%20%20this.m_gravity%20%3D%20gravity%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetGravity%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_gravity%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetGroundBody%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_groundBody%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.Step%20%3D%20function%20(%0A%20%20%20%20%20%20dt%2C%0A%20%20%20%20%20%20velocityIterations%2C%0A%20%20%20%20%20%20positionIterations%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(dt%20%3D%3D%3D%20undefined)%20dt%20%3D%200%3B%0A%20%20%20%20%20%20if%20(velocityIterations%20%3D%3D%3D%20undefined)%20velocityIterations%20%3D%200%3B%0A%20%20%20%20%20%20if%20(positionIterations%20%3D%3D%3D%20undefined)%20positionIterations%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2World.e_newFixture)%20%7B%0A%20%20%20%20%20%20%20%20this.m_contactManager.FindNewContacts()%3B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2World.e_newFixture%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2World.e_locked%3B%0A%20%20%20%20%20%20var%20step%20%3D%20b2World.s_timestep2%3B%0A%20%20%20%20%20%20step.dt%20%3D%20dt%3B%0A%20%20%20%20%20%20step.velocityIterations%20%3D%20velocityIterations%3B%0A%20%20%20%20%20%20step.positionIterations%20%3D%20positionIterations%3B%0A%20%20%20%20%20%20if%20(dt%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20step.inv_dt%20%3D%201.0%20%2F%20dt%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20step.inv_dt%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20step.dtRatio%20%3D%20this.m_inv_dt0%20*%20dt%3B%0A%20%20%20%20%20%20step.warmStarting%20%3D%20b2World.m_warmStarting%3B%0A%20%20%20%20%20%20this.m_contactManager.Collide()%3B%0A%20%20%20%20%20%20if%20(step.dt%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.Solve(step)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(b2World.m_continuousPhysics%20%26%26%20step.dt%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.SolveTOI(step)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(step.dt%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_inv_dt0%20%3D%20step.inv_dt%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2World.e_locked%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.ClearForces%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20for%20(var%20body%20%3D%20this.m_bodyList%3B%20body%3B%20body%20%3D%20body.m_next)%20%7B%0A%20%20%20%20%20%20%20%20body.m_force.SetZero()%3B%0A%20%20%20%20%20%20%20%20body.m_torque%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.DrawDebugData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20if%20(this.m_debugDraw%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_debugDraw.m_sprite.graphics.clear()%3B%0A%20%20%20%20%20%20var%20flags%20%3D%20this.m_debugDraw.GetFlags()%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20b%3B%0A%20%20%20%20%20%20var%20f%3B%0A%20%20%20%20%20%20var%20s%3B%0A%20%20%20%20%20%20var%20j%3B%0A%20%20%20%20%20%20var%20bp%3B%0A%20%20%20%20%20%20var%20invQ%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20x1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20x2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20xf%3B%0A%20%20%20%20%20%20var%20b1%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20var%20b2%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20var%20vs%20%3D%20%5Bnew%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%5D%3B%0A%20%20%20%20%20%20var%20color%20%3D%20new%20b2Color(0%2C%200%2C%200)%3B%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_shapeBit)%20%7B%0A%20%20%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20xf%20%3D%20b.m_xf%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(f%20%3D%20b.GetFixtureList()%3B%20f%3B%20f%20%3D%20f.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20f.GetShape()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(b.IsActive()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.5%2C%200.5%2C%200.3)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.5%2C%200.9%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_kinematicBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.5%2C%200.5%2C%200.9)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.6%2C%200.6%2C%200.6)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color.Set(0.9%2C%200.7%2C%200.7)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.DrawShape(s%2C%20xf%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_jointBit)%20%7B%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%20this.m_jointList%3B%20j%3B%20j%20%3D%20j.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.DrawJoint(j)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_controllerBit)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20c%20%3D%20this.m_controllerList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20c.Draw(this.m_debugDraw)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_pairBit)%20%7B%0A%20%20%20%20%20%20%20%20color.Set(0.3%2C%200.9%2C%200.9)%3B%0A%20%20%20%20%20%20%20%20for%20(%0A%20%20%20%20%20%20%20%20%20%20var%20contact%20%3D%20this.m_contactManager.m_contactList%3B%0A%20%20%20%20%20%20%20%20%20%20contact%3B%0A%20%20%20%20%20%20%20%20%20%20contact%20%3D%20contact.GetNext()%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cA%20%3D%20fixtureA.GetAABB().GetCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cB%20%3D%20fixtureB.GetAABB().GetCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(cA%2C%20cB%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_aabbBit)%20%7B%0A%20%20%20%20%20%20%20%20bp%20%3D%20this.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20%20%20vs%20%3D%20%5Bnew%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%2C%20new%20b2Vec2()%5D%3B%0A%20%20%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.GetNext())%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsActive()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20for%20(f%20%3D%20b.GetFixtureList()%3B%20f%3B%20f%20%3D%20f.GetNext())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20aabb%20%3D%20bp.GetFatAABB(f.m_proxy)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B0%5D.Set(aabb.lowerBound.x%2C%20aabb.lowerBound.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B1%5D.Set(aabb.upperBound.x%2C%20aabb.lowerBound.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B2%5D.Set(aabb.upperBound.x%2C%20aabb.upperBound.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vs%5B3%5D.Set(aabb.lowerBound.x%2C%20aabb.upperBound.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawPolygon(vs%2C%204%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(flags%20%26%20b2DebugDraw.e_centerOfMassBit)%20%7B%0A%20%20%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20xf%20%3D%20b2World.s_xf%3B%0A%20%20%20%20%20%20%20%20%20%20xf.R%20%3D%20b.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20xf.position%20%3D%20b.GetWorldCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawTransform(xf)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.QueryAABB%20%3D%20function%20(callback%2C%20aabb)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0A%0A%20%20%20%20%20%20function%20WorldQueryWrapper(proxy)%20%7B%0A%20%20%20%20%20%20%20%20return%20callback(broadPhase.GetUserData(proxy))%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20broadPhase.Query(WorldQueryWrapper%2C%20aabb)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.QueryShape%20%3D%20function%20(callback%2C%20shape%2C%20transform)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20if%20(transform%20%3D%3D%3D%20undefined)%20transform%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(transform%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20transform%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20%20%20transform.SetIdentity()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0A%0A%20%20%20%20%20%20function%20WorldQueryWrapper(proxy)%20%7B%0A%20%20%20%20%20%20%20%20var%20fixture%20%3D%0A%20%20%20%20%20%20%20%20%20%20broadPhase.GetUserData(proxy)%20instanceof%20b2Fixture%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20broadPhase.GetUserData(proxy)%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20b2Shape.TestOverlap(%0A%20%20%20%20%20%20%20%20%20%20%20%20shape%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20fixture.GetShape()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20fixture.GetBody().GetTransform()%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20return%20callback(fixture)%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20aabb%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20shape.ComputeAABB(aabb%2C%20transform)%3B%0A%20%20%20%20%20%20broadPhase.Query(WorldQueryWrapper%2C%20aabb)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.QueryPoint%20%3D%20function%20(callback%2C%20p)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0A%0A%20%20%20%20%20%20function%20WorldQueryWrapper(proxy)%20%7B%0A%20%20%20%20%20%20%20%20var%20fixture%20%3D%0A%20%20%20%20%20%20%20%20%20%20broadPhase.GetUserData(proxy)%20instanceof%20b2Fixture%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20broadPhase.GetUserData(proxy)%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20if%20(fixture.TestPoint(p))%20return%20callback(fixture)%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20aabb%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20aabb.lowerBound.Set(%0A%20%20%20%20%20%20%20%20p.x%20-%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20p.y%20-%20b2Settings.b2_linearSlop%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20aabb.upperBound.Set(%0A%20%20%20%20%20%20%20%20p.x%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20p.y%20%2B%20b2Settings.b2_linearSlop%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20broadPhase.Query(WorldQueryWrapper%2C%20aabb)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.RayCast%20%3D%20function%20(callback%2C%20point1%2C%20point2)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20var%20broadPhase%20%3D%20__this.m_contactManager.m_broadPhase%3B%0A%20%20%20%20%20%20var%20output%20%3D%20new%20b2RayCastOutput()%3B%0A%0A%20%20%20%20%20%20function%20RayCastWrapper(input%2C%20proxy)%20%7B%0A%20%20%20%20%20%20%20%20var%20userData%20%3D%20broadPhase.GetUserData(proxy)%3B%0A%20%20%20%20%20%20%20%20var%20fixture%20%3D%20userData%20instanceof%20b2Fixture%20%3F%20userData%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20var%20hit%20%3D%20fixture.RayCast(output%2C%20input)%3B%0A%20%20%20%20%20%20%20%20if%20(hit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20fraction%20%3D%20output.fraction%3B%0A%20%20%20%20%20%20%20%20%20%20var%20point%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20%20%20%20%20(1.0%20-%20fraction)%20*%20point1.x%20%2B%20fraction%20*%20point2.x%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(1.0%20-%20fraction)%20*%20point1.y%20%2B%20fraction%20*%20point2.y%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20callback(fixture%2C%20point%2C%20output.normal%2C%20fraction)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20input.maxFraction%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20input%20%3D%20new%20b2RayCastInput(point1%2C%20point2)%3B%0A%20%20%20%20%20%20broadPhase.RayCast(RayCastWrapper%2C%20input)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.RayCastOne%20%3D%20function%20(point1%2C%20point2)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20var%20result%3B%0A%0A%20%20%20%20%20%20function%20RayCastOneWrapper(fixture%2C%20point%2C%20normal%2C%20fraction)%20%7B%0A%20%20%20%20%20%20%20%20if%20(fraction%20%3D%3D%3D%20undefined)%20fraction%20%3D%200%3B%0A%20%20%20%20%20%20%20%20result%20%3D%20fixture%3B%0A%20%20%20%20%20%20%20%20return%20fraction%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20__this.RayCast(RayCastOneWrapper%2C%20point1%2C%20point2)%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.RayCastAll%20%3D%20function%20(point1%2C%20point2)%20%7B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20var%20result%20%3D%20new%20Vector()%3B%0A%0A%20%20%20%20%20%20function%20RayCastAllWrapper(fixture%2C%20point%2C%20normal%2C%20fraction)%20%7B%0A%20%20%20%20%20%20%20%20if%20(fraction%20%3D%3D%3D%20undefined)%20fraction%20%3D%200%3B%0A%20%20%20%20%20%20%20%20result%5Bresult.length%5D%20%3D%20fixture%3B%0A%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20__this.RayCast(RayCastAllWrapper%2C%20point1%2C%20point2)%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetBodyList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetJointList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_jointList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.GetContactList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_contactList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.IsLocked%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2World.e_locked)%20%3E%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.Solve%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20b%3B%0A%20%20%20%20%20%20for%20(%0A%20%20%20%20%20%20%20%20var%20controller%20%3D%20this.m_controllerList%3B%0A%20%20%20%20%20%20%20%20controller%3B%0A%20%20%20%20%20%20%20%20controller%20%3D%20controller.m_next%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20controller.Step(step)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20island%20%3D%20this.m_island%3B%0A%20%20%20%20%20%20island.Initialize(%0A%20%20%20%20%20%20%20%20this.m_bodyCount%2C%0A%20%20%20%20%20%20%20%20this.m_contactCount%2C%0A%20%20%20%20%20%20%20%20this.m_jointCount%2C%0A%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20this.m_contactManager.m_contactListener%2C%0A%20%20%20%20%20%20%20%20this.m_contactSolver%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(var%20c%20%3D%20this.m_contactList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0A%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~b2Contact.e_islandFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(var%20j%20%3D%20this.m_jointList%3B%20j%3B%20j%20%3D%20j.m_next)%20%7B%0A%20%20%20%20%20%20%20%20j.m_islandFlag%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20stackSize%20%3D%20parseInt(this.m_bodyCount)%3B%0A%20%20%20%20%20%20var%20stack%20%3D%20this.s_stack%3B%0A%20%20%20%20%20%20for%20(var%20seed%20%3D%20this.m_bodyList%3B%20seed%3B%20seed%20%3D%20seed.m_next)%20%7B%0A%20%20%20%20%20%20%20%20if%20(seed.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(seed.IsAwake()%20%3D%3D%20false%20%7C%7C%20seed.IsActive()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(seed.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20island.Clear()%3B%0A%20%20%20%20%20%20%20%20var%20stackCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20stack%5BstackCount%2B%2B%5D%20%3D%20seed%3B%0A%20%20%20%20%20%20%20%20seed.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20while%20(stackCount%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20stack%5B--stackCount%5D%3B%0A%20%20%20%20%20%20%20%20%20%20island.AddBody(b)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20var%20other%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20ce%20%3D%20b.m_contactList%3B%20ce%3B%20ce%20%3D%20ce.next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(ce.contact.m_flags%20%26%20b2Contact.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.IsSensor()%20%3D%3D%20true%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.IsEnabled()%20%3D%3D%20false%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.IsTouching()%20%3D%3D%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddContact(ce.contact)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ce.contact.m_flags%20%7C%3D%20b2Contact.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20ce.other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5BstackCount%2B%2B%5D%20%3D%20other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20jn%20%3D%20b.m_jointList%3B%20jn%3B%20jn%20%3D%20jn.next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(jn.joint.m_islandFlag%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20jn.other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.IsActive()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddJoint(jn.joint)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20jn.joint.m_islandFlag%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20stack%5BstackCount%2B%2B%5D%20%3D%20other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20island.Solve(step%2C%20this.m_gravity%2C%20this.m_allowSleep)%3B%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20island.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20island.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20stack.length%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20if%20(!stack%5Bi%5D)%20break%3B%0A%20%20%20%20%20%20%20%20stack%5Bi%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false%20%7C%7C%20b.IsActive()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(b.GetType()%20%3D%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20b.SynchronizeFixtures()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_contactManager.FindNewContacts()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.SolveTOI%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20b%3B%0A%20%20%20%20%20%20var%20fA%3B%0A%20%20%20%20%20%20var%20fB%3B%0A%20%20%20%20%20%20var%20bA%3B%0A%20%20%20%20%20%20var%20bB%3B%0A%20%20%20%20%20%20var%20cEdge%3B%0A%20%20%20%20%20%20var%20j%3B%0A%20%20%20%20%20%20var%20island%20%3D%20this.m_island%3B%0A%20%20%20%20%20%20island.Initialize(%0A%20%20%20%20%20%20%20%20this.m_bodyCount%2C%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxTOIContactsPerIsland%2C%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxTOIJointsPerIsland%2C%0A%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20this.m_contactManager.m_contactListener%2C%0A%20%20%20%20%20%20%20%20this.m_contactSolver%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20queue%20%3D%20b2World.s_queue%3B%0A%20%20%20%20%20%20for%20(b%20%3D%20this.m_bodyList%3B%20b%3B%20b%20%3D%20b.m_next)%20%7B%0A%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20b.m_sweep.t0%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20c%3B%0A%20%20%20%20%20%20for%20(c%20%3D%20this.m_contactList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0A%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~(b2Contact.e_toiFlag%20%7C%20b2Contact.e_islandFlag)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(j%20%3D%20this.m_jointList%3B%20j%3B%20j%20%3D%20j.m_next)%20%7B%0A%20%20%20%20%20%20%20%20j.m_islandFlag%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0A%20%20%20%20%20%20%20%20var%20minContact%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20var%20minTOI%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20for%20(c%20%3D%20this.m_contactList%3B%20c%3B%20c%20%3D%20c.m_next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20c.IsSensor()%20%3D%3D%20true%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20c.IsEnabled()%20%3D%3D%20false%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20c.IsContinuous()%20%3D%3D%20false%0A%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20var%20toi%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(c.m_flags%20%26%20b2Contact.e_toiFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20toi%20%3D%20c.m_toi%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fA%20%3D%20c.m_fixtureA%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20fB%20%3D%20c.m_fixtureB%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bA%20%3D%20fA.m_body%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bB%20%3D%20fB.m_body%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(bA.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%20bA.IsAwake()%20%3D%3D%20false)%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(bB.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%20bB.IsAwake()%20%3D%3D%20false)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20t0%20%3D%20bA.m_sweep.t0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(bA.m_sweep.t0%20%3C%20bB.m_sweep.t0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t0%20%3D%20bB.m_sweep.t0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bA.m_sweep.Advance(t0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(bB.m_sweep.t0%20%3C%20bA.m_sweep.t0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t0%20%3D%20bA.m_sweep.t0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bB.m_sweep.Advance(t0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20toi%20%3D%20c.ComputeTOI(bA.m_sweep%2C%20bB.m_sweep)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2Assert(0.0%20%3C%3D%20toi%20%26%26%20toi%20%3C%3D%201.0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(toi%20%3E%200.0%20%26%26%20toi%20%3C%201.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toi%20%3D%20(1.0%20-%20toi)%20*%20t0%20%2B%20toi%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(toi%20%3E%201)%20toi%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.m_toi%20%3D%20toi%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c.m_flags%20%7C%3D%20b2Contact.e_toiFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(Number.MIN_VALUE%20%3C%20toi%20%26%26%20toi%20%3C%20minTOI)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20minContact%20%3D%20c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20minTOI%20%3D%20toi%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(minContact%20%3D%3D%20null%20%7C%7C%201.0%20-%20100.0%20*%20Number.MIN_VALUE%20%3C%20minTOI)%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20fA%20%3D%20minContact.m_fixtureA%3B%0A%20%20%20%20%20%20%20%20fB%20%3D%20minContact.m_fixtureB%3B%0A%20%20%20%20%20%20%20%20bA%20%3D%20fA.m_body%3B%0A%20%20%20%20%20%20%20%20bB%20%3D%20fB.m_body%3B%0A%20%20%20%20%20%20%20%20b2World.s_backupA.Set(bA.m_sweep)%3B%0A%20%20%20%20%20%20%20%20b2World.s_backupB.Set(bB.m_sweep)%3B%0A%20%20%20%20%20%20%20%20bA.Advance(minTOI)%3B%0A%20%20%20%20%20%20%20%20bB.Advance(minTOI)%3B%0A%20%20%20%20%20%20%20%20minContact.Update(this.m_contactManager.m_contactListener)%3B%0A%20%20%20%20%20%20%20%20minContact.m_flags%20%26%3D%20~b2Contact.e_toiFlag%3B%0A%20%20%20%20%20%20%20%20if%20(minContact.IsSensor()%20%3D%3D%20true%20%7C%7C%20minContact.IsEnabled()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bA.m_sweep.Set(b2World.s_backupA)%3B%0A%20%20%20%20%20%20%20%20%20%20bB.m_sweep.Set(b2World.s_backupB)%3B%0A%20%20%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(minContact.IsTouching()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20seed%20%3D%20bA%3B%0A%20%20%20%20%20%20%20%20if%20(seed.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20seed%20%3D%20bB%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20island.Clear()%3B%0A%20%20%20%20%20%20%20%20var%20queueStart%20%3D%200%3B%0A%20%20%20%20%20%20%20%20var%20queueSize%20%3D%200%3B%0A%20%20%20%20%20%20%20%20queue%5BqueueStart%20%2B%20queueSize%2B%2B%5D%20%3D%20seed%3B%0A%20%20%20%20%20%20%20%20seed.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20while%20(queueSize%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20queue%5BqueueStart%2B%2B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20--queueSize%3B%0A%20%20%20%20%20%20%20%20%20%20island.AddBody(b)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20b.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20for%20(cEdge%20%3D%20b.m_contactList%3B%20cEdge%3B%20cEdge%20%3D%20cEdge.next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(island.m_contactCount%20%3D%3D%20island.m_contactCapacity)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(cEdge.contact.m_flags%20%26%20b2Contact.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.IsSensor()%20%3D%3D%20true%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.IsEnabled()%20%3D%3D%20false%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.IsTouching()%20%3D%3D%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddContact(cEdge.contact)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.m_flags%20%7C%3D%20b2Contact.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20other%20%3D%20cEdge.other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.GetType()%20!%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.Advance(minTOI)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20queue%5BqueueStart%20%2B%20queueSize%5D%20%3D%20other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2BqueueSize%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20jEdge%20%3D%20b.m_jointList%3B%20jEdge%3B%20jEdge%20%3D%20jEdge.next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(island.m_jointCount%20%3D%3D%20island.m_jointCapacity)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(jEdge.joint.m_islandFlag%20%3D%3D%20true)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20jEdge.other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.IsActive()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20island.AddJoint(jEdge.joint)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20jEdge.joint.m_islandFlag%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.m_flags%20%26%20b2Body.e_islandFlag)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(other.GetType()%20!%3D%20b2Body.b2_staticBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.Advance(minTOI)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20other.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20queue%5BqueueStart%20%2B%20queueSize%5D%20%3D%20other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2BqueueSize%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20other.m_flags%20%7C%3D%20b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20subStep%20%3D%20b2World.s_timestep%3B%0A%20%20%20%20%20%20%20%20subStep.warmStarting%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20subStep.dt%20%3D%20(1.0%20-%20minTOI)%20*%20step.dt%3B%0A%20%20%20%20%20%20%20%20subStep.inv_dt%20%3D%201.0%20%2F%20subStep.dt%3B%0A%20%20%20%20%20%20%20%20subStep.dtRatio%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20subStep.velocityIterations%20%3D%20step.velocityIterations%3B%0A%20%20%20%20%20%20%20%20subStep.positionIterations%20%3D%20step.positionIterations%3B%0A%20%20%20%20%20%20%20%20island.SolveTOI(subStep)%3B%0A%20%20%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20island.m_bodyCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20b%20%3D%20island.m_bodies%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20b.m_flags%20%26%3D%20~b2Body.e_islandFlag%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(b.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20(b.GetType()%20!%3D%20b2Body.b2_dynamicBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20b.SynchronizeFixtures()%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(cEdge%20%3D%20b.m_contactList%3B%20cEdge%3B%20cEdge%20%3D%20cEdge.next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cEdge.contact.m_flags%20%26%3D%20~b2Contact.e_toiFlag%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20island.m_contactCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20island.m_contacts%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20c.m_flags%20%26%3D%20~(b2Contact.e_toiFlag%20%7C%20b2Contact.e_islandFlag)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20island.m_jointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20j%20%3D%20island.m_joints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20j.m_islandFlag%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.m_contactManager.FindNewContacts()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.DrawJoint%20%3D%20function%20(joint)%20%7B%0A%20%20%20%20%20%20var%20b1%20%3D%20joint.GetBodyA()%3B%0A%20%20%20%20%20%20var%20b2%20%3D%20joint.GetBodyB()%3B%0A%20%20%20%20%20%20var%20xf1%20%3D%20b1.m_xf%3B%0A%20%20%20%20%20%20var%20xf2%20%3D%20b2.m_xf%3B%0A%20%20%20%20%20%20var%20x1%20%3D%20xf1.position%3B%0A%20%20%20%20%20%20var%20x2%20%3D%20xf2.position%3B%0A%20%20%20%20%20%20var%20p1%20%3D%20joint.GetAnchorA()%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20joint.GetAnchorB()%3B%0A%20%20%20%20%20%20var%20color%20%3D%20b2World.s_jointColor%3B%0A%20%20%20%20%20%20switch%20(joint.m_type)%20%7B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_distanceJoint%3A%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_pulleyJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pulley%20%3D%20joint%20instanceof%20b2PulleyJoint%20%3F%20joint%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s1%20%3D%20pulley.GetGroundAnchorA()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20s2%20%3D%20pulley.GetGroundAnchorB()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(s1%2C%20p1%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(s2%2C%20p2%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(s1%2C%20s2%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_mouseJoint%3A%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20if%20(b1%20!%3D%20this.m_groundBody)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(x1%2C%20p1%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(b2%20!%3D%20this.m_groundBody)%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(x2%2C%20p2%2C%20color)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2World.prototype.DrawShape%20%3D%20function%20(shape%2C%20xf%2C%20color)%20%7B%0A%20%20%20%20%20%20switch%20(shape.m_type)%20%7B%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_circleShape%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20circle%20%3D%20shape%20instanceof%20b2CircleShape%20%3F%20shape%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20center%20%3D%20b2Math.MulX(xf%2C%20circle.m_p)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20radius%20%3D%20circle.m_radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20axis%20%3D%20xf.R.col1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSolidCircle(center%2C%20radius%2C%20axis%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_polygonShape%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20poly%20%3D%20shape%20instanceof%20b2PolygonShape%20%3F%20shape%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20vertexCount%20%3D%20parseInt(poly.GetVertexCount())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20localVertices%20%3D%20poly.GetVertices()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20vertices%20%3D%20new%20Vector(vertexCount)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20vertexCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vertices%5Bi%5D%20%3D%20b2Math.MulX(xf%2C%20localVertices%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSolidPolygon(vertices%2C%20vertexCount%2C%20color)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Shape.e_edgeShape%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20edge%20%3D%20shape%20instanceof%20b2EdgeShape%20%3F%20shape%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_debugDraw.DrawSegment(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2Math.MulX(xf%2C%20edge.GetVertex1())%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20b2Math.MulX(xf%2C%20edge.GetVertex2())%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_timestep2%20%3D%20new%20b2TimeStep()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_xf%20%3D%20new%20b2Transform()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_backupA%20%3D%20new%20b2Sweep()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_backupB%20%3D%20new%20b2Sweep()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_timestep%20%3D%20new%20b2TimeStep()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_queue%20%3D%20new%20Vector()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.s_jointColor%20%3D%20new%20b2Color(0.5%2C%200.8%2C%200.8)%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.e_newFixture%20%3D%200x0001%3B%0A%20%20%20%20%20%20Box2D.Dynamics.b2World.e_locked%20%3D%200x0002%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0A%20%20%20%20%20%20b2CircleContact%20%3D%20Box2D.Dynamics.Contacts.b2CircleContact%2C%0A%20%20%20%20%20%20b2Contact%20%3D%20Box2D.Dynamics.Contacts.b2Contact%2C%0A%20%20%20%20%20%20b2ContactConstraint%20%3D%20Box2D.Dynamics.Contacts.b2ContactConstraint%2C%0A%20%20%20%20%20%20b2ContactConstraintPoint%20%3D%20Box2D.Dynamics.Contacts.b2ContactConstraintPoint%2C%0A%20%20%20%20%20%20b2ContactEdge%20%3D%20Box2D.Dynamics.Contacts.b2ContactEdge%2C%0A%20%20%20%20%20%20b2ContactFactory%20%3D%20Box2D.Dynamics.Contacts.b2ContactFactory%2C%0A%20%20%20%20%20%20b2ContactRegister%20%3D%20Box2D.Dynamics.Contacts.b2ContactRegister%2C%0A%20%20%20%20%20%20b2ContactResult%20%3D%20Box2D.Dynamics.Contacts.b2ContactResult%2C%0A%20%20%20%20%20%20b2ContactSolver%20%3D%20Box2D.Dynamics.Contacts.b2ContactSolver%2C%0A%20%20%20%20%20%20b2EdgeAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2EdgeAndCircleContact%2C%0A%20%20%20%20%20%20b2NullContact%20%3D%20Box2D.Dynamics.Contacts.b2NullContact%2C%0A%20%20%20%20%20%20b2PolyAndCircleContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndCircleContact%2C%0A%20%20%20%20%20%20b2PolyAndEdgeContact%20%3D%20Box2D.Dynamics.Contacts.b2PolyAndEdgeContact%2C%0A%20%20%20%20%20%20b2PolygonContact%20%3D%20Box2D.Dynamics.Contacts.b2PolygonContact%2C%0A%20%20%20%20%20%20b2PositionSolverManifold%20%3D%20Box2D.Dynamics.Contacts.b2PositionSolverManifold%2C%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0A%20%20%20%20%20%20b2AABB%20%3D%20Box2D.Collision.b2AABB%2C%0A%20%20%20%20%20%20b2Bound%20%3D%20Box2D.Collision.b2Bound%2C%0A%20%20%20%20%20%20b2BoundValues%20%3D%20Box2D.Collision.b2BoundValues%2C%0A%20%20%20%20%20%20b2Collision%20%3D%20Box2D.Collision.b2Collision%2C%0A%20%20%20%20%20%20b2ContactID%20%3D%20Box2D.Collision.b2ContactID%2C%0A%20%20%20%20%20%20b2ContactPoint%20%3D%20Box2D.Collision.b2ContactPoint%2C%0A%20%20%20%20%20%20b2Distance%20%3D%20Box2D.Collision.b2Distance%2C%0A%20%20%20%20%20%20b2DistanceInput%20%3D%20Box2D.Collision.b2DistanceInput%2C%0A%20%20%20%20%20%20b2DistanceOutput%20%3D%20Box2D.Collision.b2DistanceOutput%2C%0A%20%20%20%20%20%20b2DistanceProxy%20%3D%20Box2D.Collision.b2DistanceProxy%2C%0A%20%20%20%20%20%20b2DynamicTree%20%3D%20Box2D.Collision.b2DynamicTree%2C%0A%20%20%20%20%20%20b2DynamicTreeBroadPhase%20%3D%20Box2D.Collision.b2DynamicTreeBroadPhase%2C%0A%20%20%20%20%20%20b2DynamicTreeNode%20%3D%20Box2D.Collision.b2DynamicTreeNode%2C%0A%20%20%20%20%20%20b2DynamicTreePair%20%3D%20Box2D.Collision.b2DynamicTreePair%2C%0A%20%20%20%20%20%20b2Manifold%20%3D%20Box2D.Collision.b2Manifold%2C%0A%20%20%20%20%20%20b2ManifoldPoint%20%3D%20Box2D.Collision.b2ManifoldPoint%2C%0A%20%20%20%20%20%20b2Point%20%3D%20Box2D.Collision.b2Point%2C%0A%20%20%20%20%20%20b2RayCastInput%20%3D%20Box2D.Collision.b2RayCastInput%2C%0A%20%20%20%20%20%20b2RayCastOutput%20%3D%20Box2D.Collision.b2RayCastOutput%2C%0A%20%20%20%20%20%20b2Segment%20%3D%20Box2D.Collision.b2Segment%2C%0A%20%20%20%20%20%20b2SeparationFunction%20%3D%20Box2D.Collision.b2SeparationFunction%2C%0A%20%20%20%20%20%20b2Simplex%20%3D%20Box2D.Collision.b2Simplex%2C%0A%20%20%20%20%20%20b2SimplexCache%20%3D%20Box2D.Collision.b2SimplexCache%2C%0A%20%20%20%20%20%20b2SimplexVertex%20%3D%20Box2D.Collision.b2SimplexVertex%2C%0A%20%20%20%20%20%20b2TimeOfImpact%20%3D%20Box2D.Collision.b2TimeOfImpact%2C%0A%20%20%20%20%20%20b2TOIInput%20%3D%20Box2D.Collision.b2TOIInput%2C%0A%20%20%20%20%20%20b2WorldManifold%20%3D%20Box2D.Collision.b2WorldManifold%2C%0A%20%20%20%20%20%20ClipVertex%20%3D%20Box2D.Collision.ClipVertex%2C%0A%20%20%20%20%20%20Features%20%3D%20Box2D.Collision.Features%2C%0A%20%20%20%20%20%20IBroadPhase%20%3D%20Box2D.Collision.IBroadPhase%3B%0A%0A%20%20%20%20Box2D.inherit(b2CircleContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0A%20%20%20%20b2CircleContact.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0A%20%20%20%20b2CircleContact.b2CircleContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleContact.Create%20%3D%20function%20(allocator)%20%7B%0A%20%20%20%20%20%20return%20new%20b2CircleContact()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0A%20%20%20%20b2CircleContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2CircleContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0A%20%20%20%20%20%20b2Collision.CollideCircles(%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2CircleShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2CircleShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bB.m_xf%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.b2Contact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_nodeA%20%3D%20new%20b2ContactEdge()%3B%0A%20%20%20%20%20%20this.m_nodeB%20%3D%20new%20b2ContactEdge()%3B%0A%20%20%20%20%20%20this.m_manifold%20%3D%20new%20b2Manifold()%3B%0A%20%20%20%20%20%20this.m_oldManifold%20%3D%20new%20b2Manifold()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.GetManifold%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_manifold%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.GetWorldManifold%20%3D%20function%20(worldManifold)%20%7B%0A%20%20%20%20%20%20var%20bodyA%20%3D%20this.m_fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20this.m_fixtureB.GetBody()%3B%0A%20%20%20%20%20%20var%20shapeA%20%3D%20this.m_fixtureA.GetShape()%3B%0A%20%20%20%20%20%20var%20shapeB%20%3D%20this.m_fixtureB.GetShape()%3B%0A%20%20%20%20%20%20worldManifold.Initialize(%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0A%20%20%20%20%20%20%20%20bodyA.GetTransform()%2C%0A%20%20%20%20%20%20%20%20shapeA.m_radius%2C%0A%20%20%20%20%20%20%20%20bodyB.GetTransform()%2C%0A%20%20%20%20%20%20%20%20shapeB.m_radius%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.IsTouching%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_touchingFlag)%20%3D%3D%20b2Contact.e_touchingFlag%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.IsContinuous%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_continuousFlag)%20%3D%3D%20b2Contact.e_continuousFlag%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.SetSensor%20%3D%20function%20(sensor)%20%7B%0A%20%20%20%20%20%20if%20(sensor)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_sensorFlag%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_sensorFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.IsSensor%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Contact.e_sensorFlag)%20%3D%3D%20b2Contact.e_sensorFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.SetEnabled%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20if%20(flag)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_enabledFlag%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_enabledFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.IsEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(this.m_flags%20%26%20b2Contact.e_enabledFlag)%20%3D%3D%20b2Contact.e_enabledFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.GetNext%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_next%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.GetFixtureA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_fixtureA%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.GetFixtureB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_fixtureB%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.FlagForFiltering%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_filterFlag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.b2Contact%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Contact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20if%20(fixtureA%20%3D%3D%3D%20undefined)%20fixtureA%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(fixtureB%20%3D%3D%3D%20undefined)%20fixtureB%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_flags%20%3D%20b2Contact.e_enabledFlag%3B%0A%20%20%20%20%20%20if%20(!fixtureA%20%7C%7C%20!fixtureB)%20%7B%0A%20%20%20%20%20%20%20%20this.m_fixtureA%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20this.m_fixtureB%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(fixtureA.IsSensor()%20%7C%7C%20fixtureB.IsSensor())%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_sensorFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.GetBody()%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20bodyA.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0A%20%20%20%20%20%20%20%20bodyA.IsBullet()%20%7C%7C%0A%20%20%20%20%20%20%20%20bodyB.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0A%20%20%20%20%20%20%20%20bodyB.IsBullet()%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_continuousFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_fixtureA%20%3D%20fixtureA%3B%0A%20%20%20%20%20%20this.m_fixtureB%20%3D%20fixtureB%3B%0A%20%20%20%20%20%20this.m_manifold.m_pointCount%20%3D%200%3B%0A%20%20%20%20%20%20this.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeA.contact%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeA.prev%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeA.next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeA.other%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeB.contact%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeB.prev%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeB.next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_nodeB.other%20%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.Update%20%3D%20function%20(listener)%20%7B%0A%20%20%20%20%20%20var%20tManifold%20%3D%20this.m_oldManifold%3B%0A%20%20%20%20%20%20this.m_oldManifold%20%3D%20this.m_manifold%3B%0A%20%20%20%20%20%20this.m_manifold%20%3D%20tManifold%3B%0A%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_enabledFlag%3B%0A%20%20%20%20%20%20var%20touching%20%3D%20false%3B%0A%20%20%20%20%20%20var%20wasTouching%20%3D%0A%20%20%20%20%20%20%20%20(this.m_flags%20%26%20b2Contact.e_touchingFlag)%20%3D%3D%20b2Contact.e_touchingFlag%3B%0A%20%20%20%20%20%20var%20bodyA%20%3D%20this.m_fixtureA.m_body%3B%0A%20%20%20%20%20%20var%20bodyB%20%3D%20this.m_fixtureB.m_body%3B%0A%20%20%20%20%20%20var%20aabbOverlap%20%3D%20this.m_fixtureA.m_aabb.TestOverlap(%0A%20%20%20%20%20%20%20%20this.m_fixtureB.m_aabb%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20if%20(this.m_flags%20%26%20b2Contact.e_sensorFlag)%20%7B%0A%20%20%20%20%20%20%20%20if%20(aabbOverlap)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20shapeA%20%3D%20this.m_fixtureA.GetShape()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20shapeB%20%3D%20this.m_fixtureB.GetShape()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20xfA%20%3D%20bodyA.GetTransform()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20xfB%20%3D%20bodyB.GetTransform()%3B%0A%20%20%20%20%20%20%20%20%20%20touching%20%3D%20b2Shape.TestOverlap(shapeA%2C%20xfA%2C%20shapeB%2C%20xfB)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.m_manifold.m_pointCount%20%3D%200%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20bodyA.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20bodyA.IsBullet()%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20bodyB.GetType()%20!%3D%20b2Body.b2_dynamicBody%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20bodyB.IsBullet()%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_continuousFlag%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_continuousFlag%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(aabbOverlap)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.Evaluate()%3B%0A%20%20%20%20%20%20%20%20%20%20touching%20%3D%20this.m_manifold.m_pointCount%20%3E%200%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_manifold.m_pointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20mp2%20%3D%20this.m_manifold.m_points%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_normalImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_tangentImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20id2%20%3D%20mp2.m_id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20this.m_oldManifold.m_pointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20mp1%20%3D%20this.m_oldManifold.m_points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(mp1.m_id.key%20%3D%3D%20id2.key)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_normalImpulse%20%3D%20mp1.m_normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mp2.m_tangentImpulse%20%3D%20mp1.m_tangentImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_manifold.m_pointCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(touching%20!%3D%20wasTouching)%20%7B%0A%20%20%20%20%20%20%20%20%20%20bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%20%20bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(touching)%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%7C%3D%20b2Contact.e_touchingFlag%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_flags%20%26%3D%20~b2Contact.e_touchingFlag%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(wasTouching%20%3D%3D%20false%20%26%26%20touching%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20listener.BeginContact(this)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(wasTouching%20%3D%3D%20true%20%26%26%20touching%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20listener.EndContact(this)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20((this.m_flags%20%26%20b2Contact.e_sensorFlag)%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20listener.PreSolve(this%2C%20this.m_oldManifold)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Contact.prototype.Evaluate%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Contact.prototype.ComputeTOI%20%3D%20function%20(sweepA%2C%20sweepB)%20%7B%0A%20%20%20%20%20%20b2Contact.s_input.proxyA.Set(this.m_fixtureA.GetShape())%3B%0A%20%20%20%20%20%20b2Contact.s_input.proxyB.Set(this.m_fixtureB.GetShape())%3B%0A%20%20%20%20%20%20b2Contact.s_input.sweepA%20%3D%20sweepA%3B%0A%20%20%20%20%20%20b2Contact.s_input.sweepB%20%3D%20sweepB%3B%0A%20%20%20%20%20%20b2Contact.s_input.tolerance%20%3D%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%20%20return%20b2TimeOfImpact.TimeOfImpact(b2Contact.s_input)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag%20%3D%200x0001%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag%20%3D%200x0002%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_islandFlag%20%3D%200x0004%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_toiFlag%20%3D%200x0008%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag%20%3D%200x0010%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag%20%3D%200x0020%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.e_filterFlag%20%3D%200x0040%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.s_input%20%3D%20new%20b2TOIInput()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2ContactConstraint.b2ContactConstraint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.localPlaneNormal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localPoint%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.normalMass%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.K%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactConstraint.prototype.b2ContactConstraint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.points%5Bi%5D%20%3D%20new%20b2ContactConstraintPoint()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactConstraintPoint.b2ContactConstraintPoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.localPoint%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.rA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.rB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactEdge.b2ContactEdge%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactFactory.b2ContactFactory%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactFactory.prototype.b2ContactFactory%20%3D%20function%20(allocator)%20%7B%0A%20%20%20%20%20%20this.m_allocator%20%3D%20allocator%3B%0A%20%20%20%20%20%20this.InitializeRegisters()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactFactory.prototype.AddType%20%3D%20function%20(%0A%20%20%20%20%20%20createFcn%2C%0A%20%20%20%20%20%20destroyFcn%2C%0A%20%20%20%20%20%20type1%2C%0A%20%20%20%20%20%20type2%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(type1%20%3D%3D%3D%20undefined)%20type1%20%3D%200%3B%0A%20%20%20%20%20%20if%20(type2%20%3D%3D%3D%20undefined)%20type2%20%3D%200%3B%0A%20%20%20%20%20%20this.m_registers%5Btype1%5D%5Btype2%5D.createFcn%20%3D%20createFcn%3B%0A%20%20%20%20%20%20this.m_registers%5Btype1%5D%5Btype2%5D.destroyFcn%20%3D%20destroyFcn%3B%0A%20%20%20%20%20%20this.m_registers%5Btype1%5D%5Btype2%5D.primary%20%3D%20true%3B%0A%20%20%20%20%20%20if%20(type1%20!%3D%20type2)%20%7B%0A%20%20%20%20%20%20%20%20this.m_registers%5Btype2%5D%5Btype1%5D.createFcn%20%3D%20createFcn%3B%0A%20%20%20%20%20%20%20%20this.m_registers%5Btype2%5D%5Btype1%5D.destroyFcn%20%3D%20destroyFcn%3B%0A%20%20%20%20%20%20%20%20this.m_registers%5Btype2%5D%5Btype1%5D.primary%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactFactory.prototype.InitializeRegisters%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_registers%20%3D%20new%20Vector(b2Shape.e_shapeTypeCount)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Shape.e_shapeTypeCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.m_registers%5Bi%5D%20%3D%20new%20Vector(b2Shape.e_shapeTypeCount)%3B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20b2Shape.e_shapeTypeCount%3B%20j%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_registers%5Bi%5D%5Bj%5D%20%3D%20new%20b2ContactRegister()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.AddType(%0A%20%20%20%20%20%20%20%20b2CircleContact.Create%2C%0A%20%20%20%20%20%20%20%20b2CircleContact.Destroy%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.AddType(%0A%20%20%20%20%20%20%20%20b2PolyAndCircleContact.Create%2C%0A%20%20%20%20%20%20%20%20b2PolyAndCircleContact.Destroy%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.AddType(%0A%20%20%20%20%20%20%20%20b2PolygonContact.Create%2C%0A%20%20%20%20%20%20%20%20b2PolygonContact.Destroy%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.AddType(%0A%20%20%20%20%20%20%20%20b2EdgeAndCircleContact.Create%2C%0A%20%20%20%20%20%20%20%20b2EdgeAndCircleContact.Destroy%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_edgeShape%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_circleShape%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.AddType(%0A%20%20%20%20%20%20%20%20b2PolyAndEdgeContact.Create%2C%0A%20%20%20%20%20%20%20%20b2PolyAndEdgeContact.Destroy%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_polygonShape%2C%0A%20%20%20%20%20%20%20%20b2Shape.e_edgeShape%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactFactory.prototype.Create%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20var%20type1%20%3D%20parseInt(fixtureA.GetType())%3B%0A%20%20%20%20%20%20var%20type2%20%3D%20parseInt(fixtureB.GetType())%3B%0A%20%20%20%20%20%20var%20reg%20%3D%20this.m_registers%5Btype1%5D%5Btype2%5D%3B%0A%20%20%20%20%20%20var%20c%3B%0A%20%20%20%20%20%20if%20(reg.pool)%20%7B%0A%20%20%20%20%20%20%20%20c%20%3D%20reg.pool%3B%0A%20%20%20%20%20%20%20%20reg.pool%20%3D%20c.m_next%3B%0A%20%20%20%20%20%20%20%20reg.poolCount--%3B%0A%20%20%20%20%20%20%20%20c.Reset(fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20createFcn%20%3D%20reg.createFcn%3B%0A%20%20%20%20%20%20if%20(createFcn%20!%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20if%20(reg.primary)%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20createFcn(this.m_allocator)%3B%0A%20%20%20%20%20%20%20%20%20%20c.Reset(fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20createFcn(this.m_allocator)%3B%0A%20%20%20%20%20%20%20%20%20%20c.Reset(fixtureB%2C%20fixtureA)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactFactory.prototype.Destroy%20%3D%20function%20(contact)%20%7B%0A%20%20%20%20%20%20if%20(contact.m_manifold.m_pointCount%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20contact.m_fixtureA.m_body.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20contact.m_fixtureB.m_body.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20type1%20%3D%20parseInt(contact.m_fixtureA.GetType())%3B%0A%20%20%20%20%20%20var%20type2%20%3D%20parseInt(contact.m_fixtureB.GetType())%3B%0A%20%20%20%20%20%20var%20reg%20%3D%20this.m_registers%5Btype1%5D%5Btype2%5D%3B%0A%20%20%20%20%20%20if%20(true)%20%7B%0A%20%20%20%20%20%20%20%20reg.poolCount%2B%2B%3B%0A%20%20%20%20%20%20%20%20contact.m_next%20%3D%20reg.pool%3B%0A%20%20%20%20%20%20%20%20reg.pool%20%3D%20contact%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20destroyFcn%20%3D%20reg.destroyFcn%3B%0A%20%20%20%20%20%20destroyFcn(contact%2C%20this.m_allocator)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactRegister.b2ContactRegister%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactResult.b2ContactResult%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.position%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.id%20%3D%20new%20b2ContactID()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactSolver.b2ContactSolver%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_step%20%3D%20new%20b2TimeStep()%3B%0A%20%20%20%20%20%20this.m_constraints%20%3D%20new%20Vector()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactSolver.prototype.b2ContactSolver%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2ContactSolver.prototype.Initialize%20%3D%20function%20(%0A%20%20%20%20%20%20step%2C%0A%20%20%20%20%20%20contacts%2C%0A%20%20%20%20%20%20contactCount%2C%0A%20%20%20%20%20%20allocator%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(contactCount%20%3D%3D%3D%20undefined)%20contactCount%20%3D%200%3B%0A%20%20%20%20%20%20var%20contact%3B%0A%20%20%20%20%20%20this.m_step.Set(step)%3B%0A%20%20%20%20%20%20this.m_allocator%20%3D%20allocator%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20this.m_constraintCount%20%3D%20contactCount%3B%0A%20%20%20%20%20%20while%20(this.m_constraints.length%20%3C%20this.m_constraintCount)%20%7B%0A%20%20%20%20%20%20%20%20this.m_constraints%5Bthis.m_constraints.length%5D%20%3D%20new%20b2ContactConstraint()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20contactCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20contact%20%3D%20contacts%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20fixtureA%20%3D%20contact.m_fixtureA%3B%0A%20%20%20%20%20%20%20%20var%20fixtureB%20%3D%20contact.m_fixtureB%3B%0A%20%20%20%20%20%20%20%20var%20shapeA%20%3D%20fixtureA.m_shape%3B%0A%20%20%20%20%20%20%20%20var%20shapeB%20%3D%20fixtureB.m_shape%3B%0A%20%20%20%20%20%20%20%20var%20radiusA%20%3D%20shapeA.m_radius%3B%0A%20%20%20%20%20%20%20%20var%20radiusB%20%3D%20shapeB.m_radius%3B%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20fixtureA.m_body%3B%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20fixtureB.m_body%3B%0A%20%20%20%20%20%20%20%20var%20manifold%20%3D%20contact.GetManifold()%3B%0A%20%20%20%20%20%20%20%20var%20friction%20%3D%20b2Settings.b2MixFriction(%0A%20%20%20%20%20%20%20%20%20%20fixtureA.GetFriction()%2C%0A%20%20%20%20%20%20%20%20%20%20fixtureB.GetFriction()%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20restitution%20%3D%20b2Settings.b2MixRestitution(%0A%20%20%20%20%20%20%20%20%20%20fixtureA.GetRestitution()%2C%0A%20%20%20%20%20%20%20%20%20%20fixtureB.GetRestitution()%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20vAX%20%3D%20bodyA.m_linearVelocity.x%3B%0A%20%20%20%20%20%20%20%20var%20vAY%20%3D%20bodyA.m_linearVelocity.y%3B%0A%20%20%20%20%20%20%20%20var%20vBX%20%3D%20bodyB.m_linearVelocity.x%3B%0A%20%20%20%20%20%20%20%20var%20vBY%20%3D%20bodyB.m_linearVelocity.y%3B%0A%20%20%20%20%20%20%20%20var%20wA%20%3D%20bodyA.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20var%20wB%20%3D%20bodyB.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20b2Settings.b2Assert(manifold.m_pointCount%20%3E%200)%3B%0A%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.Initialize(%0A%20%20%20%20%20%20%20%20%20%20manifold%2C%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_xf%2C%0A%20%20%20%20%20%20%20%20%20%20radiusA%2C%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_xf%2C%0A%20%20%20%20%20%20%20%20%20%20radiusB%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20normalX%20%3D%20b2ContactSolver.s_worldManifold.m_normal.x%3B%0A%20%20%20%20%20%20%20%20var%20normalY%20%3D%20b2ContactSolver.s_worldManifold.m_normal.y%3B%0A%20%20%20%20%20%20%20%20var%20cc%20%3D%20this.m_constraints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20cc.bodyA%20%3D%20bodyA%3B%0A%20%20%20%20%20%20%20%20cc.bodyB%20%3D%20bodyB%3B%0A%20%20%20%20%20%20%20%20cc.manifold%20%3D%20manifold%3B%0A%20%20%20%20%20%20%20%20cc.normal.x%20%3D%20normalX%3B%0A%20%20%20%20%20%20%20%20cc.normal.y%20%3D%20normalY%3B%0A%20%20%20%20%20%20%20%20cc.pointCount%20%3D%20manifold.m_pointCount%3B%0A%20%20%20%20%20%20%20%20cc.friction%20%3D%20friction%3B%0A%20%20%20%20%20%20%20%20cc.restitution%20%3D%20restitution%3B%0A%20%20%20%20%20%20%20%20cc.localPlaneNormal.x%20%3D%20manifold.m_localPlaneNormal.x%3B%0A%20%20%20%20%20%20%20%20cc.localPlaneNormal.y%20%3D%20manifold.m_localPlaneNormal.y%3B%0A%20%20%20%20%20%20%20%20cc.localPoint.x%20%3D%20manifold.m_localPoint.x%3B%0A%20%20%20%20%20%20%20%20cc.localPoint.y%20%3D%20manifold.m_localPoint.y%3B%0A%20%20%20%20%20%20%20%20cc.radius%20%3D%20radiusA%20%2B%20radiusB%3B%0A%20%20%20%20%20%20%20%20cc.type%20%3D%20manifold.m_type%3B%0A%20%20%20%20%20%20%20%20for%20(var%20k%20%3D%200%3B%20k%20%3C%20cc.pointCount%3B%20%2B%2Bk)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20cp%20%3D%20manifold.m_points%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20ccp%20%3D%20cc.points%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20%3D%20cp.m_normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20%3D%20cp.m_tangentImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.localPoint.SetV(cp.m_localPoint)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rAX%20%3D%20(ccp.rA.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.x%20-%20bodyA.m_sweep.c.x)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rAY%20%3D%20(ccp.rA.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.y%20-%20bodyA.m_sweep.c.y)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rBX%20%3D%20(ccp.rB.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.x%20-%20bodyB.m_sweep.c.x)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rBY%20%3D%20(ccp.rB.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20b2ContactSolver.s_worldManifold.m_points%5Bk%5D.y%20-%20bodyB.m_sweep.c.y)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rnA%20%3D%20rAX%20*%20normalY%20-%20rAY%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rnB%20%3D%20rBX%20*%20normalY%20-%20rBY%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20rnA%20*%3D%20rnA%3B%0A%20%20%20%20%20%20%20%20%20%20rnB%20*%3D%20rnB%3B%0A%20%20%20%20%20%20%20%20%20%20var%20kNormal%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invMass%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invMass%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invI%20*%20rnA%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invI%20*%20rnB%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.normalMass%20%3D%201.0%20%2F%20kNormal%3B%0A%20%20%20%20%20%20%20%20%20%20var%20kEqualized%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_mass%20*%20bodyA.m_invMass%20%2B%20bodyB.m_mass%20*%20bodyB.m_invMass%3B%0A%20%20%20%20%20%20%20%20%20%20kEqualized%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_mass%20*%20bodyA.m_invI%20*%20rnA%20%2B%20bodyB.m_mass%20*%20bodyB.m_invI%20*%20rnB%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.equalizedMass%20%3D%201.0%20%2F%20kEqualized%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tangentX%20%3D%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tangentY%20%3D%20-normalX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rtA%20%3D%20rAX%20*%20tangentY%20-%20rAY%20*%20tangentX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rtB%20%3D%20rBX%20*%20tangentY%20-%20rBY%20*%20tangentX%3B%0A%20%20%20%20%20%20%20%20%20%20rtA%20*%3D%20rtA%3B%0A%20%20%20%20%20%20%20%20%20%20rtB%20*%3D%20rtB%3B%0A%20%20%20%20%20%20%20%20%20%20var%20kTangent%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invMass%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invMass%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_invI%20*%20rtA%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_invI%20*%20rtB%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.tangentMass%20%3D%201.0%20%2F%20kTangent%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.velocityBias%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tX%20%3D%20vBX%20%2B%20-wB%20*%20rBY%20-%20vAX%20-%20-wA%20*%20rAY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20tY%20%3D%20vBY%20%2B%20wB%20*%20rBX%20-%20vAY%20-%20wA%20*%20rAX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20vRel%20%3D%20cc.normal.x%20*%20tX%20%2B%20cc.normal.y%20*%20tY%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(vRel%20%3C%20-b2Settings.b2_velocityThreshold)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.velocityBias%20%2B%3D%20-cc.restitution%20*%20vRel%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(cc.pointCount%20%3D%3D%202)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20ccp1%20%3D%20cc.points%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20ccp2%20%3D%20cc.points%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_invMass%3B%0A%20%20%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_invI%3B%0A%20%20%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_invMass%3B%0A%20%20%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_invI%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rn1A%20%3D%20ccp1.rA.x%20*%20normalY%20-%20ccp1.rA.y%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rn1B%20%3D%20ccp1.rB.x%20*%20normalY%20-%20ccp1.rB.y%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rn2A%20%3D%20ccp2.rA.x%20*%20normalY%20-%20ccp2.rA.y%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rn2B%20%3D%20ccp2.rB.x%20*%20normalY%20-%20ccp2.rB.y%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k11%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20invMassA%20%2B%20invMassB%20%2B%20invIA%20*%20rn1A%20*%20rn1A%20%2B%20invIB%20*%20rn1B%20*%20rn1B%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k22%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20invMassA%20%2B%20invMassB%20%2B%20invIA%20*%20rn2A%20*%20rn2A%20%2B%20invIB%20*%20rn2B%20*%20rn2B%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k12%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20invMassA%20%2B%20invMassB%20%2B%20invIA%20*%20rn1A%20*%20rn2A%20%2B%20invIB%20*%20rn1B%20*%20rn2B%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k_maxConditionNumber%20%3D%20100.0%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(k11%20*%20k11%20%3C%20k_maxConditionNumber%20*%20(k11%20*%20k22%20-%20k12%20*%20k12))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.K.col1.Set(k11%2C%20k12)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.K.col2.Set(k12%2C%20k22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.K.GetInverse(cc.normalMass)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cc.pointCount%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactSolver.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20tVec2%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20c.bodyA%3B%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20c.bodyB%3B%0A%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20normalX%20%3D%20c.normal.x%3B%0A%20%20%20%20%20%20%20%20var%20normalY%20%3D%20c.normal.y%3B%0A%20%20%20%20%20%20%20%20var%20tangentX%20%3D%20normalY%3B%0A%20%20%20%20%20%20%20%20var%20tangentY%20%3D%20-normalX%3B%0A%20%20%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20%20%20var%20j%20%3D%200%3B%0A%20%20%20%20%20%20%20%20var%20tCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20%20%20tCount%20%3D%20c.pointCount%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20tCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ccp%20%3D%20c.points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20PX%20%3D%20ccp.normalImpulse%20*%20normalX%20%2B%20ccp.tangentImpulse%20*%20tangentX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20PY%20%3D%20ccp.normalImpulse%20*%20normalY%20%2B%20ccp.tangentImpulse%20*%20tangentY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_angularVelocity%20-%3D%20invIA%20*%20(ccp.rA.x%20*%20PY%20-%20ccp.rA.y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_linearVelocity.x%20-%3D%20invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyA.m_linearVelocity.y%20-%3D%20invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_angularVelocity%20%2B%3D%20invIB%20*%20(ccp.rB.x%20*%20PY%20-%20ccp.rB.y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_linearVelocity.x%20%2B%3D%20invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bodyB.m_linearVelocity.y%20%2B%3D%20invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20tCount%20%3D%20c.pointCount%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20tCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ccp2%20%3D%20c.points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp2.normalImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp2.tangentImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactSolver.prototype.SolveVelocityConstraints%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20j%20%3D%200%3B%0A%20%20%20%20%20%20var%20ccp%3B%0A%20%20%20%20%20%20var%20rAX%20%3D%200%3B%0A%20%20%20%20%20%20var%20rAY%20%3D%200%3B%0A%20%20%20%20%20%20var%20rBX%20%3D%200%3B%0A%20%20%20%20%20%20var%20rBY%20%3D%200%3B%0A%20%20%20%20%20%20var%20dvX%20%3D%200%3B%0A%20%20%20%20%20%20var%20dvY%20%3D%200%3B%0A%20%20%20%20%20%20var%20vn%20%3D%200%3B%0A%20%20%20%20%20%20var%20vt%20%3D%200%3B%0A%20%20%20%20%20%20var%20lambda%20%3D%200%3B%0A%20%20%20%20%20%20var%20maxFriction%20%3D%200%3B%0A%20%20%20%20%20%20var%20newImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20PX%20%3D%200%3B%0A%20%20%20%20%20%20var%20PY%20%3D%200%3B%0A%20%20%20%20%20%20var%20dX%20%3D%200%3B%0A%20%20%20%20%20%20var%20dY%20%3D%200%3B%0A%20%20%20%20%20%20var%20P1X%20%3D%200%3B%0A%20%20%20%20%20%20var%20P1Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20P2X%20%3D%200%3B%0A%20%20%20%20%20%20var%20P2Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20c.bodyA%3B%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20c.bodyB%3B%0A%20%20%20%20%20%20%20%20var%20wA%20%3D%20bodyA.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20var%20wB%20%3D%20bodyB.m_angularVelocity%3B%0A%20%20%20%20%20%20%20%20var%20vA%20%3D%20bodyA.m_linearVelocity%3B%0A%20%20%20%20%20%20%20%20var%20vB%20%3D%20bodyB.m_linearVelocity%3B%0A%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20normalX%20%3D%20c.normal.x%3B%0A%20%20%20%20%20%20%20%20var%20normalY%20%3D%20c.normal.y%3B%0A%20%20%20%20%20%20%20%20var%20tangentX%20%3D%20normalY%3B%0A%20%20%20%20%20%20%20%20var%20tangentY%20%3D%20-normalX%3B%0A%20%20%20%20%20%20%20%20var%20friction%20%3D%20c.friction%3B%0A%20%20%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for%20(j%20%3D%200%3B%20j%20%3C%20c.pointCount%3B%20j%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20ccp%20%3D%20c.points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20dvX%20%3D%20vB.x%20-%20wB%20*%20ccp.rB.y%20-%20vA.x%20%2B%20wA%20*%20ccp.rA.y%3B%0A%20%20%20%20%20%20%20%20%20%20dvY%20%3D%20vB.y%20%2B%20wB%20*%20ccp.rB.x%20-%20vA.y%20-%20wA%20*%20ccp.rA.x%3B%0A%20%20%20%20%20%20%20%20%20%20vt%20%3D%20dvX%20*%20tangentX%20%2B%20dvY%20*%20tangentY%3B%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20ccp.tangentMass%20*%20-vt%3B%0A%20%20%20%20%20%20%20%20%20%20maxFriction%20%3D%20friction%20*%20ccp.normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20%2B%20lambda%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-maxFriction%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20maxFriction%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20newImpulse%20-%20ccp.tangentImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20PX%20%3D%20lambda%20*%20tangentX%3B%0A%20%20%20%20%20%20%20%20%20%20PY%20%3D%20lambda%20*%20tangentY%3B%0A%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20wA%20-%3D%20invIA%20*%20(ccp.rA.x%20*%20PY%20-%20ccp.rA.y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%20invIB%20*%20(ccp.rB.x%20*%20PY%20-%20ccp.rB.y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.tangentImpulse%20%3D%20newImpulse%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20tCount%20%3D%20parseInt(c.pointCount)%3B%0A%20%20%20%20%20%20%20%20if%20(c.pointCount%20%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20ccp%20%3D%20c.points%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20dvX%20%3D%20vB.x%20%2B%20-wB%20*%20ccp.rB.y%20-%20vA.x%20-%20-wA%20*%20ccp.rA.y%3B%0A%20%20%20%20%20%20%20%20%20%20dvY%20%3D%20vB.y%20%2B%20wB%20*%20ccp.rB.x%20-%20vA.y%20-%20wA%20*%20ccp.rA.x%3B%0A%20%20%20%20%20%20%20%20%20%20vn%20%3D%20dvX%20*%20normalX%20%2B%20dvY%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20-ccp.normalMass%20*%20(vn%20-%20ccp.velocityBias)%3B%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20ccp.normalImpulse%20%2B%20lambda%3B%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20newImpulse%20%3E%200%20%3F%20newImpulse%20%3A%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20lambda%20%3D%20newImpulse%20-%20ccp.normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20PX%20%3D%20lambda%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20PY%20%3D%20lambda%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20wA%20-%3D%20invIA%20*%20(ccp.rA.x%20*%20PY%20-%20ccp.rA.y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%20invIB%20*%20(ccp.rB.x%20*%20PY%20-%20ccp.rB.y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20ccp.normalImpulse%20%3D%20newImpulse%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20cp1%20%3D%20c.points%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cp2%20%3D%20c.points%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20aX%20%3D%20cp1.normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20var%20aY%20%3D%20cp2.normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20var%20dv1X%20%3D%20vB.x%20-%20wB%20*%20cp1.rB.y%20-%20vA.x%20%2B%20wA%20*%20cp1.rA.y%3B%0A%20%20%20%20%20%20%20%20%20%20var%20dv1Y%20%3D%20vB.y%20%2B%20wB%20*%20cp1.rB.x%20-%20vA.y%20-%20wA%20*%20cp1.rA.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20dv2X%20%3D%20vB.x%20-%20wB%20*%20cp2.rB.y%20-%20vA.x%20%2B%20wA%20*%20cp2.rA.y%3B%0A%20%20%20%20%20%20%20%20%20%20var%20dv2Y%20%3D%20vB.y%20%2B%20wB%20*%20cp2.rB.x%20-%20vA.y%20-%20wA%20*%20cp2.rA.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20vn1%20%3D%20dv1X%20*%20normalX%20%2B%20dv1Y%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20vn2%20%3D%20dv2X%20*%20normalX%20%2B%20dv2Y%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20bX%20%3D%20vn1%20-%20cp1.velocityBias%3B%0A%20%20%20%20%20%20%20%20%20%20var%20bY%20%3D%20vn2%20-%20cp2.velocityBias%3B%0A%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20c.K%3B%0A%20%20%20%20%20%20%20%20%20%20bX%20-%3D%20tMat.col1.x%20*%20aX%20%2B%20tMat.col2.x%20*%20aY%3B%0A%20%20%20%20%20%20%20%20%20%20bY%20-%3D%20tMat.col1.y%20*%20aX%20%2B%20tMat.col2.y%20*%20aY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k_errorTol%20%3D%200.001%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(%3B%3B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20c.normalMass%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20xX%20%3D%20-(tMat.col1.x%20*%20bX%20%2B%20tMat.col2.x%20*%20bY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20xY%20%3D%20-(tMat.col1.y%20*%20bX%20%2B%20tMat.col2.y%20*%20bY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(xX%20%3E%3D%200.0%20%26%26%20xY%20%3E%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20xX%20%3D%20-cp1.normalMass%20*%20bX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20xY%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vn1%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vn2%20%3D%20c.K.col1.y%20*%20xX%20%2B%20bY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(xX%20%3E%3D%200.0%20%26%26%20vn2%20%3E%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20xX%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20xY%20%3D%20-cp2.normalMass%20*%20bY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vn1%20%3D%20c.K.col2.x%20*%20xY%20%2B%20bX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vn2%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(xY%20%3E%3D%200.0%20%26%26%20vn1%20%3E%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20xX%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20xY%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vn1%20%3D%20bX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20vn2%20%3D%20bY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(vn1%20%3E%3D%200.0%20%26%26%20vn2%20%3E%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20%3D%20xX%20-%20aX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dY%20%3D%20xY%20-%20aY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1X%20%3D%20dX%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P1Y%20%3D%20dX%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2X%20%3D%20dY%20*%20normalX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20P2Y%20%3D%20dY%20*%20normalY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.x%20-%3D%20invMassA%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vA.y%20-%3D%20invMassA%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wA%20-%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIA%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rA.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rA.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rA.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20invMassB%20*%20(P1X%20%2B%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20invMassB%20*%20(P1Y%20%2B%20P2Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20wB%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20invIB%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(cp1.rB.x%20*%20P1Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.rB.y%20*%20P1X%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.x%20*%20P2Y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.rB.y%20*%20P2X)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp1.normalImpulse%20%3D%20xX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cp2.normalImpulse%20%3D%20xY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20bodyA.m_angularVelocity%20%3D%20wA%3B%0A%20%20%20%20%20%20%20%20bodyB.m_angularVelocity%20%3D%20wB%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactSolver.prototype.FinalizeVelocityConstraints%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20m%20%3D%20c.manifold%3B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20c.pointCount%3B%20%2B%2Bj)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20point1%20%3D%20m.m_points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20point2%20%3D%20c.points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20point1.m_normalImpulse%20%3D%20point2.normalImpulse%3B%0A%20%20%20%20%20%20%20%20%20%20point1.m_tangentImpulse%20%3D%20point2.tangentImpulse%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ContactSolver.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20minSeparation%20%3D%200.0%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.m_constraintCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20var%20c%20%3D%20this.m_constraints%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20bodyA%20%3D%20c.bodyA%3B%0A%20%20%20%20%20%20%20%20var%20bodyB%20%3D%20c.bodyB%3B%0A%20%20%20%20%20%20%20%20var%20invMassA%20%3D%20bodyA.m_mass%20*%20bodyA.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invIA%20%3D%20bodyA.m_mass%20*%20bodyA.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20invMassB%20%3D%20bodyB.m_mass%20*%20bodyB.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invIB%20%3D%20bodyB.m_mass%20*%20bodyB.m_invI%3B%0A%20%20%20%20%20%20%20%20b2ContactSolver.s_psm.Initialize(c)%3B%0A%20%20%20%20%20%20%20%20var%20normal%20%3D%20b2ContactSolver.s_psm.m_normal%3B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20c.pointCount%3B%20j%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20ccp%20%3D%20c.points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20point%20%3D%20b2ContactSolver.s_psm.m_points%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20separation%20%3D%20b2ContactSolver.s_psm.m_separations%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rAX%20%3D%20point.x%20-%20bodyA.m_sweep.c.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rAY%20%3D%20point.y%20-%20bodyA.m_sweep.c.y%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rBX%20%3D%20point.x%20-%20bodyB.m_sweep.c.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20rBY%20%3D%20point.y%20-%20bodyB.m_sweep.c.y%3B%0A%20%20%20%20%20%20%20%20%20%20minSeparation%20%3D%20minSeparation%20%3C%20separation%20%3F%20minSeparation%20%3A%20separation%3B%0A%20%20%20%20%20%20%20%20%20%20var%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20baumgarte%20*%20(separation%20%2B%20b2Settings.b2_linearSlop)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20impulse%20%3D%20-ccp.equalizedMass%20*%20C%3B%0A%20%20%20%20%20%20%20%20%20%20var%20PX%20%3D%20impulse%20*%20normal.x%3B%0A%20%20%20%20%20%20%20%20%20%20var%20PY%20%3D%20impulse%20*%20normal.y%3B%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_sweep.c.x%20-%3D%20invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_sweep.c.y%20-%3D%20invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20bodyA.m_sweep.a%20-%3D%20invIA%20*%20(rAX%20*%20PY%20-%20rAY%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20bodyA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_sweep.c.x%20%2B%3D%20invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_sweep.c.y%20%2B%3D%20invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20%20%20bodyB.m_sweep.a%20%2B%3D%20invIB%20*%20(rBX%20*%20PY%20-%20rBY%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20%20%20bodyB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20minSeparation%20%3E%20-1.5%20*%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2ContactSolver.s_worldManifold%20%3D%0A%20%20%20%20%20%20%20%20new%20b2WorldManifold()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2ContactSolver.s_psm%20%3D%0A%20%20%20%20%20%20%20%20new%20b2PositionSolverManifold()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Box2D.inherit(b2EdgeAndCircleContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0A%20%20%20%20b2EdgeAndCircleContact.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0A%20%20%20%20b2EdgeAndCircleContact.b2EdgeAndCircleContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeAndCircleContact.Create%20%3D%20function%20(allocator)%20%7B%0A%20%20%20%20%20%20return%20new%20b2EdgeAndCircleContact()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeAndCircleContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0A%20%20%20%20b2EdgeAndCircleContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeAndCircleContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0A%20%20%20%20%20%20this.b2CollideEdgeAndCircle(%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2EdgeShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2CircleShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bB.m_xf%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2EdgeAndCircleContact.prototype.b2CollideEdgeAndCircle%20%3D%20function%20(%0A%20%20%20%20%20%20manifold%2C%0A%20%20%20%20%20%20edge%2C%0A%20%20%20%20%20%20xf1%2C%0A%20%20%20%20%20%20circle%2C%0A%20%20%20%20%20%20xf2%0A%20%20%20%20)%20%7B%7D%3B%0A%20%20%20%20Box2D.inherit(b2NullContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0A%20%20%20%20b2NullContact.prototype.__super%20%3D%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0A%20%20%20%20b2NullContact.b2NullContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2NullContact.prototype.b2NullContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2Contact.call(this)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2NullContact.prototype.Evaluate%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20Box2D.inherit(b2PolyAndCircleContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0A%20%20%20%20b2PolyAndCircleContact.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0A%20%20%20%20b2PolyAndCircleContact.b2PolyAndCircleContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndCircleContact.Create%20%3D%20function%20(allocator)%20%7B%0A%20%20%20%20%20%20return%20new%20b2PolyAndCircleContact()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndCircleContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0A%20%20%20%20b2PolyAndCircleContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureA.GetType()%20%3D%3D%20b2Shape.e_polygonShape)%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureB.GetType()%20%3D%3D%20b2Shape.e_circleShape)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndCircleContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.m_body%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.m_body%3B%0A%20%20%20%20%20%20b2Collision.CollidePolygonAndCircle(%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2PolygonShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2CircleShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bB.m_xf%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2PolyAndEdgeContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0A%20%20%20%20b2PolyAndEdgeContact.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0A%20%20%20%20b2PolyAndEdgeContact.b2PolyAndEdgeContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndEdgeContact.Create%20%3D%20function%20(allocator)%20%7B%0A%20%20%20%20%20%20return%20new%20b2PolyAndEdgeContact()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndEdgeContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0A%20%20%20%20b2PolyAndEdgeContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureA.GetType()%20%3D%3D%20b2Shape.e_polygonShape)%3B%0A%20%20%20%20%20%20b2Settings.b2Assert(fixtureB.GetType()%20%3D%3D%20b2Shape.e_edgeShape)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndEdgeContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0A%20%20%20%20%20%20this.b2CollidePolyAndEdge(%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2PolygonShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2EdgeShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bB.m_xf%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolyAndEdgeContact.prototype.b2CollidePolyAndEdge%20%3D%20function%20(%0A%20%20%20%20%20%20manifold%2C%0A%20%20%20%20%20%20polygon%2C%0A%20%20%20%20%20%20xf1%2C%0A%20%20%20%20%20%20edge%2C%0A%20%20%20%20%20%20xf2%0A%20%20%20%20)%20%7B%7D%3B%0A%20%20%20%20Box2D.inherit(b2PolygonContact%2C%20Box2D.Dynamics.Contacts.b2Contact)%3B%0A%20%20%20%20b2PolygonContact.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.prototype%3B%0A%20%20%20%20b2PolygonContact.b2PolygonContact%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonContact.Create%20%3D%20function%20(allocator)%20%7B%0A%20%20%20%20%20%20return%20new%20b2PolygonContact()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonContact.Destroy%20%3D%20function%20(contact%2C%20allocator)%20%7B%7D%3B%0A%20%20%20%20b2PolygonContact.prototype.Reset%20%3D%20function%20(fixtureA%2C%20fixtureB)%20%7B%0A%20%20%20%20%20%20this.__super.Reset.call(this%2C%20fixtureA%2C%20fixtureB)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PolygonContact.prototype.Evaluate%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_fixtureA.GetBody()%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_fixtureB.GetBody()%3B%0A%20%20%20%20%20%20b2Collision.CollidePolygons(%0A%20%20%20%20%20%20%20%20this.m_manifold%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureA.GetShape()%20instanceof%20b2PolygonShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureA.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bA.m_xf%2C%0A%20%20%20%20%20%20%20%20this.m_fixtureB.GetShape()%20instanceof%20b2PolygonShape%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.m_fixtureB.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20bB.m_xf%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PositionSolverManifold.b2PositionSolverManifold%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2PositionSolverManifold.prototype.b2PositionSolverManifold%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_normal%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_separations%20%3D%20new%20Vector_a2j_Number(b2Settings.b2_maxManifoldPoints)%3B%0A%20%20%20%20%20%20this.m_points%20%3D%20new%20Vector(b2Settings.b2_maxManifoldPoints)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20b2Settings.b2_maxManifoldPoints%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20this.m_points%5Bi%5D%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PositionSolverManifold.prototype.Initialize%20%3D%20function%20(cc)%20%7B%0A%20%20%20%20%20%20b2Settings.b2Assert(cc.pointCount%20%3E%200)%3B%0A%20%20%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20%20%20var%20clipPointX%20%3D%200%3B%0A%20%20%20%20%20%20var%20clipPointY%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20planePointX%20%3D%200%3B%0A%20%20%20%20%20%20var%20planePointY%20%3D%200%3B%0A%20%20%20%20%20%20switch%20(cc.type)%20%7B%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_circles%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointAY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.points%5B0%5D.localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20pointBY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dX%20%3D%20pointBX%20-%20pointAX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dY%20%3D%20pointBY%20-%20pointAY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20d2%20%3D%20dX%20*%20dX%20%2B%20dY%20*%20dY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(d2%20%3E%20Number.MIN_VALUE%20*%20Number.MIN_VALUE)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20d%20%3D%20Math.sqrt(d2)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20dX%20%2F%20d%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20dY%20%2F%20d%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.x%20%3D%200.5%20*%20(pointAX%20%2B%20pointBX)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5B0%5D.y%20%3D%200.5%20*%20(pointAY%20%2B%20pointBY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_separations%5B0%5D%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dX%20*%20this.m_normal.x%20%2B%20dY%20*%20this.m_normal.y%20-%20cc.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceA%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPlaneNormal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20cc.pointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.points%5Bi%5D.localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_separations%5Bi%5D%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20this.m_normal.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20this.m_normal.y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.x%20%3D%20clipPointX%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.y%20%3D%20clipPointY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Manifold.e_faceB%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPlaneNormal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20planePointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyB.m_xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tMat%20%3D%20cc.bodyA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%20cc.pointCount%3B%20%2B%2Bi)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tVec%20%3D%20cc.points%5Bi%5D.localPoint%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointX%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clipPointY%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.bodyA.m_xf.position.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_separations%5Bi%5D%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointX%20-%20planePointX)%20*%20this.m_normal.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(clipPointY%20-%20planePointY)%20*%20this.m_normal.y%20-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.m_points%5Bi%5D.Set(clipPointX%2C%20clipPointY)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.x%20*%3D%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_normal.y%20*%3D%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointA%20%3D%0A%20%20%20%20%20%20%20%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointB%20%3D%0A%20%20%20%20%20%20%20%20new%20b2Vec2()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0A%20%20%20%20%20%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%2C%0A%20%20%20%20%20%20b2EdgeChainDef%20%3D%20Box2D.Collision.Shapes.b2EdgeChainDef%2C%0A%20%20%20%20%20%20b2EdgeShape%20%3D%20Box2D.Collision.Shapes.b2EdgeShape%2C%0A%20%20%20%20%20%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%2C%0A%20%20%20%20%20%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%2C%0A%20%20%20%20%20%20b2Shape%20%3D%20Box2D.Collision.Shapes.b2Shape%2C%0A%20%20%20%20%20%20b2BuoyancyController%20%3D%20Box2D.Dynamics.Controllers.b2BuoyancyController%2C%0A%20%20%20%20%20%20b2ConstantAccelController%20%3D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantAccelController%2C%0A%20%20%20%20%20%20b2ConstantForceController%20%3D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2ConstantForceController%2C%0A%20%20%20%20%20%20b2Controller%20%3D%20Box2D.Dynamics.Controllers.b2Controller%2C%0A%20%20%20%20%20%20b2ControllerEdge%20%3D%20Box2D.Dynamics.Controllers.b2ControllerEdge%2C%0A%20%20%20%20%20%20b2GravityController%20%3D%20Box2D.Dynamics.Controllers.b2GravityController%2C%0A%20%20%20%20%20%20b2TensorDampingController%20%3D%0A%20%20%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2TensorDampingController%3B%0A%0A%20%20%20%20Box2D.inherit(b2BuoyancyController%2C%20Box2D.Dynamics.Controllers.b2Controller)%3B%0A%20%20%20%20b2BuoyancyController.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0A%20%20%20%20b2BuoyancyController.b2BuoyancyController%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.normal%20%3D%20new%20b2Vec2(0%2C%20-1)%3B%0A%20%20%20%20%20%20this.offset%20%3D%200%3B%0A%20%20%20%20%20%20this.density%20%3D%200%3B%0A%20%20%20%20%20%20this.velocity%20%3D%20new%20b2Vec2(0%2C%200)%3B%0A%20%20%20%20%20%20this.linearDrag%20%3D%202%3B%0A%20%20%20%20%20%20this.angularDrag%20%3D%201%3B%0A%20%20%20%20%20%20this.useDensity%20%3D%20false%3B%0A%20%20%20%20%20%20this.useWorldGravity%20%3D%20true%3B%0A%20%20%20%20%20%20this.gravity%20%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2BuoyancyController.prototype.Step%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20if%20(!this.m_bodyList)%20return%3B%0A%20%20%20%20%20%20if%20(this.useWorldGravity)%20%7B%0A%20%20%20%20%20%20%20%20this.gravity%20%3D%20this.GetWorld().GetGravity().Copy()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0A%20%20%20%20%20%20%20%20if%20(body.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20areac%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20var%20massc%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20var%20area%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20var%20mass%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20for%20(%0A%20%20%20%20%20%20%20%20%20%20var%20fixture%20%3D%20body.GetFixtureList()%3B%0A%20%20%20%20%20%20%20%20%20%20fixture%3B%0A%20%20%20%20%20%20%20%20%20%20fixture%20%3D%20fixture.GetNext()%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20sc%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20%20%20%20%20var%20sarea%20%3D%20fixture%0A%20%20%20%20%20%20%20%20%20%20%20%20.GetShape()%0A%20%20%20%20%20%20%20%20%20%20%20%20.ComputeSubmergedArea(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.normal%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.offset%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20body.GetTransform()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sc%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20area%20%2B%3D%20sarea%3B%0A%20%20%20%20%20%20%20%20%20%20areac.x%20%2B%3D%20sarea%20*%20sc.x%3B%0A%20%20%20%20%20%20%20%20%20%20areac.y%20%2B%3D%20sarea%20*%20sc.y%3B%0A%20%20%20%20%20%20%20%20%20%20var%20shapeDensity%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.useDensity)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20shapeDensity%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20shapeDensity%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20mass%20%2B%3D%20sarea%20*%20shapeDensity%3B%0A%20%20%20%20%20%20%20%20%20%20massc.x%20%2B%3D%20sarea%20*%20sc.x%20*%20shapeDensity%3B%0A%20%20%20%20%20%20%20%20%20%20massc.y%20%2B%3D%20sarea%20*%20sc.y%20*%20shapeDensity%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20areac.x%20%2F%3D%20area%3B%0A%20%20%20%20%20%20%20%20areac.y%20%2F%3D%20area%3B%0A%20%20%20%20%20%20%20%20massc.x%20%2F%3D%20mass%3B%0A%20%20%20%20%20%20%20%20massc.y%20%2F%3D%20mass%3B%0A%20%20%20%20%20%20%20%20if%20(area%20%3C%20Number.MIN_VALUE)%20continue%3B%0A%20%20%20%20%20%20%20%20var%20buoyancyForce%20%3D%20this.gravity.GetNegative()%3B%0A%20%20%20%20%20%20%20%20buoyancyForce.Multiply(this.density%20*%20area)%3B%0A%20%20%20%20%20%20%20%20body.ApplyForce(buoyancyForce%2C%20massc)%3B%0A%20%20%20%20%20%20%20%20var%20dragForce%20%3D%20body.GetLinearVelocityFromWorldPoint(areac)%3B%0A%20%20%20%20%20%20%20%20dragForce.Subtract(this.velocity)%3B%0A%20%20%20%20%20%20%20%20dragForce.Multiply(-this.linearDrag%20*%20area)%3B%0A%20%20%20%20%20%20%20%20body.ApplyForce(dragForce%2C%20areac)%3B%0A%20%20%20%20%20%20%20%20body.ApplyTorque(%0A%20%20%20%20%20%20%20%20%20%20(-body.GetInertia()%20%2F%20body.GetMass())%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20area%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetAngularVelocity()%20*%0A%20%20%20%20%20%20%20%20%20%20%20%20this.angularDrag%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2BuoyancyController.prototype.Draw%20%3D%20function%20(debugDraw)%20%7B%0A%20%20%20%20%20%20var%20r%20%3D%201000%3B%0A%20%20%20%20%20%20var%20p1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20p1.x%20%3D%20this.normal.x%20*%20this.offset%20%2B%20this.normal.y%20*%20r%3B%0A%20%20%20%20%20%20p1.y%20%3D%20this.normal.y%20*%20this.offset%20-%20this.normal.x%20*%20r%3B%0A%20%20%20%20%20%20p2.x%20%3D%20this.normal.x%20*%20this.offset%20-%20this.normal.y%20*%20r%3B%0A%20%20%20%20%20%20p2.y%20%3D%20this.normal.y%20*%20this.offset%20%2B%20this.normal.x%20*%20r%3B%0A%20%20%20%20%20%20var%20color%20%3D%20new%20b2Color(0%2C%200%2C%201)%3B%0A%20%20%20%20%20%20debugDraw.DrawSegment(p1%2C%20p2%2C%20color)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(%0A%20%20%20%20%20%20b2ConstantAccelController%2C%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0A%20%20%20%20)%3B%0A%20%20%20%20b2ConstantAccelController.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0A%20%20%20%20b2ConstantAccelController.b2ConstantAccelController%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.A%20%3D%20new%20b2Vec2(0%2C%200)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ConstantAccelController.prototype.Step%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20smallA%20%3D%20new%20b2Vec2(this.A.x%20*%20step.dt%2C%20this.A.y%20*%20step.dt)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0A%20%20%20%20%20%20%20%20if%20(!body.IsAwake())%20continue%3B%0A%20%20%20%20%20%20%20%20body.SetLinearVelocity(%0A%20%20%20%20%20%20%20%20%20%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().x%20%2B%20smallA.x%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().y%20%2B%20smallA.y%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(%0A%20%20%20%20%20%20b2ConstantForceController%2C%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0A%20%20%20%20)%3B%0A%20%20%20%20b2ConstantForceController.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0A%20%20%20%20b2ConstantForceController.b2ConstantForceController%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.F%20%3D%20new%20b2Vec2(0%2C%200)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ConstantForceController.prototype.Step%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0A%20%20%20%20%20%20%20%20if%20(!body.IsAwake())%20continue%3B%0A%20%20%20%20%20%20%20%20body.ApplyForce(this.F%2C%20body.GetWorldCenter())%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Controller.b2Controller%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Controller.prototype.Step%20%3D%20function%20(step)%20%7B%7D%3B%0A%20%20%20%20b2Controller.prototype.Draw%20%3D%20function%20(debugDraw)%20%7B%7D%3B%0A%20%20%20%20b2Controller.prototype.AddBody%20%3D%20function%20(body)%20%7B%0A%20%20%20%20%20%20var%20edge%20%3D%20new%20b2ControllerEdge()%3B%0A%20%20%20%20%20%20edge.controller%20%3D%20this%3B%0A%20%20%20%20%20%20edge.body%20%3D%20body%3B%0A%20%20%20%20%20%20edge.nextBody%20%3D%20this.m_bodyList%3B%0A%20%20%20%20%20%20edge.prevBody%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_bodyList%20%3D%20edge%3B%0A%20%20%20%20%20%20if%20(edge.nextBody)%20edge.nextBody.prevBody%20%3D%20edge%3B%0A%20%20%20%20%20%20this.m_bodyCount%2B%2B%3B%0A%20%20%20%20%20%20edge.nextController%20%3D%20body.m_controllerList%3B%0A%20%20%20%20%20%20edge.prevController%20%3D%20null%3B%0A%20%20%20%20%20%20body.m_controllerList%20%3D%20edge%3B%0A%20%20%20%20%20%20if%20(edge.nextController)%20edge.nextController.prevController%20%3D%20edge%3B%0A%20%20%20%20%20%20body.m_controllerCount%2B%2B%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Controller.prototype.RemoveBody%20%3D%20function%20(body)%20%7B%0A%20%20%20%20%20%20var%20edge%20%3D%20body.m_controllerList%3B%0A%20%20%20%20%20%20while%20(edge%20%26%26%20edge.controller%20!%3D%20this)%20edge%20%3D%20edge.nextController%3B%0A%20%20%20%20%20%20if%20(edge.prevBody)%20edge.prevBody.nextBody%20%3D%20edge.nextBody%3B%0A%20%20%20%20%20%20if%20(edge.nextBody)%20edge.nextBody.prevBody%20%3D%20edge.prevBody%3B%0A%20%20%20%20%20%20if%20(edge.nextController)%0A%20%20%20%20%20%20%20%20edge.nextController.prevController%20%3D%20edge.prevController%3B%0A%20%20%20%20%20%20if%20(edge.prevController)%0A%20%20%20%20%20%20%20%20edge.prevController.nextController%20%3D%20edge.nextController%3B%0A%20%20%20%20%20%20if%20(this.m_bodyList%20%3D%3D%20edge)%20this.m_bodyList%20%3D%20edge.nextBody%3B%0A%20%20%20%20%20%20if%20(body.m_controllerList%20%3D%3D%20edge)%0A%20%20%20%20%20%20%20%20body.m_controllerList%20%3D%20edge.nextController%3B%0A%20%20%20%20%20%20body.m_controllerCount--%3B%0A%20%20%20%20%20%20this.m_bodyCount--%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Controller.prototype.Clear%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20while%20(this.m_bodyList)%20this.RemoveBody(this.m_bodyList.body)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Controller.prototype.GetNext%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_next%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Controller.prototype.GetWorld%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_world%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Controller.prototype.GetBodyList%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyList%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2ControllerEdge.b2ControllerEdge%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20Box2D.inherit(b2GravityController%2C%20Box2D.Dynamics.Controllers.b2Controller)%3B%0A%20%20%20%20b2GravityController.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0A%20%20%20%20b2GravityController.b2GravityController%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.G%20%3D%201%3B%0A%20%20%20%20%20%20this.invSqr%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GravityController.prototype.Step%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20i%20%3D%20null%3B%0A%20%20%20%20%20%20var%20body1%20%3D%20null%3B%0A%20%20%20%20%20%20var%20p1%20%3D%20null%3B%0A%20%20%20%20%20%20var%20mass1%20%3D%200%3B%0A%20%20%20%20%20%20var%20j%20%3D%20null%3B%0A%20%20%20%20%20%20var%20body2%20%3D%20null%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20null%3B%0A%20%20%20%20%20%20var%20dx%20%3D%200%3B%0A%20%20%20%20%20%20var%20dy%20%3D%200%3B%0A%20%20%20%20%20%20var%20r2%20%3D%200%3B%0A%20%20%20%20%20%20var%20f%20%3D%20null%3B%0A%20%20%20%20%20%20if%20(this.invSqr)%20%7B%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20body1%20%3D%20i.body%3B%0A%20%20%20%20%20%20%20%20%20%20p1%20%3D%20body1.GetWorldCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20mass1%20%3D%20body1.GetMass()%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%20this.m_bodyList%3B%20j%20!%3D%20i%3B%20j%20%3D%20j.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20body2%20%3D%20j.body%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20p2%20%3D%20body2.GetWorldCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dx%20%3D%20p2.x%20-%20p1.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dy%20%3D%20p2.y%20-%20p1.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20r2%20%3D%20dx%20*%20dx%20%2B%20dy%20*%20dy%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(r2%20%3C%20Number.MIN_VALUE)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f%20%3D%20new%20b2Vec2(dx%2C%20dy)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply((this.G%20%2F%20r2%20%2F%20Math.sqrt(r2))%20*%20mass1%20*%20body2.GetMass())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body1.IsAwake())%20body1.ApplyForce(f%2C%20p1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply(-1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body2.IsAwake())%20body2.ApplyForce(f%2C%20p2)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20for%20(i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20body1%20%3D%20i.body%3B%0A%20%20%20%20%20%20%20%20%20%20p1%20%3D%20body1.GetWorldCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20mass1%20%3D%20body1.GetMass()%3B%0A%20%20%20%20%20%20%20%20%20%20for%20(j%20%3D%20this.m_bodyList%3B%20j%20!%3D%20i%3B%20j%20%3D%20j.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20body2%20%3D%20j.body%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20p2%20%3D%20body2.GetWorldCenter()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dx%20%3D%20p2.x%20-%20p1.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dy%20%3D%20p2.y%20-%20p1.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20r2%20%3D%20dx%20*%20dx%20%2B%20dy%20*%20dy%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(r2%20%3C%20Number.MIN_VALUE)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f%20%3D%20new%20b2Vec2(dx%2C%20dy)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply((this.G%20%2F%20r2)%20*%20mass1%20*%20body2.GetMass())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body1.IsAwake())%20body1.ApplyForce(f%2C%20p1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.Multiply(-1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(body2.IsAwake())%20body2.ApplyForce(f%2C%20p2)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(%0A%20%20%20%20%20%20b2TensorDampingController%2C%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller%0A%20%20%20%20)%3B%0A%20%20%20%20b2TensorDampingController.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.prototype%3B%0A%20%20%20%20b2TensorDampingController.b2TensorDampingController%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.T%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.maxTimestep%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2TensorDampingController.prototype.SetAxisAligned%20%3D%20function%20(%0A%20%20%20%20%20%20xDamping%2C%0A%20%20%20%20%20%20yDamping%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(xDamping%20%3D%3D%3D%20undefined)%20xDamping%20%3D%200%3B%0A%20%20%20%20%20%20if%20(yDamping%20%3D%3D%3D%20undefined)%20yDamping%20%3D%200%3B%0A%20%20%20%20%20%20this.T.col1.x%20%3D%20-xDamping%3B%0A%20%20%20%20%20%20this.T.col1.y%20%3D%200%3B%0A%20%20%20%20%20%20this.T.col2.x%20%3D%200%3B%0A%20%20%20%20%20%20this.T.col2.y%20%3D%20-yDamping%3B%0A%20%20%20%20%20%20if%20(xDamping%20%3E%200%20%7C%7C%20yDamping%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20this.maxTimestep%20%3D%201%20%2F%20Math.max(xDamping%2C%20yDamping)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.maxTimestep%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2TensorDampingController.prototype.Step%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20timestep%20%3D%20step.dt%3B%0A%20%20%20%20%20%20if%20(timestep%20%3C%3D%20Number.MIN_VALUE)%20return%3B%0A%20%20%20%20%20%20if%20(timestep%20%3E%20this.maxTimestep%20%26%26%20this.maxTimestep%20%3E%200)%0A%20%20%20%20%20%20%20%20timestep%20%3D%20this.maxTimestep%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%20this.m_bodyList%3B%20i%3B%20i%20%3D%20i.nextBody)%20%7B%0A%20%20%20%20%20%20%20%20var%20body%20%3D%20i.body%3B%0A%20%20%20%20%20%20%20%20if%20(!body.IsAwake())%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20damping%20%3D%20body.GetWorldVector(%0A%20%20%20%20%20%20%20%20%20%20b2Math.MulMV(this.T%2C%20body.GetLocalVector(body.GetLinearVelocity()))%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20body.SetLinearVelocity(%0A%20%20%20%20%20%20%20%20%20%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().x%20%2B%20damping.x%20*%20timestep%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20body.GetLinearVelocity().y%20%2B%20damping.y%20*%20timestep%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2Color%20%3D%20Box2D.Common.b2Color%2C%0A%20%20%20%20%20%20b2internal%20%3D%20Box2D.Common.b2internal%2C%0A%20%20%20%20%20%20b2Settings%20%3D%20Box2D.Common.b2Settings%2C%0A%20%20%20%20%20%20b2Mat22%20%3D%20Box2D.Common.Math.b2Mat22%2C%0A%20%20%20%20%20%20b2Mat33%20%3D%20Box2D.Common.Math.b2Mat33%2C%0A%20%20%20%20%20%20b2Math%20%3D%20Box2D.Common.Math.b2Math%2C%0A%20%20%20%20%20%20b2Sweep%20%3D%20Box2D.Common.Math.b2Sweep%2C%0A%20%20%20%20%20%20b2Transform%20%3D%20Box2D.Common.Math.b2Transform%2C%0A%20%20%20%20%20%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%2C%0A%20%20%20%20%20%20b2Vec3%20%3D%20Box2D.Common.Math.b2Vec3%2C%0A%20%20%20%20%20%20b2DistanceJoint%20%3D%20Box2D.Dynamics.Joints.b2DistanceJoint%2C%0A%20%20%20%20%20%20b2DistanceJointDef%20%3D%20Box2D.Dynamics.Joints.b2DistanceJointDef%2C%0A%20%20%20%20%20%20b2FrictionJoint%20%3D%20Box2D.Dynamics.Joints.b2FrictionJoint%2C%0A%20%20%20%20%20%20b2FrictionJointDef%20%3D%20Box2D.Dynamics.Joints.b2FrictionJointDef%2C%0A%20%20%20%20%20%20b2GearJoint%20%3D%20Box2D.Dynamics.Joints.b2GearJoint%2C%0A%20%20%20%20%20%20b2GearJointDef%20%3D%20Box2D.Dynamics.Joints.b2GearJointDef%2C%0A%20%20%20%20%20%20b2Jacobian%20%3D%20Box2D.Dynamics.Joints.b2Jacobian%2C%0A%20%20%20%20%20%20b2Joint%20%3D%20Box2D.Dynamics.Joints.b2Joint%2C%0A%20%20%20%20%20%20b2JointDef%20%3D%20Box2D.Dynamics.Joints.b2JointDef%2C%0A%20%20%20%20%20%20b2JointEdge%20%3D%20Box2D.Dynamics.Joints.b2JointEdge%2C%0A%20%20%20%20%20%20b2LineJoint%20%3D%20Box2D.Dynamics.Joints.b2LineJoint%2C%0A%20%20%20%20%20%20b2LineJointDef%20%3D%20Box2D.Dynamics.Joints.b2LineJointDef%2C%0A%20%20%20%20%20%20b2MouseJoint%20%3D%20Box2D.Dynamics.Joints.b2MouseJoint%2C%0A%20%20%20%20%20%20b2MouseJointDef%20%3D%20Box2D.Dynamics.Joints.b2MouseJointDef%2C%0A%20%20%20%20%20%20b2PrismaticJoint%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJoint%2C%0A%20%20%20%20%20%20b2PrismaticJointDef%20%3D%20Box2D.Dynamics.Joints.b2PrismaticJointDef%2C%0A%20%20%20%20%20%20b2PulleyJoint%20%3D%20Box2D.Dynamics.Joints.b2PulleyJoint%2C%0A%20%20%20%20%20%20b2PulleyJointDef%20%3D%20Box2D.Dynamics.Joints.b2PulleyJointDef%2C%0A%20%20%20%20%20%20b2RevoluteJoint%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJoint%2C%0A%20%20%20%20%20%20b2RevoluteJointDef%20%3D%20Box2D.Dynamics.Joints.b2RevoluteJointDef%2C%0A%20%20%20%20%20%20b2WeldJoint%20%3D%20Box2D.Dynamics.Joints.b2WeldJoint%2C%0A%20%20%20%20%20%20b2WeldJointDef%20%3D%20Box2D.Dynamics.Joints.b2WeldJointDef%2C%0A%20%20%20%20%20%20b2Body%20%3D%20Box2D.Dynamics.b2Body%2C%0A%20%20%20%20%20%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%2C%0A%20%20%20%20%20%20b2ContactFilter%20%3D%20Box2D.Dynamics.b2ContactFilter%2C%0A%20%20%20%20%20%20b2ContactImpulse%20%3D%20Box2D.Dynamics.b2ContactImpulse%2C%0A%20%20%20%20%20%20b2ContactListener%20%3D%20Box2D.Dynamics.b2ContactListener%2C%0A%20%20%20%20%20%20b2ContactManager%20%3D%20Box2D.Dynamics.b2ContactManager%2C%0A%20%20%20%20%20%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%2C%0A%20%20%20%20%20%20b2DestructionListener%20%3D%20Box2D.Dynamics.b2DestructionListener%2C%0A%20%20%20%20%20%20b2FilterData%20%3D%20Box2D.Dynamics.b2FilterData%2C%0A%20%20%20%20%20%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%2C%0A%20%20%20%20%20%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%2C%0A%20%20%20%20%20%20b2Island%20%3D%20Box2D.Dynamics.b2Island%2C%0A%20%20%20%20%20%20b2TimeStep%20%3D%20Box2D.Dynamics.b2TimeStep%2C%0A%20%20%20%20%20%20b2World%20%3D%20Box2D.Dynamics.b2World%3B%0A%0A%20%20%20%20Box2D.inherit(b2DistanceJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2DistanceJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2DistanceJoint.b2DistanceJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_u%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u.x%2C%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetLength%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_length%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.SetLength%20%3D%20function%20(length)%20%7B%0A%20%20%20%20%20%20if%20(length%20%3D%3D%3D%20undefined)%20length%20%3D%200%3B%0A%20%20%20%20%20%20this.m_length%20%3D%20length%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetFrequency%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_frequencyHz%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.SetFrequency%20%3D%20function%20(hz)%20%7B%0A%20%20%20%20%20%20if%20(hz%20%3D%3D%3D%20undefined)%20hz%20%3D%200%3B%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20hz%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.GetDampingRatio%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_dampingRatio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.SetDampingRatio%20%3D%20function%20(ratio)%20%7B%0A%20%20%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20ratio%20%3D%200%3B%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20ratio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.b2DistanceJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_length%20%3D%20def.length%3B%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20def.frequencyHz%3B%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20def.dampingRatio%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_gamma%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_bias%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20this.m_u.x%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0A%20%20%20%20%20%20this.m_u.y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0A%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(this.m_u.x%20*%20this.m_u.x%20%2B%20this.m_u.y%20*%20this.m_u.y)%3B%0A%20%20%20%20%20%20if%20(length%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20this.m_u.Multiply(1.0%20%2F%20length)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_u.SetZero()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20cr1u%20%3D%20r1X%20*%20this.m_u.y%20-%20r1Y%20*%20this.m_u.x%3B%0A%20%20%20%20%20%20var%20cr2u%20%3D%20r2X%20*%20this.m_u.y%20-%20r2Y%20*%20this.m_u.x%3B%0A%20%20%20%20%20%20var%20invMass%20%3D%0A%20%20%20%20%20%20%20%20bA.m_invMass%20%2B%0A%20%20%20%20%20%20%20%20bA.m_invI%20*%20cr1u%20*%20cr1u%20%2B%0A%20%20%20%20%20%20%20%20bB.m_invMass%20%2B%0A%20%20%20%20%20%20%20%20bB.m_invI%20*%20cr2u%20*%20cr2u%3B%0A%20%20%20%20%20%20this.m_mass%20%3D%20invMass%20!%3D%200.0%20%3F%201.0%20%2F%20invMass%20%3A%200.0%3B%0A%20%20%20%20%20%20if%20(this.m_frequencyHz%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20var%20C%20%3D%20length%20-%20this.m_length%3B%0A%20%20%20%20%20%20%20%20var%20omega%20%3D%202.0%20*%20Math.PI%20*%20this.m_frequencyHz%3B%0A%20%20%20%20%20%20%20%20var%20d%20%3D%202.0%20*%20this.m_mass%20*%20this.m_dampingRatio%20*%20omega%3B%0A%20%20%20%20%20%20%20%20var%20k%20%3D%20this.m_mass%20*%20omega%20*%20omega%3B%0A%20%20%20%20%20%20%20%20this.m_gamma%20%3D%20step.dt%20*%20(d%20%2B%20step.dt%20*%20k)%3B%0A%20%20%20%20%20%20%20%20this.m_gamma%20%3D%20this.m_gamma%20!%3D%200.0%20%3F%201%20%2F%20this.m_gamma%20%3A%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_bias%20%3D%20C%20*%20step.dt%20*%20k%20*%20this.m_gamma%3B%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%20invMass%20%2B%20this.m_gamma%3B%0A%20%20%20%20%20%20%20%20this.m_mass%20%3D%20this.m_mass%20!%3D%200.0%20%3F%201.0%20%2F%20this.m_mass%20%3A%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%20this.m_impulse%20*%20this.m_u.x%3B%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%20this.m_impulse%20*%20this.m_u.y%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20bA.m_invMass%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20bA.m_invMass%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20bA.m_invI%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX)%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20v1X%20%3D%20bA.m_linearVelocity.x%20%2B%20-bA.m_angularVelocity%20*%20r1Y%3B%0A%20%20%20%20%20%20var%20v1Y%20%3D%20bA.m_linearVelocity.y%20%2B%20bA.m_angularVelocity%20*%20r1X%3B%0A%20%20%20%20%20%20var%20v2X%20%3D%20bB.m_linearVelocity.x%20%2B%20-bB.m_angularVelocity%20*%20r2Y%3B%0A%20%20%20%20%20%20var%20v2Y%20%3D%20bB.m_linearVelocity.y%20%2B%20bB.m_angularVelocity%20*%20r2X%3B%0A%20%20%20%20%20%20var%20Cdot%20%3D%20this.m_u.x%20*%20(v2X%20-%20v1X)%20%2B%20this.m_u.y%20*%20(v2Y%20-%20v1Y)%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%0A%20%20%20%20%20%20%20%20-this.m_mass%20*%20(Cdot%20%2B%20this.m_bias%20%2B%20this.m_gamma%20*%20this.m_impulse)%3B%0A%20%20%20%20%20%20this.m_impulse%20%2B%3D%20impulse%3B%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse%20*%20this.m_u.x%3B%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse%20*%20this.m_u.y%3B%0A%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20bA.m_invMass%20*%20PX%3B%0A%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20bA.m_invMass%20*%20PY%3B%0A%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20bA.m_invI%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX)%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20PX%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20PY%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20if%20(this.m_frequencyHz%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0A%20%20%20%20%20%20var%20length%20%3D%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0A%20%20%20%20%20%20dX%20%2F%3D%20length%3B%0A%20%20%20%20%20%20dY%20%2F%3D%20length%3B%0A%20%20%20%20%20%20var%20C%20%3D%20length%20-%20this.m_length%3B%0A%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20C%2C%0A%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_mass%20*%20C%3B%0A%20%20%20%20%20%20this.m_u.Set(dX%2C%20dY)%3B%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse%20*%20this.m_u.x%3B%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse%20*%20this.m_u.y%3B%0A%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20bA.m_invMass%20*%20PX%3B%0A%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20bA.m_invMass%20*%20PY%3B%0A%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20bA.m_invI%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX)%3B%0A%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20PX%3B%0A%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20PY%3B%0A%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX)%3B%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20return%20b2Math.Abs(C)%20%3C%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2DistanceJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2DistanceJointDef.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2DistanceJointDef.b2DistanceJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJointDef.prototype.b2DistanceJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_distanceJoint%3B%0A%20%20%20%20%20%20this.length%20%3D%201.0%3B%0A%20%20%20%20%20%20this.frequencyHz%20%3D%200.0%3B%0A%20%20%20%20%20%20this.dampingRatio%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DistanceJointDef.prototype.Initialize%20%3D%20function%20(%0A%20%20%20%20%20%20bA%2C%0A%20%20%20%20%20%20bB%2C%0A%20%20%20%20%20%20anchorA%2C%0A%20%20%20%20%20%20anchorB%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchorA))%3B%0A%20%20%20%20%20%20this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchorB))%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20anchorB.x%20-%20anchorA.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20anchorB.y%20-%20anchorA.y%3B%0A%20%20%20%20%20%20this.length%20%3D%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0A%20%20%20%20%20%20this.frequencyHz%20%3D%200.0%3B%0A%20%20%20%20%20%20this.dampingRatio%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2FrictionJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2FrictionJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2FrictionJoint.b2FrictionJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_linearMass%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.m_linearImpulse%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchorA)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchorB)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_linearImpulse.x%2C%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_linearImpulse.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_angularImpulse%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.SetMaxForce%20%3D%20function%20(force)%20%7B%0A%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20force%20%3D%200%3B%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20force%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.GetMaxForce%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_maxForce%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.SetMaxTorque%20%3D%20function%20(torque)%20%7B%0A%20%20%20%20%20%20if%20(torque%20%3D%3D%3D%20undefined)%20torque%20%3D%200%3B%0A%20%20%20%20%20%20this.m_maxTorque%20%3D%20torque%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.GetMaxTorque%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_maxTorque%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.b2FrictionJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20this.m_localAnchorA.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchorB.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_linearMass.SetZero()%3B%0A%20%20%20%20%20%20this.m_angularMass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_linearImpulse.SetZero()%3B%0A%20%20%20%20%20%20this.m_angularImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20def.maxForce%3B%0A%20%20%20%20%20%20this.m_maxTorque%20%3D%20def.maxTorque%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20var%20K%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20K.col1.x%20%3D%20mA%20%2B%20mB%3B%0A%20%20%20%20%20%20K.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20K.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20K.col2.y%20%3D%20mA%20%2B%20mB%3B%0A%20%20%20%20%20%20K.col1.x%20%2B%3D%20iA%20*%20rAY%20*%20rAY%3B%0A%20%20%20%20%20%20K.col2.x%20%2B%3D%20-iA%20*%20rAX%20*%20rAY%3B%0A%20%20%20%20%20%20K.col1.y%20%2B%3D%20-iA%20*%20rAX%20*%20rAY%3B%0A%20%20%20%20%20%20K.col2.y%20%2B%3D%20iA%20*%20rAX%20*%20rAX%3B%0A%20%20%20%20%20%20K.col1.x%20%2B%3D%20iB%20*%20rBY%20*%20rBY%3B%0A%20%20%20%20%20%20K.col2.x%20%2B%3D%20-iB%20*%20rBX%20*%20rBY%3B%0A%20%20%20%20%20%20K.col1.y%20%2B%3D%20-iB%20*%20rBX%20*%20rBY%3B%0A%20%20%20%20%20%20K.col2.y%20%2B%3D%20iB%20*%20rBX%20*%20rBX%3B%0A%20%20%20%20%20%20K.GetInverse(this.m_linearMass)%3B%0A%20%20%20%20%20%20this.m_angularMass%20%3D%20iA%20%2B%20iB%3B%0A%20%20%20%20%20%20if%20(this.m_angularMass%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_angularMass%20%3D%201.0%20%2F%20this.m_angularMass%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.x%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.y%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_angularImpulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20var%20P%20%3D%20this.m_linearImpulse%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20mA%20*%20P.x%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20mA%20*%20P.y%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%0A%20%20%20%20%20%20%20%20%20%20iA%20*%20(rAX%20*%20P.y%20-%20rAY%20*%20P.x%20%2B%20this.m_angularImpulse)%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20mB%20*%20P.x%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20mB%20*%20P.y%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20iB%20*%20(rBX%20*%20P.y%20-%20rBY%20*%20P.x%20%2B%20this.m_angularImpulse)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_angularImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20vA%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20wA%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20vB%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20wB%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20maxImpulse%20%3D%200%3B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%20wB%20-%20wA%3B%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_angularMass%20*%20Cdot%3B%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_angularImpulse%3B%0A%20%20%20%20%20%20%20%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxTorque%3B%0A%20%20%20%20%20%20%20%20this.m_angularImpulse%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20this.m_angularImpulse%20%2B%20impulse%2C%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_angularImpulse%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20wA%20-%3D%20iA%20*%20impulse%3B%0A%20%20%20%20%20%20%20%20wB%20%2B%3D%20iB%20*%20impulse%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20CdotX%20%3D%20vB.x%20-%20wB%20*%20rBY%20-%20vA.x%20%2B%20wA%20*%20rAY%3B%0A%20%20%20%20%20%20%20%20var%20CdotY%20%3D%20vB.y%20%2B%20wB%20*%20rBX%20-%20vA.y%20-%20wA%20*%20rAX%3B%0A%20%20%20%20%20%20%20%20var%20impulseV%20%3D%20b2Math.MulMV(%0A%20%20%20%20%20%20%20%20%20%20this.m_linearMass%2C%0A%20%20%20%20%20%20%20%20%20%20new%20b2Vec2(-CdotX%2C%20-CdotY)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20var%20oldImpulseV%20%3D%20this.m_linearImpulse.Copy()%3B%0A%20%20%20%20%20%20%20%20this.m_linearImpulse.Add(impulseV)%3B%0A%20%20%20%20%20%20%20%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxForce%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_linearImpulse.LengthSquared()%20%3E%20maxImpulse%20*%20maxImpulse)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_linearImpulse.Normalize()%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_linearImpulse.Multiply(maxImpulse)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20impulseV%20%3D%20b2Math.SubtractVV(this.m_linearImpulse%2C%20oldImpulseV)%3B%0A%20%20%20%20%20%20%20%20vA.x%20-%3D%20mA%20*%20impulseV.x%3B%0A%20%20%20%20%20%20%20%20vA.y%20-%3D%20mA%20*%20impulseV.y%3B%0A%20%20%20%20%20%20%20%20wA%20-%3D%20iA%20*%20(rAX%20*%20impulseV.y%20-%20rAY%20*%20impulseV.x)%3B%0A%20%20%20%20%20%20%20%20vB.x%20%2B%3D%20mB%20*%20impulseV.x%3B%0A%20%20%20%20%20%20%20%20vB.y%20%2B%3D%20mB%20*%20impulseV.y%3B%0A%20%20%20%20%20%20%20%20wB%20%2B%3D%20iB%20*%20(rBX%20*%20impulseV.y%20-%20rBY%20*%20impulseV.x)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20wA%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20wB%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2FrictionJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2FrictionJointDef.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2FrictionJointDef.b2FrictionJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJointDef.prototype.b2FrictionJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_frictionJoint%3B%0A%20%20%20%20%20%20this.maxForce%20%3D%200.0%3B%0A%20%20%20%20%20%20this.maxTorque%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2FrictionJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor)%20%7B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchor))%3B%0A%20%20%20%20%20%20this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchor))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2GearJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2GearJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2GearJoint.b2GearJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_groundAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_groundAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_J%20%3D%20new%20b2Jacobian()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_J.linearB.x%2C%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_J.linearB.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_bodyB.m_xf.R%3B%0A%20%20%20%20%20%20var%20rX%20%3D%20this.m_localAnchor1.x%20-%20this.m_bodyB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rY%20%3D%20this.m_localAnchor1.y%20-%20this.m_bodyB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0A%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0A%20%20%20%20%20%20rX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20PX%20%3D%20this.m_impulse%20*%20this.m_J.linearB.x%3B%0A%20%20%20%20%20%20var%20PY%20%3D%20this.m_impulse%20*%20this.m_J.linearB.y%3B%0A%20%20%20%20%20%20return%20inv_dt%20*%20(this.m_impulse%20*%20this.m_J.angularB%20-%20rX%20*%20PY%20%2B%20rY%20*%20PX)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.GetRatio%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_ratio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.SetRatio%20%3D%20function%20(ratio)%20%7B%0A%20%20%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20ratio%20%3D%200%3B%0A%20%20%20%20%20%20this.m_ratio%20%3D%20ratio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.b2GearJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20var%20type1%20%3D%20parseInt(def.joint1.m_type)%3B%0A%20%20%20%20%20%20var%20type2%20%3D%20parseInt(def.joint2.m_type)%3B%0A%20%20%20%20%20%20this.m_revolute1%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_prismatic1%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_revolute2%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_prismatic2%20%3D%20null%3B%0A%20%20%20%20%20%20var%20coordinate1%20%3D%200%3B%0A%20%20%20%20%20%20var%20coordinate2%20%3D%200%3B%0A%20%20%20%20%20%20this.m_ground1%20%3D%20def.joint1.GetBodyA()%3B%0A%20%20%20%20%20%20this.m_bodyA%20%3D%20def.joint1.GetBodyB()%3B%0A%20%20%20%20%20%20if%20(type1%20%3D%3D%20b2Joint.e_revoluteJoint)%20%7B%0A%20%20%20%20%20%20%20%20this.m_revolute1%20%3D%0A%20%20%20%20%20%20%20%20%20%20def.joint1%20instanceof%20b2RevoluteJoint%20%3F%20def.joint1%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1)%3B%0A%20%20%20%20%20%20%20%20this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2)%3B%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_revolute1.GetJointAngle()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_prismatic1%20%3D%0A%20%20%20%20%20%20%20%20%20%20def.joint1%20instanceof%20b2PrismaticJoint%20%3F%20def.joint1%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1)%3B%0A%20%20%20%20%20%20%20%20this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2)%3B%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_prismatic1.GetJointTranslation()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_ground2%20%3D%20def.joint2.GetBodyA()%3B%0A%20%20%20%20%20%20this.m_bodyB%20%3D%20def.joint2.GetBodyB()%3B%0A%20%20%20%20%20%20if%20(type2%20%3D%3D%20b2Joint.e_revoluteJoint)%20%7B%0A%20%20%20%20%20%20%20%20this.m_revolute2%20%3D%0A%20%20%20%20%20%20%20%20%20%20def.joint2%20instanceof%20b2RevoluteJoint%20%3F%20def.joint2%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1)%3B%0A%20%20%20%20%20%20%20%20this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2)%3B%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_revolute2.GetJointAngle()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_prismatic2%20%3D%0A%20%20%20%20%20%20%20%20%20%20def.joint2%20instanceof%20b2PrismaticJoint%20%3F%20def.joint2%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1)%3B%0A%20%20%20%20%20%20%20%20this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2)%3B%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_prismatic2.GetJointTranslation()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_ratio%20%3D%20def.ratio%3B%0A%20%20%20%20%20%20this.m_constant%20%3D%20coordinate1%20%2B%20this.m_ratio%20*%20coordinate2%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20g1%20%3D%20this.m_ground1%3B%0A%20%20%20%20%20%20var%20g2%20%3D%20this.m_ground2%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20ugX%20%3D%200%3B%0A%20%20%20%20%20%20var%20ugY%20%3D%200%3B%0A%20%20%20%20%20%20var%20rX%20%3D%200%3B%0A%20%20%20%20%20%20var%20rY%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tVec%3B%0A%20%20%20%20%20%20var%20crug%20%3D%200%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20K%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_J.SetZero()%3B%0A%20%20%20%20%20%20if%20(this.m_revolute1)%20%7B%0A%20%20%20%20%20%20%20%20this.m_J.angularA%20%3D%20-1.0%3B%0A%20%20%20%20%20%20%20%20K%20%2B%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20g1.m_xf.R%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_prismatic1.m_localXAxis1%3B%0A%20%20%20%20%20%20%20%20ugX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20ugY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20rX%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20rY%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0A%20%20%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0A%20%20%20%20%20%20%20%20rX%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20crug%20%3D%20rX%20*%20ugY%20-%20rY%20*%20ugX%3B%0A%20%20%20%20%20%20%20%20this.m_J.linearA.Set(-ugX%2C%20-ugY)%3B%0A%20%20%20%20%20%20%20%20this.m_J.angularA%20%3D%20-crug%3B%0A%20%20%20%20%20%20%20%20K%20%2B%3D%20bA.m_invMass%20%2B%20bA.m_invI%20*%20crug%20*%20crug%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_revolute2)%20%7B%0A%20%20%20%20%20%20%20%20this.m_J.angularB%20%3D%20-this.m_ratio%3B%0A%20%20%20%20%20%20%20%20K%20%2B%3D%20this.m_ratio%20*%20this.m_ratio%20*%20bB.m_invI%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20g2.m_xf.R%3B%0A%20%20%20%20%20%20%20%20tVec%20%3D%20this.m_prismatic2.m_localXAxis1%3B%0A%20%20%20%20%20%20%20%20ugX%20%3D%20tMat.col1.x%20*%20tVec.x%20%2B%20tMat.col2.x%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20ugY%20%3D%20tMat.col1.y%20*%20tVec.x%20%2B%20tMat.col2.y%20*%20tVec.y%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20rX%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20rY%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0A%20%20%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0A%20%20%20%20%20%20%20%20rX%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20crug%20%3D%20rX%20*%20ugY%20-%20rY%20*%20ugX%3B%0A%20%20%20%20%20%20%20%20this.m_J.linearB.Set(-this.m_ratio%20*%20ugX%2C%20-this.m_ratio%20*%20ugY)%3B%0A%20%20%20%20%20%20%20%20this.m_J.angularB%20%3D%20-this.m_ratio%20*%20crug%3B%0A%20%20%20%20%20%20%20%20K%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_ratio%20*%20this.m_ratio%20*%20(bB.m_invMass%20%2B%20bB.m_invI%20*%20crug%20*%20crug)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_mass%20%3D%20K%20%3E%200.0%20%3F%201.0%20%2F%20K%20%3A%200.0%3B%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20bA.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearA.x%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20bA.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearA.y%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20this.m_impulse%20*%20this.m_J.angularA%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20bB.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearB.x%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20bB.m_invMass%20*%20this.m_impulse%20*%20this.m_J.linearB.y%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20this.m_impulse%20*%20this.m_J.angularB%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20Cdot%20%3D%20this.m_J.Compute(%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity%2C%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%2C%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity%2C%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_mass%20*%20Cdot%3B%0A%20%20%20%20%20%20this.m_impulse%20%2B%3D%20impulse%3B%0A%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.x%3B%0A%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.y%3B%0A%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20impulse%20*%20this.m_J.angularA%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.x%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.y%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20impulse%20*%20this.m_J.angularB%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20coordinate1%20%3D%200%3B%0A%20%20%20%20%20%20var%20coordinate2%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_revolute1)%20%7B%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_revolute1.GetJointAngle()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20coordinate1%20%3D%20this.m_prismatic1.GetJointTranslation()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_revolute2)%20%7B%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_revolute2.GetJointAngle()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20coordinate2%20%3D%20this.m_prismatic2.GetJointTranslation()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20C%20%3D%20this.m_constant%20-%20(coordinate1%20%2B%20this.m_ratio%20*%20coordinate2)%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20-this.m_mass%20*%20C%3B%0A%20%20%20%20%20%20bA.m_sweep.c.x%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.x%3B%0A%20%20%20%20%20%20bA.m_sweep.c.y%20%2B%3D%20bA.m_invMass%20*%20impulse%20*%20this.m_J.linearA.y%3B%0A%20%20%20%20%20%20bA.m_sweep.a%20%2B%3D%20bA.m_invI%20*%20impulse%20*%20this.m_J.angularA%3B%0A%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.x%3B%0A%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20impulse%20*%20this.m_J.linearB.y%3B%0A%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20impulse%20*%20this.m_J.angularB%3B%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20return%20linearError%20%3C%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2GearJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2GearJointDef.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2GearJointDef.b2GearJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2GearJointDef.prototype.b2GearJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_gearJoint%3B%0A%20%20%20%20%20%20this.joint1%20%3D%20null%3B%0A%20%20%20%20%20%20this.joint2%20%3D%20null%3B%0A%20%20%20%20%20%20this.ratio%20%3D%201.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Jacobian.b2Jacobian%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.linearA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.linearB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Jacobian.prototype.SetZero%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.linearA.SetZero()%3B%0A%20%20%20%20%20%20this.angularA%20%3D%200.0%3B%0A%20%20%20%20%20%20this.linearB.SetZero()%3B%0A%20%20%20%20%20%20this.angularB%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Jacobian.prototype.Set%20%3D%20function%20(x1%2C%20a1%2C%20x2%2C%20a2)%20%7B%0A%20%20%20%20%20%20if%20(a1%20%3D%3D%3D%20undefined)%20a1%20%3D%200%3B%0A%20%20%20%20%20%20if%20(a2%20%3D%3D%3D%20undefined)%20a2%20%3D%200%3B%0A%20%20%20%20%20%20this.linearA.SetV(x1)%3B%0A%20%20%20%20%20%20this.angularA%20%3D%20a1%3B%0A%20%20%20%20%20%20this.linearB.SetV(x2)%3B%0A%20%20%20%20%20%20this.angularB%20%3D%20a2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Jacobian.prototype.Compute%20%3D%20function%20(x1%2C%20a1%2C%20x2%2C%20a2)%20%7B%0A%20%20%20%20%20%20if%20(a1%20%3D%3D%3D%20undefined)%20a1%20%3D%200%3B%0A%20%20%20%20%20%20if%20(a2%20%3D%3D%3D%20undefined)%20a2%20%3D%200%3B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20this.linearA.x%20*%20x1.x%20%2B%0A%20%20%20%20%20%20%20%20this.linearA.y%20*%20x1.y%20%2B%0A%20%20%20%20%20%20%20%20this.angularA%20*%20a1%20%2B%0A%20%20%20%20%20%20%20%20(this.linearB.x%20*%20x2.x%20%2B%20this.linearB.y%20*%20x2.y)%20%2B%0A%20%20%20%20%20%20%20%20this.angularB%20*%20a2%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.b2Joint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_edgeA%20%3D%20new%20b2JointEdge()%3B%0A%20%20%20%20%20%20this.m_edgeB%20%3D%20new%20b2JointEdge()%3B%0A%20%20%20%20%20%20this.m_localCenterA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localCenterB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetType%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_type%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetBodyA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetBodyB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetNext%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_next%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.GetUserData%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_userData%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.SetUserData%20%3D%20function%20(data)%20%7B%0A%20%20%20%20%20%20this.m_userData%20%3D%20data%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.IsActive%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.IsActive()%20%26%26%20this.m_bodyB.IsActive()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.Create%20%3D%20function%20(def%2C%20allocator)%20%7B%0A%20%20%20%20%20%20var%20joint%20%3D%20null%3B%0A%20%20%20%20%20%20switch%20(def.type)%20%7B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_distanceJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2DistanceJoint(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2DistanceJointDef%20%3F%20def%20%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_mouseJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2MouseJoint(def%20instanceof%20b2MouseJointDef%20%3F%20def%20%3A%20null)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_prismaticJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2PrismaticJoint(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2PrismaticJointDef%20%3F%20def%20%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_revoluteJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2RevoluteJoint(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2RevoluteJointDef%20%3F%20def%20%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_pulleyJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2PulleyJoint(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2PulleyJointDef%20%3F%20def%20%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_gearJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2GearJoint(def%20instanceof%20b2GearJointDef%20%3F%20def%20%3A%20null)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_lineJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2LineJoint(def%20instanceof%20b2LineJointDef%20%3F%20def%20%3A%20null)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_weldJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2WeldJoint(def%20instanceof%20b2WeldJointDef%20%3F%20def%20%3A%20null)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20b2Joint.e_frictionJoint%3A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20joint%20%3D%20new%20b2FrictionJoint(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20def%20instanceof%20b2FrictionJointDef%20%3F%20def%20%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20joint%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.Destroy%20%3D%20function%20(joint%2C%20allocator)%20%7B%7D%3B%0A%20%20%20%20b2Joint.prototype.b2Joint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20b2Settings.b2Assert(def.bodyA%20!%3D%20def.bodyB)%3B%0A%20%20%20%20%20%20this.m_type%20%3D%20def.type%3B%0A%20%20%20%20%20%20this.m_prev%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_next%20%3D%20null%3B%0A%20%20%20%20%20%20this.m_bodyA%20%3D%20def.bodyA%3B%0A%20%20%20%20%20%20this.m_bodyB%20%3D%20def.bodyB%3B%0A%20%20%20%20%20%20this.m_collideConnected%20%3D%20def.collideConnected%3B%0A%20%20%20%20%20%20this.m_islandFlag%20%3D%20false%3B%0A%20%20%20%20%20%20this.m_userData%20%3D%20def.userData%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2Joint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%7D%3B%0A%20%20%20%20b2Joint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%7D%3B%0A%20%20%20%20b2Joint.prototype.FinalizeVelocityConstraints%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2Joint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_unknownJoint%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint%20%3D%201%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint%20%3D%202%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_distanceJoint%20%3D%203%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint%20%3D%204%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_mouseJoint%20%3D%205%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_gearJoint%20%3D%206%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_lineJoint%20%3D%207%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_weldJoint%20%3D%208%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_frictionJoint%20%3D%209%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit%20%3D%200%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit%20%3D%201%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit%20%3D%202%3B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.e_equalLimits%20%3D%203%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20b2JointDef.b2JointDef%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20b2JointDef.prototype.b2JointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_unknownJoint%3B%0A%20%20%20%20%20%20this.userData%20%3D%20null%3B%0A%20%20%20%20%20%20this.bodyA%20%3D%20null%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20null%3B%0A%20%20%20%20%20%20this.collideConnected%20%3D%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2JointEdge.b2JointEdge%20%3D%20function%20()%20%7B%7D%3B%0A%20%20%20%20Box2D.inherit(b2LineJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2LineJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2LineJoint.b2LineJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localXAxis1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localYAxis1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_axis%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_perp%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_K%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20inv_dt%20*%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.x)%2C%0A%20%20%20%20%20%20%20%20inv_dt%20*%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.y)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetJointTranslation%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20p1%20%3D%20bA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20bB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p2.x%20-%20p1.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p2.y%20-%20p1.y%3B%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0A%20%20%20%20%20%20var%20translation%20%3D%20axis.x%20*%20dX%20%2B%20axis.y%20*%20dY%3B%0A%20%20%20%20%20%20return%20translation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetJointSpeed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0A%20%20%20%20%20%20var%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0A%20%20%20%20%20%20var%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20speed%20%3D%0A%20%20%20%20%20%20%20%20dX%20*%20(-w1%20*%20axis.y)%20%2B%0A%20%20%20%20%20%20%20%20dY%20*%20(w1%20*%20axis.x)%20%2B%0A%20%20%20%20%20%20%20%20(axis.x%20*%20(v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20axis.y%20*%20(v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X))%3B%0A%20%20%20%20%20%20return%20speed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.IsLimitEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_enableLimit%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.EnableLimit%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetLowerLimit%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_lowerTranslation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetUpperLimit%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_upperTranslation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.SetLimits%20%3D%20function%20(lower%2C%20upper)%20%7B%0A%20%20%20%20%20%20if%20(lower%20%3D%3D%3D%20undefined)%20lower%20%3D%200%3B%0A%20%20%20%20%20%20if%20(upper%20%3D%3D%3D%20undefined)%20upper%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20lower%3B%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20upper%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.IsMotorEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_enableMotor%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.EnableMotor%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.SetMotorSpeed%20%3D%20function%20(speed)%20%7B%0A%20%20%20%20%20%20if%20(speed%20%3D%3D%3D%20undefined)%20speed%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20speed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetMotorSpeed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_motorSpeed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.SetMaxMotorForce%20%3D%20function%20(force)%20%7B%0A%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20force%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20force%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetMaxMotorForce%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_maxMotorForce%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.GetMotorForce%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_motorImpulse%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.b2LineJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_localXAxis1.SetV(def.localAxisA)%3B%0A%20%20%20%20%20%20this.m_localYAxis1.x%20%3D%20-this.m_localXAxis1.y%3B%0A%20%20%20%20%20%20this.m_localYAxis1.y%20%3D%20this.m_localXAxis1.x%3B%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20this.m_motorMass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20def.lowerTranslation%3B%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20def.upperTranslation%3B%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20def.maxMotorForce%3B%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20def.motorSpeed%3B%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20def.enableLimit%3B%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20def.enableMotor%3B%0A%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20this.m_axis.SetZero()%3B%0A%20%20%20%20%20%20this.m_perp.SetZero()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20this.m_localCenterA.SetV(bA.GetLocalCenter())%3B%0A%20%20%20%20%20%20this.m_localCenterB.SetV(bB.GetLocalCenter())%3B%0A%20%20%20%20%20%20var%20xf1%20%3D%20bA.GetTransform()%3B%0A%20%20%20%20%20%20var%20xf2%20%3D%20bB.GetTransform()%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0A%20%20%20%20%20%20this.m_invMassA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20this.m_invMassB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20this.m_invIA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20this.m_invIB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this.m_axis.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localXAxis1))%3B%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassA%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassB%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_invIA%20*%20this.m_a1%20*%20this.m_a1%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_invIB%20*%20this.m_a2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_motorMass%20%3E%20Number.MIN_VALUE%20%3F%201.0%20%2F%20this.m_motorMass%20%3A%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this.m_perp.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localYAxis1))%3B%0A%20%20%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20%20%20var%20m1%20%3D%20this.m_invMassA%3B%0A%20%20%20%20%20%20%20%20var%20m2%20%3D%20this.m_invMassB%3B%0A%20%20%20%20%20%20%20%20var%20i1%20%3D%20this.m_invIA%3B%0A%20%20%20%20%20%20%20%20var%20i2%20%3D%20this.m_invIB%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0A%20%20%20%20%20%20%20%20var%20jointTransition%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_equalLimits%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3C%3D%20this.m_lowerTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atLowerLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3E%3D%20this.m_upperTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atUpperLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20var%20L1%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s1%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_a1%3B%0A%20%20%20%20%20%20%20%20var%20L2%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s2%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.y)%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20PX%20%3D%200%3B%0A%20%20%20%20%20%20var%20PY%20%3D%200%3B%0A%20%20%20%20%20%20var%20L1%20%3D%200%3B%0A%20%20%20%20%20%20var%20L2%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_equalLimits)%20%7B%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20this.m_motorMass%20*%20(this.m_motorSpeed%20-%20Cdot)%3B%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_motorImpulse%3B%0A%20%20%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxMotorForce%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20this.m_motorImpulse%20%2B%20impulse%2C%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_motorImpulse%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20PX%20%3D%20impulse%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20PY%20%3D%20impulse%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20L1%20%3D%20impulse%20*%20this.m_a1%3B%0A%20%20%20%20%20%20%20%20L2%20%3D%20impulse%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20Cdot1%20%3D%0A%20%20%20%20%20%20%20%20this.m_perp.x%20*%20(v2.x%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20this.m_perp.y%20*%20(v2.y%20-%20v1.y)%20%2B%0A%20%20%20%20%20%20%20%20this.m_s2%20*%20w2%20-%0A%20%20%20%20%20%20%20%20this.m_s1%20*%20w1%3B%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0A%20%20%20%20%20%20%20%20var%20Cdot2%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0A%20%20%20%20%20%20%20%20var%20f1%20%3D%20this.m_impulse.Copy()%3B%0A%20%20%20%20%20%20%20%20var%20df%20%3D%20this.m_K.Solve(new%20b2Vec2()%2C%20-Cdot1%2C%20-Cdot2)%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.Add(df)%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%20b2Math.Max(this.m_impulse.y%2C%200.0)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%20b2Math.Min(this.m_impulse.y%2C%200.0)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20b%20%3D%20-Cdot1%20-%20(this.m_impulse.y%20-%20f1.y)%20*%20this.m_K.col2.x%3B%0A%20%20%20%20%20%20%20%20var%20f2r%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_K.col1.x%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20f2r%20%3D%20b%20%2F%20this.m_K.col1.x%20%2B%20f1.x%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20f2r%20%3D%20f1.x%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%3D%20f2r%3B%0A%20%20%20%20%20%20%20%20df.x%20%3D%20this.m_impulse.x%20-%20f1.x%3B%0A%20%20%20%20%20%20%20%20df.y%20%3D%20this.m_impulse.y%20-%20f1.y%3B%0A%20%20%20%20%20%20%20%20PX%20%3D%20df.x%20*%20this.m_perp.x%20%2B%20df.y%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20PY%20%3D%20df.x%20*%20this.m_perp.y%20%2B%20df.y%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20L1%20%3D%20df.x%20*%20this.m_s1%20%2B%20df.y%20*%20this.m_a1%3B%0A%20%20%20%20%20%20%20%20L2%20%3D%20df.x%20*%20this.m_s2%20%2B%20df.y%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20df2%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_K.col1.x%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20df2%20%3D%20-Cdot1%20%2F%20this.m_K.col1.x%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20df2%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20df2%3B%0A%20%20%20%20%20%20%20%20PX%20%3D%20df2%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20%20%20PY%20%3D%20df2%20*%20this.m_perp.y%3B%0A%20%20%20%20%20%20%20%20L1%20%3D%20df2%20*%20this.m_s1%3B%0A%20%20%20%20%20%20%20%20L2%20%3D%20df2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20bA.m_linearVelocity.SetV(v1)%3B%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20w1%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.SetV(v2)%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20w2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20limitC%20%3D%200%3B%0A%20%20%20%20%20%20var%20oldLimitImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20c1%20%3D%20bA.m_sweep.c%3B%0A%20%20%20%20%20%20var%20a1%20%3D%20bA.m_sweep.a%3B%0A%20%20%20%20%20%20var%20c2%20%3D%20bB.m_sweep.c%3B%0A%20%20%20%20%20%20var%20a2%20%3D%20bB.m_sweep.a%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20m1%20%3D%200%3B%0A%20%20%20%20%20%20var%20m2%20%3D%200%3B%0A%20%20%20%20%20%20var%20i1%20%3D%200%3B%0A%20%20%20%20%20%20var%20i2%20%3D%200%3B%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20angularError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20active%20%3D%20false%3B%0A%20%20%20%20%20%20var%20C2%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20R1%20%3D%20b2Mat22.FromAngle(a1)%3B%0A%20%20%20%20%20%20var%20R2%20%3D%20b2Mat22.FromAngle(a2)%3B%0A%20%20%20%20%20%20tMat%20%3D%20R1%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20R2%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20c2.x%20%2B%20r2X%20-%20c1.x%20-%20r1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20c2.y%20%2B%20r2Y%20-%20c1.y%20-%20r1Y%3B%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.MulMV(R1%2C%20this.m_localXAxis1)%3B%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20var%20translation%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Abs(translation)%3B%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3C%3D%20this.m_lowerTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_lowerTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20this.m_lowerTranslation%20-%20translation%3B%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3E%3D%20this.m_upperTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_upperTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20translation%20-%20this.m_upperTranslation%3B%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_perp%20%3D%20b2Math.MulMV(R1%2C%20this.m_localYAxis1)%3B%0A%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20var%20C1%20%3D%20this.m_perp.x%20*%20dX%20%2B%20this.m_perp.y%20*%20dY%3B%0A%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20b2Math.Abs(C1))%3B%0A%20%20%20%20%20%20angularError%20%3D%200.0%3B%0A%20%20%20%20%20%20if%20(active)%20%7B%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.Solve(impulse%2C%20-C1%2C%20-C2)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0A%20%20%20%20%20%20%20%20var%20k11%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20var%20impulse1%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20(k11%20!%3D%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20impulse1%20%3D%20-C1%20%2F%20k11%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20impulse1%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20impulse.x%20%3D%20impulse1%3B%0A%20%20%20%20%20%20%20%20impulse.y%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse.x%20*%20this.m_perp.x%20%2B%20impulse.y%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse.x%20*%20this.m_perp.y%20%2B%20impulse.y%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20var%20L1%20%3D%20impulse.x%20*%20this.m_s1%20%2B%20impulse.y%20*%20this.m_a1%3B%0A%20%20%20%20%20%20var%20L2%20%3D%20impulse.x%20*%20this.m_s2%20%2B%20impulse.y%20*%20this.m_a2%3B%0A%20%20%20%20%20%20c1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20c1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20a1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20c2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20c2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20a2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20bA.m_sweep.a%20%3D%20a1%3B%0A%20%20%20%20%20%20bB.m_sweep.a%20%3D%20a2%3B%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20linearError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2LineJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2LineJointDef.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2LineJointDef.b2LineJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAxisA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJointDef.prototype.b2LineJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_lineJoint%3B%0A%20%20%20%20%20%20this.localAxisA.Set(1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.enableLimit%20%3D%20false%3B%0A%20%20%20%20%20%20this.lowerTranslation%20%3D%200.0%3B%0A%20%20%20%20%20%20this.upperTranslation%20%3D%200.0%3B%0A%20%20%20%20%20%20this.enableMotor%20%3D%20false%3B%0A%20%20%20%20%20%20this.maxMotorForce%20%3D%200.0%3B%0A%20%20%20%20%20%20this.motorSpeed%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2LineJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor%2C%20axis)%20%7B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchor)%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchor)%3B%0A%20%20%20%20%20%20this.localAxisA%20%3D%20this.bodyA.GetLocalVector(axis)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2MouseJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2MouseJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2MouseJoint.b2MouseJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.K%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.K1%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.K2%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.m_localAnchor%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_target%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.m_C%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_target%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(inv_dt%20*%20this.m_impulse.x%2C%20inv_dt%20*%20this.m_impulse.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetTarget%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_target%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.SetTarget%20%3D%20function%20(target)%20%7B%0A%20%20%20%20%20%20if%20(this.m_bodyB.IsAwake()%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_target%20%3D%20target%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetMaxForce%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_maxForce%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.SetMaxForce%20%3D%20function%20(maxForce)%20%7B%0A%20%20%20%20%20%20if%20(maxForce%20%3D%3D%3D%20undefined)%20maxForce%20%3D%200%3B%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20maxForce%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetFrequency%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_frequencyHz%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.SetFrequency%20%3D%20function%20(hz)%20%7B%0A%20%20%20%20%20%20if%20(hz%20%3D%3D%3D%20undefined)%20hz%20%3D%200%3B%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20hz%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.GetDampingRatio%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_dampingRatio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.SetDampingRatio%20%3D%20function%20(ratio)%20%7B%0A%20%20%20%20%20%20if%20(ratio%20%3D%3D%3D%20undefined)%20ratio%20%3D%200%3B%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20ratio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.b2MouseJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20this.m_target.SetV(def.target)%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20this.m_target.x%20-%20this.m_bodyB.m_xf.position.x%3B%0A%20%20%20%20%20%20var%20tY%20%3D%20this.m_target.y%20-%20this.m_bodyB.m_xf.position.y%3B%0A%20%20%20%20%20%20var%20tMat%20%3D%20this.m_bodyB.m_xf.R%3B%0A%20%20%20%20%20%20this.m_localAnchor.x%20%3D%20tX%20*%20tMat.col1.x%20%2B%20tY%20*%20tMat.col1.y%3B%0A%20%20%20%20%20%20this.m_localAnchor.y%20%3D%20tX%20*%20tMat.col2.x%20%2B%20tY%20*%20tMat.col2.y%3B%0A%20%20%20%20%20%20this.m_maxForce%20%3D%20def.maxForce%3B%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20this.m_frequencyHz%20%3D%20def.frequencyHz%3B%0A%20%20%20%20%20%20this.m_dampingRatio%20%3D%20def.dampingRatio%3B%0A%20%20%20%20%20%20this.m_beta%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_gamma%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20b%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20mass%20%3D%20b.GetMass()%3B%0A%20%20%20%20%20%20var%20omega%20%3D%202.0%20*%20Math.PI%20*%20this.m_frequencyHz%3B%0A%20%20%20%20%20%20var%20d%20%3D%202.0%20*%20mass%20*%20this.m_dampingRatio%20*%20omega%3B%0A%20%20%20%20%20%20var%20k%20%3D%20mass%20*%20omega%20*%20omega%3B%0A%20%20%20%20%20%20this.m_gamma%20%3D%20step.dt%20*%20(d%20%2B%20step.dt%20*%20k)%3B%0A%20%20%20%20%20%20this.m_gamma%20%3D%20this.m_gamma%20!%3D%200%20%3F%201%20%2F%20this.m_gamma%20%3A%200.0%3B%0A%20%20%20%20%20%20this.m_beta%20%3D%20step.dt%20*%20k%20*%20this.m_gamma%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20b.m_xf.R%3B%0A%20%20%20%20%20%20var%20rX%20%3D%20this.m_localAnchor.x%20-%20b.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rY%20%3D%20this.m_localAnchor.y%20-%20b.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0A%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0A%20%20%20%20%20%20rX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20invMass%20%3D%20b.m_invMass%3B%0A%20%20%20%20%20%20var%20invI%20%3D%20b.m_invI%3B%0A%20%20%20%20%20%20this.K1.col1.x%20%3D%20invMass%3B%0A%20%20%20%20%20%20this.K1.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20this.K1.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20this.K1.col2.y%20%3D%20invMass%3B%0A%20%20%20%20%20%20this.K2.col1.x%20%3D%20invI%20*%20rY%20*%20rY%3B%0A%20%20%20%20%20%20this.K2.col2.x%20%3D%20-invI%20*%20rX%20*%20rY%3B%0A%20%20%20%20%20%20this.K2.col1.y%20%3D%20-invI%20*%20rX%20*%20rY%3B%0A%20%20%20%20%20%20this.K2.col2.y%20%3D%20invI%20*%20rX%20*%20rX%3B%0A%20%20%20%20%20%20this.K.SetM(this.K1)%3B%0A%20%20%20%20%20%20this.K.AddM(this.K2)%3B%0A%20%20%20%20%20%20this.K.col1.x%20%2B%3D%20this.m_gamma%3B%0A%20%20%20%20%20%20this.K.col2.y%20%2B%3D%20this.m_gamma%3B%0A%20%20%20%20%20%20this.K.GetInverse(this.m_mass)%3B%0A%20%20%20%20%20%20this.m_C.x%20%3D%20b.m_sweep.c.x%20%2B%20rX%20-%20this.m_target.x%3B%0A%20%20%20%20%20%20this.m_C.y%20%3D%20b.m_sweep.c.y%20%2B%20rY%20-%20this.m_target.y%3B%0A%20%20%20%20%20%20b.m_angularVelocity%20*%3D%200.98%3B%0A%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20b.m_linearVelocity.x%20%2B%3D%20invMass%20*%20this.m_impulse.x%3B%0A%20%20%20%20%20%20b.m_linearVelocity.y%20%2B%3D%20invMass%20*%20this.m_impulse.y%3B%0A%20%20%20%20%20%20b.m_angularVelocity%20%2B%3D%0A%20%20%20%20%20%20%20%20invI%20*%20(rX%20*%20this.m_impulse.y%20-%20rY%20*%20this.m_impulse.x)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20b%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20tMat%20%3D%20b.m_xf.R%3B%0A%20%20%20%20%20%20var%20rX%20%3D%20this.m_localAnchor.x%20-%20b.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rY%20%3D%20this.m_localAnchor.y%20-%20b.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rX%20%2B%20tMat.col2.x%20*%20rY%3B%0A%20%20%20%20%20%20rY%20%3D%20tMat.col1.y%20*%20rX%20%2B%20tMat.col2.y%20*%20rY%3B%0A%20%20%20%20%20%20rX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20CdotX%20%3D%20b.m_linearVelocity.x%20%2B%20-b.m_angularVelocity%20*%20rY%3B%0A%20%20%20%20%20%20var%20CdotY%20%3D%20b.m_linearVelocity.y%20%2B%20b.m_angularVelocity%20*%20rX%3B%0A%20%20%20%20%20%20tMat%20%3D%20this.m_mass%3B%0A%20%20%20%20%20%20tX%20%3D%20CdotX%20%2B%20this.m_beta%20*%20this.m_C.x%20%2B%20this.m_gamma%20*%20this.m_impulse.x%3B%0A%20%20%20%20%20%20tY%20%3D%20CdotY%20%2B%20this.m_beta%20*%20this.m_C.y%20%2B%20this.m_gamma%20*%20this.m_impulse.y%3B%0A%20%20%20%20%20%20var%20impulseX%20%3D%20-(tMat.col1.x%20*%20tX%20%2B%20tMat.col2.x%20*%20tY)%3B%0A%20%20%20%20%20%20var%20impulseY%20%3D%20-(tMat.col1.y%20*%20tX%20%2B%20tMat.col2.y%20*%20tY)%3B%0A%20%20%20%20%20%20var%20oldImpulseX%20%3D%20this.m_impulse.x%3B%0A%20%20%20%20%20%20var%20oldImpulseY%20%3D%20this.m_impulse.y%3B%0A%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20impulseX%3B%0A%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20impulseY%3B%0A%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxForce%3B%0A%20%20%20%20%20%20if%20(this.m_impulse.LengthSquared()%20%3E%20maxImpulse%20*%20maxImpulse)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.Multiply(maxImpulse%20%2F%20this.m_impulse.Length())%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20impulseX%20%3D%20this.m_impulse.x%20-%20oldImpulseX%3B%0A%20%20%20%20%20%20impulseY%20%3D%20this.m_impulse.y%20-%20oldImpulseY%3B%0A%20%20%20%20%20%20b.m_linearVelocity.x%20%2B%3D%20b.m_invMass%20*%20impulseX%3B%0A%20%20%20%20%20%20b.m_linearVelocity.y%20%2B%3D%20b.m_invMass%20*%20impulseY%3B%0A%20%20%20%20%20%20b.m_angularVelocity%20%2B%3D%20b.m_invI%20*%20(rX%20*%20impulseY%20-%20rY%20*%20impulseX)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2MouseJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2MouseJointDef.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2MouseJointDef.b2MouseJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.target%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2MouseJointDef.prototype.b2MouseJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_mouseJoint%3B%0A%20%20%20%20%20%20this.maxForce%20%3D%200.0%3B%0A%20%20%20%20%20%20this.frequencyHz%20%3D%205.0%3B%0A%20%20%20%20%20%20this.dampingRatio%20%3D%200.7%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2PrismaticJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2PrismaticJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2PrismaticJoint.b2PrismaticJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localXAxis1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localYAxis1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_axis%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_perp%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_K%20%3D%20new%20b2Mat33()%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20inv_dt%20*%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.x)%2C%0A%20%20%20%20%20%20%20%20inv_dt%20*%0A%20%20%20%20%20%20%20%20%20%20(this.m_impulse.x%20*%20this.m_perp.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.y)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.y%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetJointTranslation%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20p1%20%3D%20bA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%20%20var%20p2%20%3D%20bB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p2.x%20-%20p1.x%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p2.y%20-%20p1.y%3B%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0A%20%20%20%20%20%20var%20translation%20%3D%20axis.x%20*%20dX%20%2B%20axis.y%20*%20dY%3B%0A%20%20%20%20%20%20return%20translation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetJointSpeed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0A%20%20%20%20%20%20var%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0A%20%20%20%20%20%20var%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p2X%20-%20p1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p2Y%20-%20p1Y%3B%0A%20%20%20%20%20%20var%20axis%20%3D%20bA.GetWorldVector(this.m_localXAxis1)%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20speed%20%3D%0A%20%20%20%20%20%20%20%20dX%20*%20(-w1%20*%20axis.y)%20%2B%0A%20%20%20%20%20%20%20%20dY%20*%20(w1%20*%20axis.x)%20%2B%0A%20%20%20%20%20%20%20%20(axis.x%20*%20(v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20axis.y%20*%20(v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X))%3B%0A%20%20%20%20%20%20return%20speed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.IsLimitEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_enableLimit%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.EnableLimit%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetLowerLimit%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_lowerTranslation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetUpperLimit%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_upperTranslation%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.SetLimits%20%3D%20function%20(lower%2C%20upper)%20%7B%0A%20%20%20%20%20%20if%20(lower%20%3D%3D%3D%20undefined)%20lower%20%3D%200%3B%0A%20%20%20%20%20%20if%20(upper%20%3D%3D%3D%20undefined)%20upper%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20lower%3B%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20upper%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.IsMotorEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_enableMotor%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.EnableMotor%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.SetMotorSpeed%20%3D%20function%20(speed)%20%7B%0A%20%20%20%20%20%20if%20(speed%20%3D%3D%3D%20undefined)%20speed%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20speed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetMotorSpeed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_motorSpeed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.SetMaxMotorForce%20%3D%20function%20(force)%20%7B%0A%20%20%20%20%20%20if%20(force%20%3D%3D%3D%20undefined)%20force%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20force%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.GetMotorForce%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_motorImpulse%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.b2PrismaticJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_localXAxis1.SetV(def.localAxisA)%3B%0A%20%20%20%20%20%20this.m_localYAxis1.x%20%3D%20-this.m_localXAxis1.y%3B%0A%20%20%20%20%20%20this.m_localYAxis1.y%20%3D%20this.m_localXAxis1.x%3B%0A%20%20%20%20%20%20this.m_refAngle%20%3D%20def.referenceAngle%3B%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20this.m_motorMass%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_lowerTranslation%20%3D%20def.lowerTranslation%3B%0A%20%20%20%20%20%20this.m_upperTranslation%20%3D%20def.upperTranslation%3B%0A%20%20%20%20%20%20this.m_maxMotorForce%20%3D%20def.maxMotorForce%3B%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20def.motorSpeed%3B%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20def.enableLimit%3B%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20def.enableMotor%3B%0A%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20this.m_axis.SetZero()%3B%0A%20%20%20%20%20%20this.m_perp.SetZero()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20this.m_localCenterA.SetV(bA.GetLocalCenter())%3B%0A%20%20%20%20%20%20this.m_localCenterB.SetV(bB.GetLocalCenter())%3B%0A%20%20%20%20%20%20var%20xf1%20%3D%20bA.GetTransform()%3B%0A%20%20%20%20%20%20var%20xf2%20%3D%20bB.GetTransform()%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0A%20%20%20%20%20%20this.m_invMassA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20this.m_invMassB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20this.m_invIA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20this.m_invIB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this.m_axis.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localXAxis1))%3B%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassA%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_invMassB%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_invIA%20*%20this.m_a1%20*%20this.m_a1%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_invIB%20*%20this.m_a2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_motorMass%20%3E%20Number.MIN_VALUE)%0A%20%20%20%20%20%20%20%20%20%20this.m_motorMass%20%3D%201.0%20%2F%20this.m_motorMass%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this.m_perp.SetV(b2Math.MulMV(xf1.R%2C%20this.m_localYAxis1))%3B%0A%20%20%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20%20%20var%20m1%20%3D%20this.m_invMassA%3B%0A%20%20%20%20%20%20%20%20var%20m2%20%3D%20this.m_invMassB%3B%0A%20%20%20%20%20%20%20%20var%20i1%20%3D%20this.m_invIA%3B%0A%20%20%20%20%20%20%20%20var%20i2%20%3D%20this.m_invIB%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%20i1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.z%20%3D%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%20i1%20%2B%20i2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.z%20%3D%20i1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col3.x%20%3D%20this.m_K.col1.z%3B%0A%20%20%20%20%20%20%20%20this.m_K.col3.y%20%3D%20this.m_K.col2.z%3B%0A%20%20%20%20%20%20%20%20this.m_K.col3.z%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0A%20%20%20%20%20%20%20%20var%20jointTransition%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_equalLimits%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3C%3D%20this.m_lowerTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atLowerLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointTransition%20%3E%3D%20this.m_upperTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atUpperLimit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.x%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_perp.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20var%20L1%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s1%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_a1%3B%0A%20%20%20%20%20%20%20%20var%20L2%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20*%20this.m_s2%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%0A%20%20%20%20%20%20%20%20%20%20(this.m_motorImpulse%20%2B%20this.m_impulse.z)%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20PX%20%3D%200%3B%0A%20%20%20%20%20%20var%20PY%20%3D%200%3B%0A%20%20%20%20%20%20var%20L1%20%3D%200%3B%0A%20%20%20%20%20%20var%20L2%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_equalLimits)%20%7B%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20this.m_motorMass%20*%20(this.m_motorSpeed%20-%20Cdot)%3B%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_motorImpulse%3B%0A%20%20%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxMotorForce%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20this.m_motorImpulse%20%2B%20impulse%2C%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_motorImpulse%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20PX%20%3D%20impulse%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20PY%20%3D%20impulse%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20L1%20%3D%20impulse%20*%20this.m_a1%3B%0A%20%20%20%20%20%20%20%20L2%20%3D%20impulse%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20Cdot1X%20%3D%0A%20%20%20%20%20%20%20%20this.m_perp.x%20*%20(v2.x%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20this.m_perp.y%20*%20(v2.y%20-%20v1.y)%20%2B%0A%20%20%20%20%20%20%20%20this.m_s2%20*%20w2%20-%0A%20%20%20%20%20%20%20%20this.m_s1%20*%20w1%3B%0A%20%20%20%20%20%20var%20Cdot1Y%20%3D%20w2%20-%20w1%3B%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0A%20%20%20%20%20%20%20%20var%20Cdot2%20%3D%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.x%20*%20(v2.x%20-%20v1.x)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_axis.y%20*%20(v2.y%20-%20v1.y)%20%2B%0A%20%20%20%20%20%20%20%20%20%20this.m_a2%20*%20w2%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_a1%20*%20w1%3B%0A%20%20%20%20%20%20%20%20var%20f1%20%3D%20this.m_impulse.Copy()%3B%0A%20%20%20%20%20%20%20%20var%20df%20%3D%20this.m_K.Solve33(new%20b2Vec3()%2C%20-Cdot1X%2C%20-Cdot1Y%2C%20-Cdot2)%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.Add(df)%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%20b2Math.Max(this.m_impulse.z%2C%200.0)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%20b2Math.Min(this.m_impulse.z%2C%200.0)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20bX%20%3D%20-Cdot1X%20-%20(this.m_impulse.z%20-%20f1.z)%20*%20this.m_K.col3.x%3B%0A%20%20%20%20%20%20%20%20var%20bY%20%3D%20-Cdot1Y%20-%20(this.m_impulse.z%20-%20f1.z)%20*%20this.m_K.col3.y%3B%0A%20%20%20%20%20%20%20%20var%20f2r%20%3D%20this.m_K.Solve22(new%20b2Vec2()%2C%20bX%2C%20bY)%3B%0A%20%20%20%20%20%20%20%20f2r.x%20%2B%3D%20f1.x%3B%0A%20%20%20%20%20%20%20%20f2r.y%20%2B%3D%20f1.y%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%3D%20f2r.x%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20%3D%20f2r.y%3B%0A%20%20%20%20%20%20%20%20df.x%20%3D%20this.m_impulse.x%20-%20f1.x%3B%0A%20%20%20%20%20%20%20%20df.y%20%3D%20this.m_impulse.y%20-%20f1.y%3B%0A%20%20%20%20%20%20%20%20df.z%20%3D%20this.m_impulse.z%20-%20f1.z%3B%0A%20%20%20%20%20%20%20%20PX%20%3D%20df.x%20*%20this.m_perp.x%20%2B%20df.z%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20PY%20%3D%20df.x%20*%20this.m_perp.y%20%2B%20df.z%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20%20%20L1%20%3D%20df.x%20*%20this.m_s1%20%2B%20df.y%20%2B%20df.z%20*%20this.m_a1%3B%0A%20%20%20%20%20%20%20%20L2%20%3D%20df.x%20*%20this.m_s2%20%2B%20df.y%20%2B%20df.z%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20df2%20%3D%20this.m_K.Solve22(new%20b2Vec2()%2C%20-Cdot1X%2C%20-Cdot1Y)%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20df2.x%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20df2.y%3B%0A%20%20%20%20%20%20%20%20PX%20%3D%20df2.x%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20%20%20PY%20%3D%20df2.x%20*%20this.m_perp.y%3B%0A%20%20%20%20%20%20%20%20L1%20%3D%20df2.x%20*%20this.m_s1%20%2B%20df2.y%3B%0A%20%20%20%20%20%20%20%20L2%20%3D%20df2.x%20*%20this.m_s2%20%2B%20df2.y%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20bA.m_linearVelocity.SetV(v1)%3B%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20w1%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.SetV(v2)%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20w2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20limitC%20%3D%200%3B%0A%20%20%20%20%20%20var%20oldLimitImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20c1%20%3D%20bA.m_sweep.c%3B%0A%20%20%20%20%20%20var%20a1%20%3D%20bA.m_sweep.a%3B%0A%20%20%20%20%20%20var%20c2%20%3D%20bB.m_sweep.c%3B%0A%20%20%20%20%20%20var%20a2%20%3D%20bB.m_sweep.a%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20m1%20%3D%200%3B%0A%20%20%20%20%20%20var%20m2%20%3D%200%3B%0A%20%20%20%20%20%20var%20i1%20%3D%200%3B%0A%20%20%20%20%20%20var%20i2%20%3D%200%3B%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20angularError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20active%20%3D%20false%3B%0A%20%20%20%20%20%20var%20C2%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20R1%20%3D%20b2Mat22.FromAngle(a1)%3B%0A%20%20%20%20%20%20var%20R2%20%3D%20b2Mat22.FromAngle(a2)%3B%0A%20%20%20%20%20%20tMat%20%3D%20R1%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20this.m_localCenterA.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20this.m_localCenterA.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20R2%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20this.m_localCenterB.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20this.m_localCenterB.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20c2.x%20%2B%20r2X%20-%20c1.x%20-%20r1X%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20c2.y%20%2B%20r2Y%20-%20c1.y%20-%20r1Y%3B%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0A%20%20%20%20%20%20%20%20this.m_axis%20%3D%20b2Math.MulMV(R1%2C%20this.m_localXAxis1)%3B%0A%20%20%20%20%20%20%20%20this.m_a1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_axis.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20this.m_a2%20%3D%20r2X%20*%20this.m_axis.y%20-%20r2Y%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20%20%20var%20translation%20%3D%20this.m_axis.x%20*%20dX%20%2B%20this.m_axis.y%20*%20dY%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperTranslation%20-%20this.m_lowerTranslation)%20%3C%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_linearSlop%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Abs(translation)%3B%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3C%3D%20this.m_lowerTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_lowerTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20this.m_lowerTranslation%20-%20translation%3B%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(translation%20%3E%3D%20this.m_upperTranslation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C2%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20translation%20-%20this.m_upperTranslation%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxLinearCorrection%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20linearError%20%3D%20translation%20-%20this.m_upperTranslation%3B%0A%20%20%20%20%20%20%20%20%20%20active%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_perp%20%3D%20b2Math.MulMV(R1%2C%20this.m_localYAxis1)%3B%0A%20%20%20%20%20%20this.m_s1%20%3D%20(dX%20%2B%20r1X)%20*%20this.m_perp.y%20-%20(dY%20%2B%20r1Y)%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20this.m_s2%20%3D%20r2X%20*%20this.m_perp.y%20-%20r2Y%20*%20this.m_perp.x%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20var%20C1X%20%3D%20this.m_perp.x%20*%20dX%20%2B%20this.m_perp.y%20*%20dY%3B%0A%20%20%20%20%20%20var%20C1Y%20%3D%20a2%20-%20a1%20-%20this.m_refAngle%3B%0A%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20b2Math.Abs(C1X))%3B%0A%20%20%20%20%20%20angularError%20%3D%20b2Math.Abs(C1Y)%3B%0A%20%20%20%20%20%20if%20(active)%20%7B%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.x%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.y%20%3D%20i1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.z%20%3D%20i1%20*%20this.m_s1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.x%20%3D%20this.m_K.col1.y%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.y%20%3D%20i1%20%2B%20i2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.z%20%3D%20i1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col3.x%20%3D%20this.m_K.col1.z%3B%0A%20%20%20%20%20%20%20%20this.m_K.col3.y%20%3D%20this.m_K.col2.z%3B%0A%20%20%20%20%20%20%20%20this.m_K.col3.z%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_a1%20*%20this.m_a1%20%2B%20i2%20*%20this.m_a2%20*%20this.m_a2%3B%0A%20%20%20%20%20%20%20%20this.m_K.Solve33(impulse%2C%20-C1X%2C%20-C1Y%2C%20-C2)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20m1%20%3D%20this.m_invMassA%3B%0A%20%20%20%20%20%20%20%20m2%20%3D%20this.m_invMassB%3B%0A%20%20%20%20%20%20%20%20i1%20%3D%20this.m_invIA%3B%0A%20%20%20%20%20%20%20%20i2%20%3D%20this.m_invIB%3B%0A%20%20%20%20%20%20%20%20var%20k11%20%3D%0A%20%20%20%20%20%20%20%20%20%20m1%20%2B%20m2%20%2B%20i1%20*%20this.m_s1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20var%20k12%20%3D%20i1%20*%20this.m_s1%20%2B%20i2%20*%20this.m_s2%3B%0A%20%20%20%20%20%20%20%20var%20k22%20%3D%20i1%20%2B%20i2%3B%0A%20%20%20%20%20%20%20%20this.m_K.col1.Set(k11%2C%20k12%2C%200.0)%3B%0A%20%20%20%20%20%20%20%20this.m_K.col2.Set(k12%2C%20k22%2C%200.0)%3B%0A%20%20%20%20%20%20%20%20var%20impulse1%20%3D%20this.m_K.Solve22(new%20b2Vec2()%2C%20-C1X%2C%20-C1Y)%3B%0A%20%20%20%20%20%20%20%20impulse.x%20%3D%20impulse1.x%3B%0A%20%20%20%20%20%20%20%20impulse.y%20%3D%20impulse1.y%3B%0A%20%20%20%20%20%20%20%20impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20PX%20%3D%20impulse.x%20*%20this.m_perp.x%20%2B%20impulse.z%20*%20this.m_axis.x%3B%0A%20%20%20%20%20%20var%20PY%20%3D%20impulse.x%20*%20this.m_perp.y%20%2B%20impulse.z%20*%20this.m_axis.y%3B%0A%20%20%20%20%20%20var%20L1%20%3D%20impulse.x%20*%20this.m_s1%20%2B%20impulse.y%20%2B%20impulse.z%20*%20this.m_a1%3B%0A%20%20%20%20%20%20var%20L2%20%3D%20impulse.x%20*%20this.m_s2%20%2B%20impulse.y%20%2B%20impulse.z%20*%20this.m_a2%3B%0A%20%20%20%20%20%20c1.x%20-%3D%20this.m_invMassA%20*%20PX%3B%0A%20%20%20%20%20%20c1.y%20-%3D%20this.m_invMassA%20*%20PY%3B%0A%20%20%20%20%20%20a1%20-%3D%20this.m_invIA%20*%20L1%3B%0A%20%20%20%20%20%20c2.x%20%2B%3D%20this.m_invMassB%20*%20PX%3B%0A%20%20%20%20%20%20c2.y%20%2B%3D%20this.m_invMassB%20*%20PY%3B%0A%20%20%20%20%20%20a2%20%2B%3D%20this.m_invIB%20*%20L2%3B%0A%20%20%20%20%20%20bA.m_sweep.a%20%3D%20a1%3B%0A%20%20%20%20%20%20bB.m_sweep.a%20%3D%20a2%3B%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20linearError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2PrismaticJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2PrismaticJointDef.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2PrismaticJointDef.b2PrismaticJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAxisA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJointDef.prototype.b2PrismaticJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_prismaticJoint%3B%0A%20%20%20%20%20%20this.localAxisA.Set(1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.referenceAngle%20%3D%200.0%3B%0A%20%20%20%20%20%20this.enableLimit%20%3D%20false%3B%0A%20%20%20%20%20%20this.lowerTranslation%20%3D%200.0%3B%0A%20%20%20%20%20%20this.upperTranslation%20%3D%200.0%3B%0A%20%20%20%20%20%20this.enableMotor%20%3D%20false%3B%0A%20%20%20%20%20%20this.maxMotorForce%20%3D%200.0%3B%0A%20%20%20%20%20%20this.motorSpeed%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PrismaticJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor%2C%20axis)%20%7B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchor)%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchor)%3B%0A%20%20%20%20%20%20this.localAxisA%20%3D%20this.bodyA.GetLocalVector(axis)%3B%0A%20%20%20%20%20%20this.referenceAngle%20%3D%20this.bodyB.GetAngle()%20-%20this.bodyA.GetAngle()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2PulleyJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2PulleyJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2PulleyJoint.b2PulleyJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_groundAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_groundAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_u1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_u2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u2.x%2C%0A%20%20%20%20%20%20%20%20inv_dt%20*%20this.m_impulse%20*%20this.m_u2.y%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetGroundAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20a%20%3D%20this.m_ground.m_xf.position.Copy()%3B%0A%20%20%20%20%20%20a.Add(this.m_groundAnchor1)%3B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetGroundAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20a%20%3D%20this.m_ground.m_xf.position.Copy()%3B%0A%20%20%20%20%20%20a.Add(this.m_groundAnchor2)%3B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetLength1%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20p%20%3D%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%20%20var%20sX%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor1.x%3B%0A%20%20%20%20%20%20var%20sY%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor1.y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p.x%20-%20sX%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p.y%20-%20sY%3B%0A%20%20%20%20%20%20return%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetLength2%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20var%20p%20%3D%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%20%20var%20sX%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor2.x%3B%0A%20%20%20%20%20%20var%20sY%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor2.y%3B%0A%20%20%20%20%20%20var%20dX%20%3D%20p.x%20-%20sX%3B%0A%20%20%20%20%20%20var%20dY%20%3D%20p.y%20-%20sY%3B%0A%20%20%20%20%20%20return%20Math.sqrt(dX%20*%20dX%20%2B%20dY%20*%20dY)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.GetRatio%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_ratio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.b2PulleyJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20tY%20%3D%200%3B%0A%20%20%20%20%20%20this.m_ground%20%3D%20this.m_bodyA.m_world.m_groundBody%3B%0A%20%20%20%20%20%20this.m_groundAnchor1.x%20%3D%0A%20%20%20%20%20%20%20%20def.groundAnchorA.x%20-%20this.m_ground.m_xf.position.x%3B%0A%20%20%20%20%20%20this.m_groundAnchor1.y%20%3D%0A%20%20%20%20%20%20%20%20def.groundAnchorA.y%20-%20this.m_ground.m_xf.position.y%3B%0A%20%20%20%20%20%20this.m_groundAnchor2.x%20%3D%0A%20%20%20%20%20%20%20%20def.groundAnchorB.x%20-%20this.m_ground.m_xf.position.x%3B%0A%20%20%20%20%20%20this.m_groundAnchor2.y%20%3D%0A%20%20%20%20%20%20%20%20def.groundAnchorB.y%20-%20this.m_ground.m_xf.position.y%3B%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_ratio%20%3D%20def.ratio%3B%0A%20%20%20%20%20%20this.m_constant%20%3D%20def.lengthA%20%2B%20this.m_ratio%20*%20def.lengthB%3B%0A%20%20%20%20%20%20this.m_maxLength1%20%3D%20b2Math.Min(%0A%20%20%20%20%20%20%20%20def.maxLengthA%2C%0A%20%20%20%20%20%20%20%20this.m_constant%20-%20this.m_ratio%20*%20b2PulleyJoint.b2_minPulleyLength%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.m_maxLength2%20%3D%20b2Math.Min(%0A%20%20%20%20%20%20%20%20def.maxLengthB%2C%0A%20%20%20%20%20%20%20%20(this.m_constant%20-%20b2PulleyJoint.b2_minPulleyLength)%20%2F%20this.m_ratio%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_limitImpulse1%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_limitImpulse2%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0A%20%20%20%20%20%20var%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0A%20%20%20%20%20%20var%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0A%20%20%20%20%20%20var%20s1X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor1.x%3B%0A%20%20%20%20%20%20var%20s1Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor1.y%3B%0A%20%20%20%20%20%20var%20s2X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor2.x%3B%0A%20%20%20%20%20%20var%20s2Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor2.y%3B%0A%20%20%20%20%20%20this.m_u1.Set(p1X%20-%20s1X%2C%20p1Y%20-%20s1Y)%3B%0A%20%20%20%20%20%20this.m_u2.Set(p2X%20-%20s2X%2C%20p2Y%20-%20s2Y)%3B%0A%20%20%20%20%20%20var%20length1%20%3D%20this.m_u1.Length()%3B%0A%20%20%20%20%20%20var%20length2%20%3D%20this.m_u2.Length()%3B%0A%20%20%20%20%20%20if%20(length1%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20this.m_u1.Multiply(1.0%20%2F%20length1)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_u1.SetZero()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(length2%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20this.m_u2.Multiply(1.0%20%2F%20length2)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_u2.SetZero()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20C%20%3D%20this.m_constant%20-%20length1%20-%20this.m_ratio%20*%20length2%3B%0A%20%20%20%20%20%20if%20(C%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20this.m_state%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_state%20%3D%20b2Joint.e_atUpperLimit%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(length1%20%3C%20this.m_maxLength1)%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState1%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState1%20%3D%20b2Joint.e_atUpperLimit%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(length2%20%3C%20this.m_maxLength2)%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState2%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState2%20%3D%20b2Joint.e_atUpperLimit%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20cr1u1%20%3D%20r1X%20*%20this.m_u1.y%20-%20r1Y%20*%20this.m_u1.x%3B%0A%20%20%20%20%20%20var%20cr2u2%20%3D%20r2X%20*%20this.m_u2.y%20-%20r2Y%20*%20this.m_u2.x%3B%0A%20%20%20%20%20%20this.m_limitMass1%20%3D%20bA.m_invMass%20%2B%20bA.m_invI%20*%20cr1u1%20*%20cr1u1%3B%0A%20%20%20%20%20%20this.m_limitMass2%20%3D%20bB.m_invMass%20%2B%20bB.m_invI%20*%20cr2u2%20*%20cr2u2%3B%0A%20%20%20%20%20%20this.m_pulleyMass%20%3D%0A%20%20%20%20%20%20%20%20this.m_limitMass1%20%2B%20this.m_ratio%20*%20this.m_ratio%20*%20this.m_limitMass2%3B%0A%20%20%20%20%20%20this.m_limitMass1%20%3D%201.0%20%2F%20this.m_limitMass1%3B%0A%20%20%20%20%20%20this.m_limitMass2%20%3D%201.0%20%2F%20this.m_limitMass2%3B%0A%20%20%20%20%20%20this.m_pulleyMass%20%3D%201.0%20%2F%20this.m_pulleyMass%3B%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20var%20P1X%20%3D%20(-this.m_impulse%20-%20this.m_limitImpulse1)%20*%20this.m_u1.x%3B%0A%20%20%20%20%20%20%20%20var%20P1Y%20%3D%20(-this.m_impulse%20-%20this.m_limitImpulse1)%20*%20this.m_u1.y%3B%0A%20%20%20%20%20%20%20%20var%20P2X%20%3D%0A%20%20%20%20%20%20%20%20%20%20(-this.m_ratio%20*%20this.m_impulse%20-%20this.m_limitImpulse2)%20*%20this.m_u2.x%3B%0A%20%20%20%20%20%20%20%20var%20P2Y%20%3D%0A%20%20%20%20%20%20%20%20%20%20(-this.m_ratio%20*%20this.m_impulse%20-%20this.m_limitImpulse2)%20*%20this.m_u2.y%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20P1X%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20P1Y%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20P1Y%20-%20r1Y%20*%20P1X)%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20P2X%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20P2Y%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20P2Y%20-%20r2Y%20*%20P2X)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20var%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20v1X%20%3D%200%3B%0A%20%20%20%20%20%20var%20v1Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20v2X%20%3D%200%3B%0A%20%20%20%20%20%20var%20v2Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20P1X%20%3D%200%3B%0A%20%20%20%20%20%20var%20P1Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20P2X%20%3D%200%3B%0A%20%20%20%20%20%20var%20P2Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20Cdot%20%3D%200%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20oldImpulse%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_state%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20v1X%20%3D%20bA.m_linearVelocity.x%20%2B%20-bA.m_angularVelocity%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20v1Y%20%3D%20bA.m_linearVelocity.y%20%2B%20bA.m_angularVelocity%20*%20r1X%3B%0A%20%20%20%20%20%20%20%20v2X%20%3D%20bB.m_linearVelocity.x%20%2B%20-bB.m_angularVelocity%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20v2Y%20%3D%20bB.m_linearVelocity.y%20%2B%20bB.m_angularVelocity%20*%20r2X%3B%0A%20%20%20%20%20%20%20%20Cdot%20%3D%0A%20%20%20%20%20%20%20%20%20%20-(this.m_u1.x%20*%20v1X%20%2B%20this.m_u1.y%20*%20v1Y)%20-%0A%20%20%20%20%20%20%20%20%20%20this.m_ratio%20*%20(this.m_u2.x%20*%20v2X%20%2B%20this.m_u2.y%20*%20v2Y)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_pulleyMass%20*%20-Cdot%3B%0A%20%20%20%20%20%20%20%20oldImpulse%20%3D%20this.m_impulse%3B%0A%20%20%20%20%20%20%20%20this.m_impulse%20%3D%20b2Math.Max(0.0%2C%20this.m_impulse%20%2B%20impulse)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_impulse%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20P1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0A%20%20%20%20%20%20%20%20P1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0A%20%20%20%20%20%20%20%20P2X%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.x%3B%0A%20%20%20%20%20%20%20%20P2Y%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.y%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20P1X%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20P1Y%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20P1Y%20-%20r1Y%20*%20P1X)%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20P2X%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20P2Y%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20P2Y%20-%20r2Y%20*%20P2X)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_limitState1%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20v1X%20%3D%20bA.m_linearVelocity.x%20%2B%20-bA.m_angularVelocity%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20v1Y%20%3D%20bA.m_linearVelocity.y%20%2B%20bA.m_angularVelocity%20*%20r1X%3B%0A%20%20%20%20%20%20%20%20Cdot%20%3D%20-(this.m_u1.x%20*%20v1X%20%2B%20this.m_u1.y%20*%20v1Y)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass1%20*%20Cdot%3B%0A%20%20%20%20%20%20%20%20oldImpulse%20%3D%20this.m_limitImpulse1%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse1%20%3D%20b2Math.Max(0.0%2C%20this.m_limitImpulse1%20%2B%20impulse)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_limitImpulse1%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20P1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0A%20%20%20%20%20%20%20%20P1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20%2B%3D%20bA.m_invMass%20*%20P1X%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20%2B%3D%20bA.m_invMass%20*%20P1Y%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20P1Y%20-%20r1Y%20*%20P1X)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_limitState2%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20v2X%20%3D%20bB.m_linearVelocity.x%20%2B%20-bB.m_angularVelocity%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20v2Y%20%3D%20bB.m_linearVelocity.y%20%2B%20bB.m_angularVelocity%20*%20r2X%3B%0A%20%20%20%20%20%20%20%20Cdot%20%3D%20-(this.m_u2.x%20*%20v2X%20%2B%20this.m_u2.y%20*%20v2Y)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass2%20*%20Cdot%3B%0A%20%20%20%20%20%20%20%20oldImpulse%20%3D%20this.m_limitImpulse2%3B%0A%20%20%20%20%20%20%20%20this.m_limitImpulse2%20%3D%20b2Math.Max(0.0%2C%20this.m_limitImpulse2%20%2B%20impulse)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_limitImpulse2%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20P2X%20%3D%20-impulse%20*%20this.m_u2.x%3B%0A%20%20%20%20%20%20%20%20P2Y%20%3D%20-impulse%20*%20this.m_u2.y%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20bB.m_invMass%20*%20P2X%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20bB.m_invMass%20*%20P2Y%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20P2Y%20-%20r2Y%20*%20P2X)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20s1X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor1.x%3B%0A%20%20%20%20%20%20var%20s1Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor1.y%3B%0A%20%20%20%20%20%20var%20s2X%20%3D%20this.m_ground.m_xf.position.x%20%2B%20this.m_groundAnchor2.x%3B%0A%20%20%20%20%20%20var%20s2Y%20%3D%20this.m_ground.m_xf.position.y%20%2B%20this.m_groundAnchor2.y%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%200%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%200%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20p1X%20%3D%200%3B%0A%20%20%20%20%20%20var%20p1Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20p2X%20%3D%200%3B%0A%20%20%20%20%20%20var%20p2Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20length1%20%3D%200%3B%0A%20%20%20%20%20%20var%20length2%20%3D%200%3B%0A%20%20%20%20%20%20var%20C%20%3D%200%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20oldImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20oldLimitPositionImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20linearError%20%3D%200.0%3B%0A%20%20%20%20%20%20if%20(this.m_state%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0A%20%20%20%20%20%20%20%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0A%20%20%20%20%20%20%20%20this.m_u1.Set(p1X%20-%20s1X%2C%20p1Y%20-%20s1Y)%3B%0A%20%20%20%20%20%20%20%20this.m_u2.Set(p2X%20-%20s2X%2C%20p2Y%20-%20s2Y)%3B%0A%20%20%20%20%20%20%20%20length1%20%3D%20this.m_u1.Length()%3B%0A%20%20%20%20%20%20%20%20length2%20%3D%20this.m_u2.Length()%3B%0A%20%20%20%20%20%20%20%20if%20(length1%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.Multiply(1.0%20%2F%20length1)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.SetZero()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(length2%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.Multiply(1.0%20%2F%20length2)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.SetZero()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20C%20%3D%20this.m_constant%20-%20length1%20-%20this.m_ratio%20*%20length2%3B%0A%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20-C)%3B%0A%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_pulleyMass%20*%20C%3B%0A%20%20%20%20%20%20%20%20p1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0A%20%20%20%20%20%20%20%20p2X%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.x%3B%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20-this.m_ratio%20*%20impulse%20*%20this.m_u2.y%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20%2B%3D%20bA.m_invMass%20*%20p1X%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20%2B%3D%20bA.m_invMass%20*%20p1Y%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20p1Y%20-%20r1Y%20*%20p1X)%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20p2X%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20p2Y%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20p2Y%20-%20r2Y%20*%20p2X)%3B%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_limitState1%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20p1X%20%3D%20bA.m_sweep.c.x%20%2B%20r1X%3B%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20bA.m_sweep.c.y%20%2B%20r1Y%3B%0A%20%20%20%20%20%20%20%20this.m_u1.Set(p1X%20-%20s1X%2C%20p1Y%20-%20s1Y)%3B%0A%20%20%20%20%20%20%20%20length1%20%3D%20this.m_u1.Length()%3B%0A%20%20%20%20%20%20%20%20if%20(length1%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.x%20*%3D%201.0%20%2F%20length1%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.y%20*%3D%201.0%20%2F%20length1%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u1.SetZero()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20C%20%3D%20this.m_maxLength1%20-%20length1%3B%0A%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20-C)%3B%0A%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass1%20*%20C%3B%0A%20%20%20%20%20%20%20%20p1X%20%3D%20-impulse%20*%20this.m_u1.x%3B%0A%20%20%20%20%20%20%20%20p1Y%20%3D%20-impulse%20*%20this.m_u1.y%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20%2B%3D%20bA.m_invMass%20*%20p1X%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20%2B%3D%20bA.m_invMass%20*%20p1Y%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20%2B%3D%20bA.m_invI%20*%20(r1X%20*%20p1Y%20-%20r1Y%20*%20p1X)%3B%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_limitState2%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20p2X%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%3B%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%3B%0A%20%20%20%20%20%20%20%20this.m_u2.Set(p2X%20-%20s2X%2C%20p2Y%20-%20s2Y)%3B%0A%20%20%20%20%20%20%20%20length2%20%3D%20this.m_u2.Length()%3B%0A%20%20%20%20%20%20%20%20if%20(length2%20%3E%20b2Settings.b2_linearSlop)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.x%20*%3D%201.0%20%2F%20length2%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.y%20*%3D%201.0%20%2F%20length2%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_u2.SetZero()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20C%20%3D%20this.m_maxLength2%20-%20length2%3B%0A%20%20%20%20%20%20%20%20linearError%20%3D%20b2Math.Max(linearError%2C%20-C)%3B%0A%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_linearSlop%2C%0A%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxLinearCorrection%2C%0A%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20-this.m_limitMass2%20*%20C%3B%0A%20%20%20%20%20%20%20%20p2X%20%3D%20-impulse%20*%20this.m_u2.x%3B%0A%20%20%20%20%20%20%20%20p2Y%20%3D%20-impulse%20*%20this.m_u2.y%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20p2X%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20p2Y%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20p2Y%20-%20r2Y%20*%20p2X)%3B%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20linearError%20%3C%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength%20%3D%202.0%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Box2D.inherit(b2PulleyJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2PulleyJointDef.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2PulleyJointDef.b2PulleyJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.groundAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.groundAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJointDef.prototype.b2PulleyJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_pulleyJoint%3B%0A%20%20%20%20%20%20this.groundAnchorA.Set(-1.0%2C%201.0)%3B%0A%20%20%20%20%20%20this.groundAnchorB.Set(1.0%2C%201.0)%3B%0A%20%20%20%20%20%20this.localAnchorA.Set(-1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.localAnchorB.Set(1.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.lengthA%20%3D%200.0%3B%0A%20%20%20%20%20%20this.maxLengthA%20%3D%200.0%3B%0A%20%20%20%20%20%20this.lengthB%20%3D%200.0%3B%0A%20%20%20%20%20%20this.maxLengthB%20%3D%200.0%3B%0A%20%20%20%20%20%20this.ratio%20%3D%201.0%3B%0A%20%20%20%20%20%20this.collideConnected%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2PulleyJointDef.prototype.Initialize%20%3D%20function%20(%0A%20%20%20%20%20%20bA%2C%0A%20%20%20%20%20%20bB%2C%0A%20%20%20%20%20%20gaA%2C%0A%20%20%20%20%20%20gaB%2C%0A%20%20%20%20%20%20anchorA%2C%0A%20%20%20%20%20%20anchorB%2C%0A%20%20%20%20%20%20r%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(r%20%3D%3D%3D%20undefined)%20r%20%3D%200%3B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.groundAnchorA.SetV(gaA)%3B%0A%20%20%20%20%20%20this.groundAnchorB.SetV(gaB)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchorA)%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchorB)%3B%0A%20%20%20%20%20%20var%20d1X%20%3D%20anchorA.x%20-%20gaA.x%3B%0A%20%20%20%20%20%20var%20d1Y%20%3D%20anchorA.y%20-%20gaA.y%3B%0A%20%20%20%20%20%20this.lengthA%20%3D%20Math.sqrt(d1X%20*%20d1X%20%2B%20d1Y%20*%20d1Y)%3B%0A%20%20%20%20%20%20var%20d2X%20%3D%20anchorB.x%20-%20gaB.x%3B%0A%20%20%20%20%20%20var%20d2Y%20%3D%20anchorB.y%20-%20gaB.y%3B%0A%20%20%20%20%20%20this.lengthB%20%3D%20Math.sqrt(d2X%20*%20d2X%20%2B%20d2Y%20*%20d2Y)%3B%0A%20%20%20%20%20%20this.ratio%20%3D%20r%3B%0A%20%20%20%20%20%20var%20C%20%3D%20this.lengthA%20%2B%20this.ratio%20*%20this.lengthB%3B%0A%20%20%20%20%20%20this.maxLengthA%20%3D%20C%20-%20this.ratio%20*%20b2PulleyJoint.b2_minPulleyLength%3B%0A%20%20%20%20%20%20this.maxLengthB%20%3D%20(C%20-%20b2PulleyJoint.b2_minPulleyLength)%20%2F%20this.ratio%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2RevoluteJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2RevoluteJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2RevoluteJoint.b2RevoluteJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.K%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.K1%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.K2%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.K3%20%3D%20new%20b2Mat22()%3B%0A%20%20%20%20%20%20this.impulse3%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.impulse2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.reduced%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor1%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchor2%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat33()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchor1)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchor2)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(inv_dt%20*%20this.m_impulse.x%2C%20inv_dt%20*%20this.m_impulse.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetJointAngle%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20this.m_bodyB.m_sweep.a%20-%20this.m_bodyA.m_sweep.a%20-%20this.m_referenceAngle%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetJointSpeed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.m_angularVelocity%20-%20this.m_bodyA.m_angularVelocity%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.IsLimitEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_enableLimit%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.EnableLimit%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetLowerLimit%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_lowerAngle%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetUpperLimit%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_upperAngle%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.SetLimits%20%3D%20function%20(lower%2C%20upper)%20%7B%0A%20%20%20%20%20%20if%20(lower%20%3D%3D%3D%20undefined)%20lower%20%3D%200%3B%0A%20%20%20%20%20%20if%20(upper%20%3D%3D%3D%20undefined)%20upper%20%3D%200%3B%0A%20%20%20%20%20%20this.m_lowerAngle%20%3D%20lower%3B%0A%20%20%20%20%20%20this.m_upperAngle%20%3D%20upper%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.IsMotorEnabled%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20return%20this.m_enableMotor%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.EnableMotor%20%3D%20function%20(flag)%20%7B%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20flag%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.SetMotorSpeed%20%3D%20function%20(speed)%20%7B%0A%20%20%20%20%20%20if%20(speed%20%3D%3D%3D%20undefined)%20speed%20%3D%200%3B%0A%20%20%20%20%20%20this.m_bodyA.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_bodyB.SetAwake(true)%3B%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20speed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetMotorSpeed%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_motorSpeed%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.SetMaxMotorTorque%20%3D%20function%20(torque)%20%7B%0A%20%20%20%20%20%20if%20(torque%20%3D%3D%3D%20undefined)%20torque%20%3D%200%3B%0A%20%20%20%20%20%20this.m_maxMotorTorque%20%3D%20torque%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.GetMotorTorque%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_maxMotorTorque%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.b2RevoluteJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20this.m_localAnchor1.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchor2.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_referenceAngle%20%3D%20def.referenceAngle%3B%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20this.m_lowerAngle%20%3D%20def.lowerAngle%3B%0A%20%20%20%20%20%20this.m_upperAngle%20%3D%20def.upperAngle%3B%0A%20%20%20%20%20%20this.m_maxMotorTorque%20%3D%20def.maxMotorTorque%3B%0A%20%20%20%20%20%20this.m_motorSpeed%20%3D%20def.motorSpeed%3B%0A%20%20%20%20%20%20this.m_enableLimit%20%3D%20def.enableLimit%3B%0A%20%20%20%20%20%20this.m_enableMotor%20%3D%20def.enableMotor%3B%0A%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%7C%7C%20this.m_enableLimit)%20%7B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20m1%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20m2%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20i1%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20i2%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20this.m_mass.col1.x%20%3D%20m1%20%2B%20m2%20%2B%20r1Y%20*%20r1Y%20*%20i1%20%2B%20r2Y%20*%20r2Y%20*%20i2%3B%0A%20%20%20%20%20%20this.m_mass.col2.x%20%3D%20-r1Y%20*%20r1X%20*%20i1%20-%20r2Y%20*%20r2X%20*%20i2%3B%0A%20%20%20%20%20%20this.m_mass.col3.x%20%3D%20-r1Y%20*%20i1%20-%20r2Y%20*%20i2%3B%0A%20%20%20%20%20%20this.m_mass.col1.y%20%3D%20this.m_mass.col2.x%3B%0A%20%20%20%20%20%20this.m_mass.col2.y%20%3D%20m1%20%2B%20m2%20%2B%20r1X%20*%20r1X%20*%20i1%20%2B%20r2X%20*%20r2X%20*%20i2%3B%0A%20%20%20%20%20%20this.m_mass.col3.y%20%3D%20r1X%20*%20i1%20%2B%20r2X%20*%20i2%3B%0A%20%20%20%20%20%20this.m_mass.col1.z%20%3D%20this.m_mass.col3.x%3B%0A%20%20%20%20%20%20this.m_mass.col2.z%20%3D%20this.m_mass.col3.y%3B%0A%20%20%20%20%20%20this.m_mass.col3.z%20%3D%20i1%20%2B%20i2%3B%0A%20%20%20%20%20%20this.m_motorMass%20%3D%201.0%20%2F%20(i1%20%2B%20i2)%3B%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_enableLimit)%20%7B%0A%20%20%20%20%20%20%20%20var%20jointAngle%20%3D%20bB.m_sweep.a%20-%20bA.m_sweep.a%20-%20this.m_referenceAngle%3B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20b2Math.Abs(this.m_upperAngle%20-%20this.m_lowerAngle)%20%3C%0A%20%20%20%20%20%20%20%20%20%202.0%20*%20b2Settings.b2_angularSlop%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_equalLimits%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointAngle%20%3C%3D%20this.m_lowerAngle)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atLowerLimit%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(jointAngle%20%3E%3D%20this.m_upperAngle)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.m_limitState%20!%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_atUpperLimit%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_limitState%20%3D%20b2Joint.e_inactiveLimit%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20var%20PX%20%3D%20this.m_impulse.x%3B%0A%20%20%20%20%20%20%20%20var%20PY%20%3D%20this.m_impulse.y%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20m1%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20m1%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20(r1X%20*%20PY%20-%20r1Y%20*%20PX%20%2B%20this.m_motorImpulse%20%2B%20this.m_impulse.z)%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20m2%20*%20PX%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20m2%20*%20PY%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20i2%20*%20(r2X%20*%20PY%20-%20r2Y%20*%20PX%20%2B%20this.m_motorImpulse%20%2B%20this.m_impulse.z)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20newImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20r1X%20%3D%200%3B%0A%20%20%20%20%20%20var%20r1Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20r2X%20%3D%200%3B%0A%20%20%20%20%20%20var%20r2Y%20%3D%200%3B%0A%20%20%20%20%20%20var%20v1%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w1%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20v2%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20w2%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20m1%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20m2%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20i1%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20i2%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20if%20(this.m_enableMotor%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_equalLimits)%20%7B%0A%20%20%20%20%20%20%20%20var%20Cdot%20%3D%20w2%20-%20w1%20-%20this.m_motorSpeed%3B%0A%20%20%20%20%20%20%20%20var%20impulse%20%3D%20this.m_motorMass%20*%20-Cdot%3B%0A%20%20%20%20%20%20%20%20var%20oldImpulse%20%3D%20this.m_motorImpulse%3B%0A%20%20%20%20%20%20%20%20var%20maxImpulse%20%3D%20step.dt%20*%20this.m_maxMotorTorque%3B%0A%20%20%20%20%20%20%20%20this.m_motorImpulse%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20this.m_motorImpulse%20%2B%20impulse%2C%0A%20%20%20%20%20%20%20%20%20%20-maxImpulse%2C%0A%20%20%20%20%20%20%20%20%20%20maxImpulse%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20impulse%20%3D%20this.m_motorImpulse%20-%20oldImpulse%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20i1%20*%20impulse%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20i2%20*%20impulse%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20var%20Cdot1X%20%3D%20v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20var%20Cdot1Y%20%3D%20v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X%3B%0A%20%20%20%20%20%20%20%20var%20Cdot2%20%3D%20w2%20-%20w1%3B%0A%20%20%20%20%20%20%20%20this.m_mass.Solve33(this.impulse3%2C%20-Cdot1X%2C%20-Cdot1Y%2C%20-Cdot2)%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_equalLimits)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.m_impulse.Add(this.impulse3)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20this.m_impulse.z%20%2B%20this.impulse3.z%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(newImpulse%20%3C%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_mass.Solve22(this.reduced%2C%20-Cdot1X%2C%20-Cdot1Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.x%20%3D%20this.reduced.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.y%20%3D%20this.reduced.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.z%20%3D%20-this.m_impulse.z%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20this.reduced.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20this.reduced.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20newImpulse%20%3D%20this.m_impulse.z%20%2B%20this.impulse3.z%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(newImpulse%20%3E%200.0)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_mass.Solve22(this.reduced%2C%20-Cdot1X%2C%20-Cdot1Y)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.x%20%3D%20this.reduced.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.y%20%3D%20this.reduced.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.impulse3.z%20%3D%20-this.m_impulse.z%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20this.reduced.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20this.reduced.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.m_impulse.z%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20m1%20*%20this.impulse3.x%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20m1%20*%20this.impulse3.y%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%0A%20%20%20%20%20%20%20%20%20%20i1%20*%20(r1X%20*%20this.impulse3.y%20-%20r1Y%20*%20this.impulse3.x%20%2B%20this.impulse3.z)%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20m2%20*%20this.impulse3.x%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20m2%20*%20this.impulse3.y%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20i2%20*%20(r2X%20*%20this.impulse3.y%20-%20r2Y%20*%20this.impulse3.x%20%2B%20this.impulse3.z)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20var%20CdotX%20%3D%20v2.x%20%2B%20-w2%20*%20r2Y%20-%20v1.x%20-%20-w1%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20var%20CdotY%20%3D%20v2.y%20%2B%20w2%20*%20r2X%20-%20v1.y%20-%20w1%20*%20r1X%3B%0A%20%20%20%20%20%20%20%20this.m_mass.Solve22(this.impulse2%2C%20-CdotX%2C%20-CdotY)%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20%2B%3D%20this.impulse2.x%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20%2B%3D%20this.impulse2.y%3B%0A%20%20%20%20%20%20%20%20v1.x%20-%3D%20m1%20*%20this.impulse2.x%3B%0A%20%20%20%20%20%20%20%20v1.y%20-%3D%20m1%20*%20this.impulse2.y%3B%0A%20%20%20%20%20%20%20%20w1%20-%3D%20i1%20*%20(r1X%20*%20this.impulse2.y%20-%20r1Y%20*%20this.impulse2.x)%3B%0A%20%20%20%20%20%20%20%20v2.x%20%2B%3D%20m2%20*%20this.impulse2.x%3B%0A%20%20%20%20%20%20%20%20v2.y%20%2B%3D%20m2%20*%20this.impulse2.y%3B%0A%20%20%20%20%20%20%20%20w2%20%2B%3D%20i2%20*%20(r2X%20*%20this.impulse2.y%20-%20r2Y%20*%20this.impulse2.x)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20bA.m_linearVelocity.SetV(v1)%3B%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20w1%3B%0A%20%20%20%20%20%20bB.m_linearVelocity.SetV(v2)%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20w2%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20oldLimitImpulse%20%3D%200%3B%0A%20%20%20%20%20%20var%20C%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20angularError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20positionError%20%3D%200.0%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20impulseX%20%3D%200%3B%0A%20%20%20%20%20%20var%20impulseY%20%3D%200%3B%0A%20%20%20%20%20%20if%20(this.m_enableLimit%20%26%26%20this.m_limitState%20!%3D%20b2Joint.e_inactiveLimit)%20%7B%0A%20%20%20%20%20%20%20%20var%20angle%20%3D%20bB.m_sweep.a%20-%20bA.m_sweep.a%20-%20this.m_referenceAngle%3B%0A%20%20%20%20%20%20%20%20var%20limitImpulse%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_equalLimits)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20angle%20-%20this.m_lowerAngle%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxAngularCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxAngularCorrection%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20limitImpulse%20%3D%20-this.m_motorMass%20*%20C%3B%0A%20%20%20%20%20%20%20%20%20%20angularError%20%3D%20b2Math.Abs(C)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atLowerLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20angle%20-%20this.m_lowerAngle%3B%0A%20%20%20%20%20%20%20%20%20%20angularError%20%3D%20-C%3B%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20C%20%2B%20b2Settings.b2_angularSlop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20-b2Settings.b2_maxAngularCorrection%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20limitImpulse%20%3D%20-this.m_motorMass%20*%20C%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.m_limitState%20%3D%3D%20b2Joint.e_atUpperLimit)%20%7B%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20angle%20-%20this.m_upperAngle%3B%0A%20%20%20%20%20%20%20%20%20%20angularError%20%3D%20C%3B%0A%20%20%20%20%20%20%20%20%20%20C%20%3D%20b2Math.Clamp(%0A%20%20%20%20%20%20%20%20%20%20%20%20C%20-%20b2Settings.b2_angularSlop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%200.0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20b2Settings.b2_maxAngularCorrection%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20limitImpulse%20%3D%20-this.m_motorMass%20*%20C%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20bA.m_invI%20*%20limitImpulse%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20limitImpulse%3B%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20%20%20var%20r1X%20%3D%20this.m_localAnchor1.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20var%20r1Y%20%3D%20this.m_localAnchor1.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r1X%20%2B%20tMat.col2.x%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1Y%20%3D%20tMat.col1.y%20*%20r1X%20%2B%20tMat.col2.y%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20r1X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20%20%20var%20r2X%20%3D%20this.m_localAnchor2.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20%20%20var%20r2Y%20%3D%20this.m_localAnchor2.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20r2X%20%2B%20tMat.col2.x%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2Y%20%3D%20tMat.col1.y%20*%20r2X%20%2B%20tMat.col2.y%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20r2X%20%3D%20tX%3B%0A%20%20%20%20%20%20%20%20var%20CX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0A%20%20%20%20%20%20%20%20var%20CY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0A%20%20%20%20%20%20%20%20var%20CLengthSquared%20%3D%20CX%20*%20CX%20%2B%20CY%20*%20CY%3B%0A%20%20%20%20%20%20%20%20var%20CLength%20%3D%20Math.sqrt(CLengthSquared)%3B%0A%20%20%20%20%20%20%20%20positionError%20%3D%20CLength%3B%0A%20%20%20%20%20%20%20%20var%20invMass1%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invMass2%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20%20%20var%20invI1%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20invI2%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20%20%20var%20k_allowedStretch%20%3D%2010.0%20*%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%20%20%20%20if%20(CLengthSquared%20%3E%20k_allowedStretch%20*%20k_allowedStretch)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20uX%20%3D%20CX%20%2F%20CLength%3B%0A%20%20%20%20%20%20%20%20%20%20var%20uY%20%3D%20CY%20%2F%20CLength%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k%20%3D%20invMass1%20%2B%20invMass2%3B%0A%20%20%20%20%20%20%20%20%20%20var%20m%20%3D%201.0%20%2F%20k%3B%0A%20%20%20%20%20%20%20%20%20%20impulseX%20%3D%20m%20*%20-CX%3B%0A%20%20%20%20%20%20%20%20%20%20impulseY%20%3D%20m%20*%20-CY%3B%0A%20%20%20%20%20%20%20%20%20%20var%20k_beta%20%3D%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20k_beta%20*%20invMass1%20*%20impulseX%3B%0A%20%20%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20k_beta%20*%20invMass1%20*%20impulseY%3B%0A%20%20%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20k_beta%20*%20invMass2%20*%20impulseX%3B%0A%20%20%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20k_beta%20*%20invMass2%20*%20impulseY%3B%0A%20%20%20%20%20%20%20%20%20%20CX%20%3D%20bB.m_sweep.c.x%20%2B%20r2X%20-%20bA.m_sweep.c.x%20-%20r1X%3B%0A%20%20%20%20%20%20%20%20%20%20CY%20%3D%20bB.m_sweep.c.y%20%2B%20r2Y%20-%20bA.m_sweep.c.y%20-%20r1Y%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.K1.col1.x%20%3D%20invMass1%20%2B%20invMass2%3B%0A%20%20%20%20%20%20%20%20this.K1.col2.x%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.K1.col1.y%20%3D%200.0%3B%0A%20%20%20%20%20%20%20%20this.K1.col2.y%20%3D%20invMass1%20%2B%20invMass2%3B%0A%20%20%20%20%20%20%20%20this.K2.col1.x%20%3D%20invI1%20*%20r1Y%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20this.K2.col2.x%20%3D%20-invI1%20*%20r1X%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20this.K2.col1.y%20%3D%20-invI1%20*%20r1X%20*%20r1Y%3B%0A%20%20%20%20%20%20%20%20this.K2.col2.y%20%3D%20invI1%20*%20r1X%20*%20r1X%3B%0A%20%20%20%20%20%20%20%20this.K3.col1.x%20%3D%20invI2%20*%20r2Y%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20this.K3.col2.x%20%3D%20-invI2%20*%20r2X%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20this.K3.col1.y%20%3D%20-invI2%20*%20r2X%20*%20r2Y%3B%0A%20%20%20%20%20%20%20%20this.K3.col2.y%20%3D%20invI2%20*%20r2X%20*%20r2X%3B%0A%20%20%20%20%20%20%20%20this.K.SetM(this.K1)%3B%0A%20%20%20%20%20%20%20%20this.K.AddM(this.K2)%3B%0A%20%20%20%20%20%20%20%20this.K.AddM(this.K3)%3B%0A%20%20%20%20%20%20%20%20this.K.Solve(b2RevoluteJoint.tImpulse%2C%20-CX%2C%20-CY)%3B%0A%20%20%20%20%20%20%20%20impulseX%20%3D%20b2RevoluteJoint.tImpulse.x%3B%0A%20%20%20%20%20%20%20%20impulseY%20%3D%20b2RevoluteJoint.tImpulse.y%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20bA.m_invMass%20*%20impulseX%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20bA.m_invMass%20*%20impulseY%3B%0A%20%20%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20bA.m_invI%20*%20(r1X%20*%20impulseY%20-%20r1Y%20*%20impulseX)%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20bB.m_invMass%20*%20impulseX%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20bB.m_invMass%20*%20impulseY%3B%0A%20%20%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20bB.m_invI%20*%20(r2X%20*%20impulseY%20-%20r2Y%20*%20impulseX)%3B%0A%20%20%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20positionError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.postDefs.push(function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2RevoluteJoint.tImpulse%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20Box2D.inherit(b2RevoluteJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2RevoluteJointDef.prototype.__super%20%3D%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2RevoluteJointDef.b2RevoluteJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJointDef.prototype.b2RevoluteJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_revoluteJoint%3B%0A%20%20%20%20%20%20this.localAnchorA.Set(0.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.localAnchorB.Set(0.0%2C%200.0)%3B%0A%20%20%20%20%20%20this.referenceAngle%20%3D%200.0%3B%0A%20%20%20%20%20%20this.lowerAngle%20%3D%200.0%3B%0A%20%20%20%20%20%20this.upperAngle%20%3D%200.0%3B%0A%20%20%20%20%20%20this.maxMotorTorque%20%3D%200.0%3B%0A%20%20%20%20%20%20this.motorSpeed%20%3D%200.0%3B%0A%20%20%20%20%20%20this.enableLimit%20%3D%20false%3B%0A%20%20%20%20%20%20this.enableMotor%20%3D%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2RevoluteJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor)%20%7B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20this.bodyA.GetLocalPoint(anchor)%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20this.bodyB.GetLocalPoint(anchor)%3B%0A%20%20%20%20%20%20this.referenceAngle%20%3D%20this.bodyB.GetAngle()%20-%20this.bodyA.GetAngle()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2WeldJoint%2C%20Box2D.Dynamics.Joints.b2Joint)%3B%0A%20%20%20%20b2WeldJoint.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2Joint.prototype%3B%0A%20%20%20%20b2WeldJoint.b2WeldJoint%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.m_localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.m_impulse%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat33()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.GetAnchorA%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyA.GetWorldPoint(this.m_localAnchorA)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.GetAnchorB%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_bodyB.GetWorldPoint(this.m_localAnchorB)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.GetReactionForce%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20new%20b2Vec2(inv_dt%20*%20this.m_impulse.x%2C%20inv_dt%20*%20this.m_impulse.y)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.GetReactionTorque%20%3D%20function%20(inv_dt)%20%7B%0A%20%20%20%20%20%20if%20(inv_dt%20%3D%3D%3D%20undefined)%20inv_dt%20%3D%200%3B%0A%20%20%20%20%20%20return%20inv_dt%20*%20this.m_impulse.z%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.b2WeldJoint%20%3D%20function%20(def)%20%7B%0A%20%20%20%20%20%20this.__super.b2Joint.call(this%2C%20def)%3B%0A%20%20%20%20%20%20this.m_localAnchorA.SetV(def.localAnchorA)%3B%0A%20%20%20%20%20%20this.m_localAnchorB.SetV(def.localAnchorB)%3B%0A%20%20%20%20%20%20this.m_referenceAngle%20%3D%20def.referenceAngle%3B%0A%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20this.m_mass%20%3D%20new%20b2Mat33()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.InitVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20this.m_mass.col1.x%20%3D%20mA%20%2B%20mB%20%2B%20rAY%20*%20rAY%20*%20iA%20%2B%20rBY%20*%20rBY%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col2.x%20%3D%20-rAY%20*%20rAX%20*%20iA%20-%20rBY%20*%20rBX%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col3.x%20%3D%20-rAY%20*%20iA%20-%20rBY%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col1.y%20%3D%20this.m_mass.col2.x%3B%0A%20%20%20%20%20%20this.m_mass.col2.y%20%3D%20mA%20%2B%20mB%20%2B%20rAX%20*%20rAX%20*%20iA%20%2B%20rBX%20*%20rBX%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col3.y%20%3D%20rAX%20*%20iA%20%2B%20rBX%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col1.z%20%3D%20this.m_mass.col3.x%3B%0A%20%20%20%20%20%20this.m_mass.col2.z%20%3D%20this.m_mass.col3.y%3B%0A%20%20%20%20%20%20this.m_mass.col3.z%20%3D%20iA%20%2B%20iB%3B%0A%20%20%20%20%20%20if%20(step.warmStarting)%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.x%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.y%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20this.m_impulse.z%20*%3D%20step.dtRatio%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.x%20-%3D%20mA%20*%20this.m_impulse.x%3B%0A%20%20%20%20%20%20%20%20bA.m_linearVelocity.y%20-%3D%20mA%20*%20this.m_impulse.y%3B%0A%20%20%20%20%20%20%20%20bA.m_angularVelocity%20-%3D%0A%20%20%20%20%20%20%20%20%20%20iA%20*%0A%20%20%20%20%20%20%20%20%20%20(rAX%20*%20this.m_impulse.y%20-%20rAY%20*%20this.m_impulse.x%20%2B%20this.m_impulse.z)%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.x%20%2B%3D%20mB%20*%20this.m_impulse.x%3B%0A%20%20%20%20%20%20%20%20bB.m_linearVelocity.y%20%2B%3D%20mB%20*%20this.m_impulse.y%3B%0A%20%20%20%20%20%20%20%20bB.m_angularVelocity%20%2B%3D%0A%20%20%20%20%20%20%20%20%20%20iB%20*%0A%20%20%20%20%20%20%20%20%20%20(rBX%20*%20this.m_impulse.y%20-%20rBY%20*%20this.m_impulse.x%20%2B%20this.m_impulse.z)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this.m_impulse.SetZero()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.SolveVelocityConstraints%20%3D%20function%20(step)%20%7B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20var%20vA%20%3D%20bA.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20wA%20%3D%20bA.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20vB%20%3D%20bB.m_linearVelocity%3B%0A%20%20%20%20%20%20var%20wB%20%3D%20bB.m_angularVelocity%3B%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20Cdot1X%20%3D%20vB.x%20-%20wB%20*%20rBY%20-%20vA.x%20%2B%20wA%20*%20rAY%3B%0A%20%20%20%20%20%20var%20Cdot1Y%20%3D%20vB.y%20%2B%20wB%20*%20rBX%20-%20vA.y%20-%20wA%20*%20rAX%3B%0A%20%20%20%20%20%20var%20Cdot2%20%3D%20wB%20-%20wA%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.m_mass.Solve33(impulse%2C%20-Cdot1X%2C%20-Cdot1Y%2C%20-Cdot2)%3B%0A%20%20%20%20%20%20this.m_impulse.Add(impulse)%3B%0A%20%20%20%20%20%20vA.x%20-%3D%20mA%20*%20impulse.x%3B%0A%20%20%20%20%20%20vA.y%20-%3D%20mA%20*%20impulse.y%3B%0A%20%20%20%20%20%20wA%20-%3D%20iA%20*%20(rAX%20*%20impulse.y%20-%20rAY%20*%20impulse.x%20%2B%20impulse.z)%3B%0A%20%20%20%20%20%20vB.x%20%2B%3D%20mB%20*%20impulse.x%3B%0A%20%20%20%20%20%20vB.y%20%2B%3D%20mB%20*%20impulse.y%3B%0A%20%20%20%20%20%20wB%20%2B%3D%20iB%20*%20(rBX%20*%20impulse.y%20-%20rBY%20*%20impulse.x%20%2B%20impulse.z)%3B%0A%20%20%20%20%20%20bA.m_angularVelocity%20%3D%20wA%3B%0A%20%20%20%20%20%20bB.m_angularVelocity%20%3D%20wB%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJoint.prototype.SolvePositionConstraints%20%3D%20function%20(baumgarte)%20%7B%0A%20%20%20%20%20%20if%20(baumgarte%20%3D%3D%3D%20undefined)%20baumgarte%20%3D%200%3B%0A%20%20%20%20%20%20var%20tMat%3B%0A%20%20%20%20%20%20var%20tX%20%3D%200%3B%0A%20%20%20%20%20%20var%20bA%20%3D%20this.m_bodyA%3B%0A%20%20%20%20%20%20var%20bB%20%3D%20this.m_bodyB%3B%0A%20%20%20%20%20%20tMat%20%3D%20bA.m_xf.R%3B%0A%20%20%20%20%20%20var%20rAX%20%3D%20this.m_localAnchorA.x%20-%20bA.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rAY%20%3D%20this.m_localAnchorA.y%20-%20bA.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rAX%20%2B%20tMat.col2.x%20*%20rAY%3B%0A%20%20%20%20%20%20rAY%20%3D%20tMat.col1.y%20*%20rAX%20%2B%20tMat.col2.y%20*%20rAY%3B%0A%20%20%20%20%20%20rAX%20%3D%20tX%3B%0A%20%20%20%20%20%20tMat%20%3D%20bB.m_xf.R%3B%0A%20%20%20%20%20%20var%20rBX%20%3D%20this.m_localAnchorB.x%20-%20bB.m_sweep.localCenter.x%3B%0A%20%20%20%20%20%20var%20rBY%20%3D%20this.m_localAnchorB.y%20-%20bB.m_sweep.localCenter.y%3B%0A%20%20%20%20%20%20tX%20%3D%20tMat.col1.x%20*%20rBX%20%2B%20tMat.col2.x%20*%20rBY%3B%0A%20%20%20%20%20%20rBY%20%3D%20tMat.col1.y%20*%20rBX%20%2B%20tMat.col2.y%20*%20rBY%3B%0A%20%20%20%20%20%20rBX%20%3D%20tX%3B%0A%20%20%20%20%20%20var%20mA%20%3D%20bA.m_invMass%3B%0A%20%20%20%20%20%20var%20mB%20%3D%20bB.m_invMass%3B%0A%20%20%20%20%20%20var%20iA%20%3D%20bA.m_invI%3B%0A%20%20%20%20%20%20var%20iB%20%3D%20bB.m_invI%3B%0A%20%20%20%20%20%20var%20C1X%20%3D%20bB.m_sweep.c.x%20%2B%20rBX%20-%20bA.m_sweep.c.x%20-%20rAX%3B%0A%20%20%20%20%20%20var%20C1Y%20%3D%20bB.m_sweep.c.y%20%2B%20rBY%20-%20bA.m_sweep.c.y%20-%20rAY%3B%0A%20%20%20%20%20%20var%20C2%20%3D%20bB.m_sweep.a%20-%20bA.m_sweep.a%20-%20this.m_referenceAngle%3B%0A%20%20%20%20%20%20var%20k_allowedStretch%20%3D%2010.0%20*%20b2Settings.b2_linearSlop%3B%0A%20%20%20%20%20%20var%20positionError%20%3D%20Math.sqrt(C1X%20*%20C1X%20%2B%20C1Y%20*%20C1Y)%3B%0A%20%20%20%20%20%20var%20angularError%20%3D%20b2Math.Abs(C2)%3B%0A%20%20%20%20%20%20if%20(positionError%20%3E%20k_allowedStretch)%20%7B%0A%20%20%20%20%20%20%20%20iA%20*%3D%201.0%3B%0A%20%20%20%20%20%20%20%20iB%20*%3D%201.0%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.m_mass.col1.x%20%3D%20mA%20%2B%20mB%20%2B%20rAY%20*%20rAY%20*%20iA%20%2B%20rBY%20*%20rBY%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col2.x%20%3D%20-rAY%20*%20rAX%20*%20iA%20-%20rBY%20*%20rBX%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col3.x%20%3D%20-rAY%20*%20iA%20-%20rBY%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col1.y%20%3D%20this.m_mass.col2.x%3B%0A%20%20%20%20%20%20this.m_mass.col2.y%20%3D%20mA%20%2B%20mB%20%2B%20rAX%20*%20rAX%20*%20iA%20%2B%20rBX%20*%20rBX%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col3.y%20%3D%20rAX%20*%20iA%20%2B%20rBX%20*%20iB%3B%0A%20%20%20%20%20%20this.m_mass.col1.z%20%3D%20this.m_mass.col3.x%3B%0A%20%20%20%20%20%20this.m_mass.col2.z%20%3D%20this.m_mass.col3.y%3B%0A%20%20%20%20%20%20this.m_mass.col3.z%20%3D%20iA%20%2B%20iB%3B%0A%20%20%20%20%20%20var%20impulse%20%3D%20new%20b2Vec3()%3B%0A%20%20%20%20%20%20this.m_mass.Solve33(impulse%2C%20-C1X%2C%20-C1Y%2C%20-C2)%3B%0A%20%20%20%20%20%20bA.m_sweep.c.x%20-%3D%20mA%20*%20impulse.x%3B%0A%20%20%20%20%20%20bA.m_sweep.c.y%20-%3D%20mA%20*%20impulse.y%3B%0A%20%20%20%20%20%20bA.m_sweep.a%20-%3D%20iA%20*%20(rAX%20*%20impulse.y%20-%20rAY%20*%20impulse.x%20%2B%20impulse.z)%3B%0A%20%20%20%20%20%20bB.m_sweep.c.x%20%2B%3D%20mB%20*%20impulse.x%3B%0A%20%20%20%20%20%20bB.m_sweep.c.y%20%2B%3D%20mB%20*%20impulse.y%3B%0A%20%20%20%20%20%20bB.m_sweep.a%20%2B%3D%20iB%20*%20(rBX%20*%20impulse.y%20-%20rBY%20*%20impulse.x%20%2B%20impulse.z)%3B%0A%20%20%20%20%20%20bA.SynchronizeTransform()%3B%0A%20%20%20%20%20%20bB.SynchronizeTransform()%3B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20positionError%20%3C%3D%20b2Settings.b2_linearSlop%20%26%26%0A%20%20%20%20%20%20%20%20angularError%20%3C%3D%20b2Settings.b2_angularSlop%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20Box2D.inherit(b2WeldJointDef%2C%20Box2D.Dynamics.Joints.b2JointDef)%3B%0A%20%20%20%20b2WeldJointDef.prototype.__super%20%3D%20Box2D.Dynamics.Joints.b2JointDef.prototype%3B%0A%20%20%20%20b2WeldJointDef.b2WeldJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this%2C%20arguments)%3B%0A%20%20%20%20%20%20this.localAnchorA%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%20%20this.localAnchorB%20%3D%20new%20b2Vec2()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJointDef.prototype.b2WeldJointDef%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.__super.b2JointDef.call(this)%3B%0A%20%20%20%20%20%20this.type%20%3D%20b2Joint.e_weldJoint%3B%0A%20%20%20%20%20%20this.referenceAngle%20%3D%200.0%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2WeldJointDef.prototype.Initialize%20%3D%20function%20(bA%2C%20bB%2C%20anchor)%20%7B%0A%20%20%20%20%20%20this.bodyA%20%3D%20bA%3B%0A%20%20%20%20%20%20this.bodyB%20%3D%20bB%3B%0A%20%20%20%20%20%20this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchor))%3B%0A%20%20%20%20%20%20this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchor))%3B%0A%20%20%20%20%20%20this.referenceAngle%20%3D%20this.bodyB.GetAngle()%20-%20this.bodyA.GetAngle()%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D)()%3B%0A%20%20(function%20()%20%7B%0A%20%20%20%20var%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%3B%0A%20%20%20%20b2DebugDraw.b2DebugDraw%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_drawScale%20%3D%201.0%3B%0A%20%20%20%20%20%20this.m_lineThickness%20%3D%201.0%3B%0A%20%20%20%20%20%20this.m_alpha%20%3D%201.0%3B%0A%20%20%20%20%20%20this.m_fillAlpha%20%3D%201.0%3B%0A%20%20%20%20%20%20this.m_xformScale%20%3D%201.0%3B%0A%20%20%20%20%20%20var%20__this%20%3D%20this%3B%0A%20%20%20%20%20%20%2F%2F%23WORKAROUND%0A%20%20%20%20%20%20this.m_sprite%20%3D%20%7B%0A%20%20%20%20%20%20%20%20graphics%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20clear%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20__this.m_ctx.clearRect(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20__this.m_ctx.canvas.width%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20__this.m_ctx.canvas.height%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype._color%20%3D%20function%20(color%2C%20alpha)%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20%22rgba(%22%20%2B%0A%20%20%20%20%20%20%20%20((color%20%26%200xff0000)%20%3E%3E%2016)%20%2B%0A%20%20%20%20%20%20%20%20%22%2C%22%20%2B%0A%20%20%20%20%20%20%20%20((color%20%26%200xff00)%20%3E%3E%208)%20%2B%0A%20%20%20%20%20%20%20%20%22%2C%22%20%2B%0A%20%20%20%20%20%20%20%20(color%20%26%200xff)%20%2B%0A%20%20%20%20%20%20%20%20%22%2C%22%20%2B%0A%20%20%20%20%20%20%20%20alpha%20%2B%0A%20%20%20%20%20%20%20%20%22)%22%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.b2DebugDraw%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20this.m_drawFlags%20%3D%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetFlags%20%3D%20function%20(flags)%20%7B%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0A%20%20%20%20%20%20this.m_drawFlags%20%3D%20flags%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetFlags%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_drawFlags%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.AppendFlags%20%3D%20function%20(flags)%20%7B%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0A%20%20%20%20%20%20this.m_drawFlags%20%7C%3D%20flags%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.ClearFlags%20%3D%20function%20(flags)%20%7B%0A%20%20%20%20%20%20if%20(flags%20%3D%3D%3D%20undefined)%20flags%20%3D%200%3B%0A%20%20%20%20%20%20this.m_drawFlags%20%26%3D%20~flags%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetSprite%20%3D%20function%20(sprite)%20%7B%0A%20%20%20%20%20%20this.m_ctx%20%3D%20sprite%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetSprite%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_ctx%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetDrawScale%20%3D%20function%20(drawScale)%20%7B%0A%20%20%20%20%20%20if%20(drawScale%20%3D%3D%3D%20undefined)%20drawScale%20%3D%200%3B%0A%20%20%20%20%20%20this.m_drawScale%20%3D%20drawScale%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetDrawScale%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_drawScale%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetLineThickness%20%3D%20function%20(lineThickness)%20%7B%0A%20%20%20%20%20%20if%20(lineThickness%20%3D%3D%3D%20undefined)%20lineThickness%20%3D%200%3B%0A%20%20%20%20%20%20this.m_lineThickness%20%3D%20lineThickness%3B%0A%20%20%20%20%20%20this.m_ctx.strokeWidth%20%3D%20lineThickness%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetLineThickness%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_lineThickness%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetAlpha%20%3D%20function%20(alpha)%20%7B%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0A%20%20%20%20%20%20this.m_alpha%20%3D%20alpha%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetAlpha%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_alpha%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetFillAlpha%20%3D%20function%20(alpha)%20%7B%0A%20%20%20%20%20%20if%20(alpha%20%3D%3D%3D%20undefined)%20alpha%20%3D%200%3B%0A%20%20%20%20%20%20this.m_fillAlpha%20%3D%20alpha%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetFillAlpha%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_fillAlpha%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.SetXFormScale%20%3D%20function%20(xformScale)%20%7B%0A%20%20%20%20%20%20if%20(xformScale%20%3D%3D%3D%20undefined)%20xformScale%20%3D%200%3B%0A%20%20%20%20%20%20this.m_xformScale%20%3D%20xformScale%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.GetXFormScale%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20return%20this.m_xformScale%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawPolygon%20%3D%20function%20(vertices%2C%20vertexCount%2C%20color)%20%7B%0A%20%20%20%20%20%20if%20(!vertexCount)%20return%3B%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%3B%0A%20%20%20%20%20%20var%20drawScale%20%3D%20this.m_drawScale%3B%0A%20%20%20%20%20%20s.beginPath()%3B%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.moveTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20vertexCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20s.lineTo(vertices%5Bi%5D.x%20*%20drawScale%2C%20vertices%5Bi%5D.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20s.lineTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20s.closePath()%3B%0A%20%20%20%20%20%20s.stroke()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidPolygon%20%3D%20function%20(%0A%20%20%20%20%20%20vertices%2C%0A%20%20%20%20%20%20vertexCount%2C%0A%20%20%20%20%20%20color%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(!vertexCount)%20return%3B%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%3B%0A%20%20%20%20%20%20var%20drawScale%20%3D%20this.m_drawScale%3B%0A%20%20%20%20%20%20s.beginPath()%3B%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.fillStyle%20%3D%20this._color(color.color%2C%20this.m_fillAlpha)%3B%0A%20%20%20%20%20%20s.moveTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20for%20(var%20i%20%3D%201%3B%20i%20%3C%20vertexCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20s.lineTo(vertices%5Bi%5D.x%20*%20drawScale%2C%20vertices%5Bi%5D.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20s.lineTo(vertices%5B0%5D.x%20*%20drawScale%2C%20vertices%5B0%5D.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20s.closePath()%3B%0A%20%20%20%20%20%20s.fill()%3B%0A%20%20%20%20%20%20s.stroke()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawCircle%20%3D%20function%20(center%2C%20radius%2C%20color)%20%7B%0A%20%20%20%20%20%20if%20(!radius)%20return%3B%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%3B%0A%20%20%20%20%20%20var%20drawScale%20%3D%20this.m_drawScale%3B%0A%20%20%20%20%20%20s.beginPath()%3B%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.arc(%0A%20%20%20%20%20%20%20%20center.x%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%20center.y%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%20radius%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20Math.PI%20*%202%2C%0A%20%20%20%20%20%20%20%20true%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20s.closePath()%3B%0A%20%20%20%20%20%20s.stroke()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawSolidCircle%20%3D%20function%20(%0A%20%20%20%20%20%20center%2C%0A%20%20%20%20%20%20radius%2C%0A%20%20%20%20%20%20axis%2C%0A%20%20%20%20%20%20color%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20if%20(!radius)%20return%3B%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%2C%0A%20%20%20%20%20%20%20%20drawScale%20%3D%20this.m_drawScale%2C%0A%20%20%20%20%20%20%20%20cx%20%3D%20center.x%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%20cy%20%3D%20center.y%20*%20drawScale%3B%0A%20%20%20%20%20%20s.moveTo(0%2C%200)%3B%0A%20%20%20%20%20%20s.beginPath()%3B%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.fillStyle%20%3D%20this._color(color.color%2C%20this.m_fillAlpha)%3B%0A%20%20%20%20%20%20s.arc(cx%2C%20cy%2C%20radius%20*%20drawScale%2C%200%2C%20Math.PI%20*%202%2C%20true)%3B%0A%20%20%20%20%20%20s.moveTo(cx%2C%20cy)%3B%0A%20%20%20%20%20%20s.lineTo(%0A%20%20%20%20%20%20%20%20(center.x%20%2B%20axis.x%20*%20radius)%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%20(center.y%20%2B%20axis.y%20*%20radius)%20*%20drawScale%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20s.closePath()%3B%0A%20%20%20%20%20%20s.fill()%3B%0A%20%20%20%20%20%20s.stroke()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawSegment%20%3D%20function%20(p1%2C%20p2%2C%20color)%20%7B%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%2C%0A%20%20%20%20%20%20%20%20drawScale%20%3D%20this.m_drawScale%3B%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(color.color%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.beginPath()%3B%0A%20%20%20%20%20%20s.moveTo(p1.x%20*%20drawScale%2C%20p1.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20s.lineTo(p2.x%20*%20drawScale%2C%20p2.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20s.closePath()%3B%0A%20%20%20%20%20%20s.stroke()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20b2DebugDraw.prototype.DrawTransform%20%3D%20function%20(xf)%20%7B%0A%20%20%20%20%20%20var%20s%20%3D%20this.m_ctx%2C%0A%20%20%20%20%20%20%20%20drawScale%20%3D%20this.m_drawScale%3B%0A%20%20%20%20%20%20s.beginPath()%3B%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(0xff0000%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.moveTo(xf.position.x%20*%20drawScale%2C%20xf.position.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20s.lineTo(%0A%20%20%20%20%20%20%20%20(xf.position.x%20%2B%20this.m_xformScale%20*%20xf.R.col1.x)%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%20(xf.position.y%20%2B%20this.m_xformScale%20*%20xf.R.col1.y)%20*%20drawScale%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20s.strokeStyle%20%3D%20this._color(0xff00%2C%20this.m_alpha)%3B%0A%20%20%20%20%20%20s.moveTo(xf.position.x%20*%20drawScale%2C%20xf.position.y%20*%20drawScale)%3B%0A%20%20%20%20%20%20s.lineTo(%0A%20%20%20%20%20%20%20%20(xf.position.x%20%2B%20this.m_xformScale%20*%20xf.R.col2.x)%20*%20drawScale%2C%0A%20%20%20%20%20%20%20%20(xf.position.y%20%2B%20this.m_xformScale%20*%20xf.R.col2.y)%20*%20drawScale%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20s.closePath()%3B%0A%20%20%20%20%20%20s.stroke()%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D)()%3B%0A%20%20var%20i%3B%0A%20%20for%20(i%20%3D%200%3B%20i%20%3C%20Box2D.postDefs.length%3B%20%2B%2Bi)%20Box2D.postDefs%5Bi%5D()%3B%0A%0A%20%20const%20ArgumentType%20%3D%20Scratch.ArgumentType%3B%0A%20%20const%20BlockType%20%3D%20Scratch.BlockType%3B%0A%20%20%2F%2F%20const%20MathUtil%20%3D%20require('..%2F..%2Futil%2Fmath-util')%3B%0A%20%20%2F%2F%20const%20Clone%20%3D%20require('..%2F..%2Futil%2Fclone')%3B%0A%20%20const%20Cast%20%3D%20%7B%0A%20%20%20%20toNumber%3A%20(n)%20%3D%3E%20%2Bn%20%7C%7C%200%2C%0A%20%20%7D%3B%0A%20%20%2F%2F%20const%20Cast%20%3D%20require('..%2F..%2Futil%2Fcast')%3B%0A%20%20%2F%2F%20const%20Runtime%20%3D%20require('..%2F..%2Fengine%2Fruntime')%3B%0A%20%20%2F%2F%20const%20RenderedTarget%20%3D%20require('..%2F..%2Fsprites%2Frendered-target')%3B%0A%20%20%2F%2F%20const%20formatMessage%20%3D%20require('format-message')%3B%0A%20%20const%20formatMessage%20%3D%20(obj)%20%3D%3E%20obj.default%3B%0A%20%20%2F%2F%20const%20MathUtil%20%3D%20require('..%2F..%2Futil%2Fmath-util')%3B%0A%20%20%2F%2F%20const%20Timer%20%3D%20require('..%2F..%2Futil%2Ftimer')%3B%0A%20%20%2F%2F%20const%20Matter%20%3D%20require('matterJs%2Fmatter')%3B%0A%20%20%2F%2F%20const%20Matter%20%3D%20require('matter-js')%3B%0A%20%20const%20ROTATION_STYLE_ALL_AROUND%20%3D%20%22all%20around%22%3B%0A%0A%20%20%2F%2F%20const%20Box2D%20%3D%20require('.%2FBox2d.min').box2d%3B%0A%0A%20%20%2F%2F%20window.decomp%20%3D%20require('poly-decomp')%3B%0A%0A%20%20const%20b2World%20%3D%20Box2D.Dynamics.b2World%3B%0A%20%20const%20b2Vec2%20%3D%20Box2D.Common.Math.b2Vec2%3B%0A%20%20const%20b2AABB%20%3D%20Box2D.Collision.b2AABB%3B%0A%20%20const%20b2BodyDef%20%3D%20Box2D.Dynamics.b2BodyDef%3B%0A%20%20const%20b2Body%20%3D%20Box2D.Dynamics.b2Body%3B%0A%20%20const%20b2FixtureDef%20%3D%20Box2D.Dynamics.b2FixtureDef%3B%0A%20%20%2F%2F%20const%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%3B%0A%20%20%2F%2F%20const%20b2Fixture%20%3D%20Box2D.Dynamics.b2Fixture%3B%0A%20%20const%20b2Contact%20%3D%20Box2D.Dynamics.Contacts.b2Contact%3B%0A%20%20%2F%2F%20const%20b2MassData%20%3D%20Box2D.Collision.Shapes.b2MassData%3B%0A%20%20const%20b2PolygonShape%20%3D%20Box2D.Collision.Shapes.b2PolygonShape%3B%0A%20%20const%20b2CircleShape%20%3D%20Box2D.Collision.Shapes.b2CircleShape%3B%0A%20%20%2F%2F%20const%20b2DebugDraw%20%3D%20Box2D.Dynamics.b2DebugDraw%3B%0A%20%20const%20b2MouseJointDef%20%3D%20Box2D.Dynamics.Joints.b2MouseJointDef%3B%0A%20%20const%20b2Math%20%3D%20Box2D.Common.Math.b2Math%3B%0A%0A%20%20let%20world%3B%0A%20%20let%20zoom%3B%0A%0A%20%20const%20fixDef%20%3D%20new%20b2FixtureDef()%3B%0A%20%20const%20bodyDef%20%3D%20new%20b2BodyDef()%3B%0A%0A%20%20%2F%2F%20const%20uid_seq%20%3D%200%3B%0A%20%20%2F%2F%20let%20ujidSeq%20%3D%200%3B%0A%0A%20%20const%20prevPos%20%3D%20%7B%7D%3B%0A%20%20%2F**%0A%20%20*%20Active%20b2Body%2Fs%20in%20the%20world.%0A%20%20*%20%40type%20%7BObject.%3Cstring%2C*%3E%7D%0A%20%20*%2F%0A%20%20const%20bodies%20%3D%20%7B%7D%3B%0A%20%20%2F%2F%20const%20joints%20%3D%20%7B%7D%3B%0A%20%20const%20pinned%20%3D%20%7B%7D%3B%20%2F%2F%20Map%20of%20IDs%20to%20pinned%20joints%0A%20%20%2F**%0A%20%20*%20The%20runtime%20instantiating%20this%20block%20package.%0A%20%20*%20%40type%20%7BArray%7D%0A%20%20*%2F%0A%20%20const%20stageBodies%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2F%20const%20categorySeq%20%3D%201%3B%0A%20%20%2F%2F%20const%20categories%20%3D%20%7Bdefault%3A%201%7D%3B%0A%0A%20%20const%20bodyCategoryBits%20%3D%201%3B%0A%20%20const%20bodyMaskBits%20%3D%201%3B%0A%20%20%2F%2F%20const%20noCollideSeq%20%3D%200%3B%0A%0A%20%20const%20toRad%20%3D%20Math.PI%20%2F%20180%3B%0A%0A%20%20%2F%2F%20Used%20to%20record%20the%20scroll%20position%20of%20all%20sprites%0A%20%20const%20_scroll%20%3D%20new%20b2Vec2(0%2C%200)%3B%0A%0A%20%20const%20STAGE_TYPE_OPTIONS%20%3D%20%7B%0A%20%20%20%20BOXED%3A%20%22boxed%22%2C%0A%20%20%20%20FLOOR%3A%20%22floor%22%2C%0A%20%20%20%20OPEN%3A%20%22open%22%2C%0A%20%20%7D%3B%0A%0A%20%20const%20SPACE_TYPE_OPTIONS%20%3D%20%7B%0A%20%20%20%20WORLD%3A%20%22world%22%2C%0A%20%20%20%20STAGE%3A%20%22stage%22%2C%0A%20%20%20%20RELATIVE%3A%20%22relative%22%2C%0A%20%20%7D%3B%0A%0A%20%20const%20WHERE_TYPE_OPTIONS%20%3D%20%7B%0A%20%20%20%20ANY%3A%20%22any%22%2C%0A%20%20%20%20FEET%3A%20%22feet%22%2C%0A%20%20%7D%3B%0A%0A%20%20const%20SHAPE_TYPE_OPTIONS%20%3D%20%7B%0A%20%20%20%20COSTUME%3A%20%22costume%22%2C%0A%20%20%20%20CIRCLE%3A%20%22circle%22%2C%0A%20%20%20%20SVG_POLYGON%3A%20%22svg%22%2C%0A%20%20%20%20ALL%3A%20%22all%22%2C%0A%20%20%7D%3B%0A%0A%20%20const%20_definePolyFromHull%20%3D%20function%20(hullPoints)%20%7B%0A%20%20%20%20fixDef.shape%20%3D%20new%20b2PolygonShape()%3B%0A%0A%20%20%20%20const%20vertices%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20let%20prev%20%3D%20null%3B%0A%20%20%20%20for%20(let%20i%20%3D%20hullPoints.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--)%20%7B%0A%20%20%20%20%20%20%2F%2F%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20hullPoints.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20b2Vec%20%3D%20new%20b2Vec2(hullPoints%5Bi%5D.x%20%2F%20zoom%2C%20hullPoints%5Bi%5D.y%20%2F%20zoom)%3B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20prev%20!%3D%3D%20null%20%26%26%0A%20%20%20%20%20%20%20%20b2Math.SubtractVV(b2Vec%2C%20prev).LengthSquared()%20%3E%20Number.MIN_VALUE%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20vertices.push(b2Vec)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20prev%20%3D%20b2Vec%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20fixDef.shape.SetAsArray(vertices)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20_placeBody%20%3D%20function%20(id%2C%20x%2C%20y%2C%20dir)%20%7B%0A%20%20%20%20if%20(bodies%5Bid%5D)%20%7B%0A%20%20%20%20%20%20world.DestroyBody(bodies%5Bid%5D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20fixDef.filter.categoryBits%20%3D%20bodyCategoryBits%3B%0A%20%20%20%20fixDef.filter.maskBits%20%3D%20bodyMaskBits%3B%0A%0A%20%20%20%20bodyDef.position.x%20%3D%20(x%20%2B%20_scroll.x)%20%2F%20zoom%3B%0A%20%20%20%20bodyDef.position.y%20%3D%20(y%20%2B%20_scroll.y)%20%2F%20zoom%3B%0A%20%20%20%20bodyDef.angle%20%3D%20(90%20-%20dir)%20*%20toRad%3B%0A%0A%20%20%20%20const%20body%20%3D%20world.CreateBody(bodyDef)%3B%0A%20%20%20%20body.uid%20%3D%20id%3B%0A%20%20%20%20body.CreateFixture(fixDef)%3B%0A%20%20%20%20bodies%5Bid%5D%20%3D%20body%3B%0A%20%20%20%20return%20body%3B%0A%20%20%7D%3B%0A%0A%20%20const%20_applyForce%20%3D%20function%20(id%2C%20ftype%2C%20x%2C%20y%2C%20dir%2C%20pow)%20%7B%0A%20%20%20%20const%20body%20%3D%20bodies%5Bid%5D%3B%0A%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20dir%20%3D%20(90%20-%20dir)%20*%20toRad%3B%0A%0A%20%20%20%20if%20(ftype%20%3D%3D%3D%20%22Impulse%22)%20%7B%0A%20%20%20%20%20%20const%20center%20%3D%20body.GetLocalCenter()%3B%20%2F%2F%20get%20the%20mass%20data%20from%20you%20body%0A%0A%20%20%20%20%20%20body.ApplyImpulse(%0A%20%20%20%20%20%20%20%20%7B%20x%3A%20pow%20*%20Math.cos(dir)%2C%20y%3A%20pow%20*%20Math.sin(dir)%20%7D%2C%0A%20%20%20%20%20%20%20%20body.GetWorldPoint(%7B%20x%3A%20x%20%2F%20zoom%20%2B%20center.x%2C%20y%3A%20y%20%2F%20zoom%20%2B%20center.y%20%7D)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%20else%20if%20(ftype%20%3D%3D%3D%20%22World%20Impulse%22)%20%7B%0A%20%20%20%20%20%20body.ApplyForce(%0A%20%20%20%20%20%20%20%20%7B%20x%3A%20pow%20*%20Math.cos(dir)%2C%20y%3A%20pow%20*%20Math.sin(dir)%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20%5B''%2C%20'Define%20Spring%20Length%3A%20%25n%20Damping%3A%20%25n%20%20Freq%3A%20%25n'%2C%20'_defineSpring'%2C%20100%2C%200.5%2C%208%5D%2C%0A%20%20const%20defSpring%20%3D%20%7B%20len%3A%20100%2C%20damp%3A%200.7%2C%20freq%3A%205%20%7D%3B%0A%20%20const%20_defineSpring%20%3D%20function%20(len%2C%20damp%2C%20freq)%20%7B%0A%20%20%20%20defSpring.len%20%3D%20len%20%3C%200.1%20%3F%200.1%20%3A%20len%20%2F%20zoom%3B%0A%20%20%20%20defSpring.damp%20%3D%20damp%20%3C%200%20%3F%200.7%20%3A%20damp%3B%0A%20%20%20%20defSpring.freq%20%3D%20freq%20%3E%200%20%3F%20freq%20%3A%205%3B%0A%20%20%7D%3B%0A%0A%20%20const%20_createJointOfType%20%3D%20function%20(%0A%20%20%20%20jName%2C%0A%20%20%20%20typ%2C%0A%20%20%20%20bodyID%2C%0A%20%20%20%20x%2C%0A%20%20%20%20y%2C%0A%20%20%20%20bodyID2%2C%0A%20%20%20%20x2%2C%0A%20%20%20%20y2%0A%20%20)%20%7B%0A%20%20%20%20%2F%2F%20if%20(jName.length%20%3E%200)%20ext.destroyJoint(jName)%3B%0A%0A%20%20%20%20if%20(!bodyID)%20bodyID%20%3D%20null%3B%0A%20%20%20%20if%20(!bodyID2)%20bodyID2%20%3D%20null%3B%0A%20%20%20%20if%20(!bodyID%20%26%26%20!bodyID2)%20%7B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20body%20%3D%20bodyID%20%3F%20bodies%5BbodyID%5D%20%3A%20world.GetGroundBody()%3B%0A%20%20%20%20const%20body2%20%3D%20bodyID2%20%3F%20bodies%5BbodyID2%5D%20%3A%20world.GetGroundBody()%3B%0A%0A%20%20%20%20if%20(!body%20%7C%7C%20!body2)%20return%20null%3B%0A%0A%20%20%20%20let%20md%3B%0A%20%20%20%20switch%20(typ)%20%7B%0A%20%20%20%20%20%20case%20%22Spring%22%3A%0A%20%20%20%20%20%20%20%20md%20%3D%20new%20Box2D.Dynamics.Joints.b2DistanceJointDef()%3B%0A%20%20%20%20%20%20%20%20md.length%20%3D%20defSpring.len%3B%0A%20%20%20%20%20%20%20%20md.dampingRatio%20%3D%20defSpring.damp%3B%0A%20%20%20%20%20%20%20%20md.frequencyHz%20%3D%20defSpring.freq%3B%0A%20%20%20%20%20%20%20%20md.bodyA%20%3D%20body%3B%0A%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body2%3B%0A%20%20%20%20%20%20%20%20md.localAnchorA%20%3D%20%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D%3B%0A%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20%7B%20x%3A%20x2%20%2F%20zoom%2C%20y%3A%20y2%20%2F%20zoom%20%7D%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20%22Rotating%22%3A%0A%20%20%20%20%20%20%20%20md%20%3D%20new%20Box2D.Dynamics.Joints.b2RevoluteJointDef()%3B%0A%20%20%20%20%20%20%20%20md.bodyA%20%3D%20body%3B%0A%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body2%3B%0A%20%20%20%20%20%20%20%20md.localAnchorA%20%3D%20%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D%3B%0A%20%20%20%20%20%20%20%20if%20(x2%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(body2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20body2.GetLocalPoint(body.GetPosition())%3B%20%2F%2F%20Wheel%20Type%20Joint...%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20body.GetWorldPoint(%7B%20x%3A%20x%20%2F%20zoom%2C%20y%3A%20y%20%2F%20zoom%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20md.localAnchorB%20%3D%20%7B%20x%3A%20x2%20%2F%20zoom%2C%20y%3A%20y2%20%2F%20zoom%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20%22Mouse%22%3A%0A%20%20%20%20%20%20%20%20md%20%3D%20new%20b2MouseJointDef()%3B%0A%20%20%20%20%20%20%20%20if%20(bodyID)%20%7B%0A%20%20%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body%3B%0A%20%20%20%20%20%20%20%20%20%20md.target.Set(x%20%2F%20zoom%2C%20y%20%2F%20zoom)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20md.bodyB%20%3D%20body2%3B%0A%20%20%20%20%20%20%20%20%20%20md.target.Set(x2%20%2F%20zoom%2C%20y2%20%2F%20zoom)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20md.bodyA%20%3D%20world.GetGroundBody()%3B%0A%20%20%20%20%20%20%20%20md.collideConnected%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20md.maxForce%20%3D%20300.0%20*%20body.GetMass()%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20md.collideConnected%20%3D%20true%3B%0A%20%20%20%20%2F%2F%20md.maxForce%20%3D%20300.0%20*%20body.GetMass()%3B%0A%20%20%20%20const%20joint%20%3D%20world.CreateJoint(md)%3B%0A%20%20%20%20if%20(bodyID)%20%7B%0A%20%20%20%20%20%20body.SetAwake(true)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(bodyID2)%20%7B%0A%20%20%20%20%20%20body2.SetAwake(true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20if%20(!jName)%20%7B%0A%20%20%20%20%2F%2F%20%20%20%20%20ujidSeq%2B%2B%3B%0A%20%20%20%20%2F%2F%20%20%20%20%20jName%20%3D%20%60_%24%7BujidSeq%7D%60%3B%0A%20%20%20%20%2F%2F%20%7D%0A%20%20%20%20%2F%2F%20joints%5BjName%5D%20%3D%20joint%3B%0A%20%20%20%20return%20joint%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20*%20Set%20the%20X%20and%20Y%20coordinates%20(No%20Fencing)%0A%20%20*%20%40param%20%7B!RenderedTarget%7D%20rt%20the%20renderedTarget.%0A%20%20*%20%40param%20%7B!number%7D%20x%20New%20X%20coordinate%2C%20in%20Scratch%20coordinates.%0A%20%20*%20%40param%20%7B!number%7D%20y%20New%20Y%20coordinate%2C%20in%20Scratch%20coordinates.%0A%20%20*%20%40param%20%7B%3Fboolean%7D%20force%20Force%20setting%20X%2FY%2C%20in%20case%20of%20dragging%0A%20%20*%2F%0A%20%20const%20_setXY%20%3D%20function%20(rt%2C%20x%2C%20y%2C%20force)%20%7B%0A%20%20%20%20if%20(rt.isStage)%20return%3B%0A%20%20%20%20if%20(rt.dragging%20%26%26%20!force)%20return%3B%0A%20%20%20%20const%20oldX%20%3D%20rt.x%3B%0A%20%20%20%20const%20oldY%20%3D%20rt.y%3B%0A%20%20%20%20if%20(rt.renderer)%20%7B%0A%20%20%20%20%20%20%2F%2F%20const%20position%20%3D%20rt.renderer.getFencedPositionOfDrawable(rt.drawableID%2C%20%5Bx%2C%20y%5D)%3B%0A%20%20%20%20%20%20rt.x%20%3D%20x%3B%20%2F%2F%20position%5B0%5D%3B%0A%20%20%20%20%20%20rt.y%20%3D%20y%3B%20%2F%2F%20position%5B1%5D%3B%0A%0A%20%20%20%20%20%20rt.renderer.updateDrawableProperties(rt.drawableID%2C%20%7B%0A%20%20%20%20%20%20%20%20position%3A%20%5Bx%2C%20y%5D%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(rt.visible)%20%7B%0A%20%20%20%20%20%20%20%20rt.emit(%22EVENT_TARGET_VISUAL_CHANGE%22%2C%20rt)%3B%0A%20%20%20%20%20%20%20%20rt.runtime.requestRedraw()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20rt.x%20%3D%20x%3B%0A%20%20%20%20%20%20rt.y%20%3D%20y%3B%0A%20%20%20%20%7D%0A%20%20%20%20rt.emit(%22EVENT_TARGET_MOVED%22%2C%20rt%2C%20oldX%2C%20oldY%2C%20force)%3B%0A%20%20%20%20rt.runtime.requestTargetsUpdate(rt)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createStageBody%20%3D%20function%20()%20%7B%0A%20%20%20%20const%20body%20%3D%20world.CreateBody(bodyDef)%3B%0A%20%20%20%20body.CreateFixture(fixDef)%3B%0A%20%20%20%20stageBodies.push(body)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20_setStageType%20%3D%20function%20(type)%20%7B%0A%20%20%20%20%2F%2F%20Clear%20down%20previous%20stage%0A%20%20%20%20if%20(stageBodies.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20for%20(const%20stageBodyID%20in%20stageBodies)%20%7B%0A%20%20%20%20%20%20%20%20world.DestroyBody(stageBodies%5BstageBodyID%5D)%3B%0A%20%20%20%20%20%20%20%20delete%20stageBodies%5BstageBodyID%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Build%20up%20new%20stage%0A%20%20%20%20bodyDef.type%20%3D%20b2Body.b2_staticBody%3B%0A%20%20%20%20fixDef.shape%20%3D%20new%20b2PolygonShape()%3B%0A%20%20%20%20bodyDef.angle%20%3D%200%3B%0A%0A%20%20%20%20if%20(type%20%3D%3D%3D%20STAGE_TYPE_OPTIONS.BOXED)%20%7B%0A%20%20%20%20%20%20fixDef.shape.SetAsBox(250%20%2F%20zoom%2C%2010%20%2F%20zoom)%3B%0A%20%20%20%20%20%20bodyDef.position.Set(0%2C%20-190%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20bodyDef.position.Set(0%2C%201000%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20fixDef.shape.SetAsBox(10%20%2F%20zoom%2C%20800%20%2F%20zoom)%3B%0A%20%20%20%20%20%20bodyDef.position.Set(-250%20%2F%20zoom%2C%20540%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20bodyDef.position.Set(250%20%2F%20zoom%2C%20540%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20STAGE_TYPE_OPTIONS.FLOOR)%20%7B%0A%20%20%20%20%20%20fixDef.shape.SetAsBox(5000%20%2F%20zoom%2C%20100%20%2F%20zoom)%3B%0A%20%20%20%20%20%20bodyDef.position.Set(0%2C%20-280%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20bodyDef.position.Set(-10000%2C%20-280%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20bodyDef.position.Set(10000%2C%20-280%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20bodyDef.position.Set(-20000%2C%20-280%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%20%20bodyDef.position.Set(20000%2C%20-280%20%2F%20zoom)%3B%0A%20%20%20%20%20%20createStageBody()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20bodyDef.type%20%3D%20b2Body.b2_dynamicBody%3B%0A%0A%20%20%20%20for%20(const%20bodyID%20in%20bodies)%20%7B%0A%20%20%20%20%20%20bodies%5BbodyID%5D.SetAwake(true)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20blockIconURI%20%3D%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOmE9Imh0dHA6Ly9ucy5hZG9iZS5jb20vQWRvYmVTVkdWaWV3ZXJFeHRlbnNpb25zLzMuMC8iDQoJIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSItMy43IC0zLjcgNDAgNDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTMuNyAtMy43IDQwIDQwIg0KCSB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxkZWZzPg0KPC9kZWZzPg0KPHJlY3QgeD0iOC45IiB5PSIxLjUiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxLjUiIHk9IjE2LjMiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxNi4zIiB5PSIxNi4zIiBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiMxNjlGQjAiIHN0cm9rZS13aWR0aD0iMyIgd2lkdGg9IjE0LjgiIGhlaWdodD0iMTQuOCIvPg0KPC9zdmc%2B%22%3B%0A%20%20const%20menuIconURI%20%3D%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOmE9Imh0dHA6Ly9ucy5hZG9iZS5jb20vQWRvYmVTVkdWaWV3ZXJFeHRlbnNpb25zLzMuMC8iDQoJIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSItMy43IC0zLjcgNDAgNDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTMuNyAtMy43IDQwIDQwIg0KCSB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxkZWZzPg0KPC9kZWZzPg0KPHJlY3QgeD0iOC45IiB5PSIxLjUiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxLjUiIHk9IjE2LjMiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzE2OUZCMCIgc3Ryb2tlLXdpZHRoPSIzIiB3aWR0aD0iMTQuOCIgaGVpZ2h0PSIxNC44Ii8%2BDQo8cmVjdCB4PSIxNi4zIiB5PSIxNi4zIiBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiMxNjlGQjAiIHN0cm9rZS13aWR0aD0iMyIgd2lkdGg9IjE0LjgiIGhlaWdodD0iMTQuOCIvPg0KPC9zdmc%2B%22%3B%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%0A%20%20class%20Scratch3Griffpatch%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%2F**%0A%20%20%20%20%20%20%20*%20The%20runtime%20instantiating%20this%20block%20package.%0A%20%20%20%20%20%20%20*%20%40type%20%7BRuntime%7D%0A%20%20%20%20%20%20%20*%2F%0A%20%20%20%20%20%20this.runtime%20%3D%20vm.runtime%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Clear%20target%20motion%20state%20values%20when%20the%20project%20starts.%0A%20%20%20%20%20%20this.runtime.on(%22PROJECT_START%22%2C%20this.reset.bind(this))%3B%0A%0A%20%20%20%20%20%20world%20%3D%20new%20b2World(%0A%20%20%20%20%20%20%20%20new%20b2Vec2(0%2C%20-10)%2C%20%2F%2F%20gravity%20(10)%0A%20%20%20%20%20%20%20%20true%20%2F%2F%20allow%20sleep%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20zoom%20%3D%2050%3B%20%2F%2F%20scale%3B%0A%0A%20%20%20%20%20%20this.map%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20fixDef.density%20%3D%201.0%3B%20%2F%2F%201.0%0A%20%20%20%20%20%20fixDef.friction%20%3D%200.5%3B%20%2F%2F%200.5%0A%20%20%20%20%20%20fixDef.restitution%20%3D%200.2%3B%20%2F%2F%200.2%0A%0A%20%20%20%20%20%20_setStageType(STAGE_TYPE_OPTIONS.BOXED)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20reset()%20%7B%0A%20%20%20%20%20%20for%20(const%20body%20in%20bodies)%20%7B%0A%20%20%20%20%20%20%20%20if%20(pinned%5Bbody.uid%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20world.DestroyJoint(pinned%5Bbody.uid%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20pinned%5Bbody.uid%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20world.DestroyBody(bodies%5Bbody%5D)%3B%0A%20%20%20%20%20%20%20%20delete%20bodies%5Bbody%5D%3B%0A%20%20%20%20%20%20%20%20delete%20prevPos%5Bbody%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20todo%3A%20delete%20joins%3F%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20The%20key%20to%20load%20%26%20store%20a%20target's%20music-related%20state.%0A%20%20%20%20%20*%20%40type%20%7Bstring%7D%0A%20%20%20%20%20*%2F%0A%20%20%20%20static%20get%20STATE_KEY()%20%7B%0A%20%20%20%20%20%20return%20%22Scratch.Griffpatch%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%40returns%20%7Bobject%7D%20metadata%20for%20this%20extension%20and%20its%20blocks.%0A%20%20%20%20%20*%2F%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22griffpatch%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.categoryName%22%2C%0A%20%20%20%20%20%20%20%20%20%20default%3A%20%22Physics%22%2C%0A%20%20%20%20%20%20%20%20%20%20description%3A%20%22Label%20for%20the%20Griffpatch%20extension%20category%22%2C%0A%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20docsURI%3A%20%22https%3A%2F%2Fextensions.turbowarp.org%2Fbox2d.html%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20blockIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Global%20Setup%20------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setStage%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setStage%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22setup%20stage%20%5BstageType%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20stage%20type%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20stageType%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22StageTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20STAGE_TYPE_OPTIONS.BOXED%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setGravity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setGravity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20gravity%20to%20x%3A%20%5Bgx%5D%20y%3A%20%5Bgy%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20gravity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gx%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20gy%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20-10%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getGravityX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getGravityX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22gravity%20x%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20gravity's%20x%20value%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getGravityY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getGravityY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22gravity%20y%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20gravity's%20y%20value%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPhysics%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setPhysics%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22enable%20for%20%5Bshape%5D%20mode%20%5Bmode%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Enable%20Physics%20for%20this%20Sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20shape%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22ShapeTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22costume%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mode%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22EnableModeTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22normal%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20opcode%3A%20'setPhysics'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20id%3A%20'griffpatch.setPhysics'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20default%3A%20'enable%20physics%20for%20sprite%20%5Bshape%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20description%3A%20'Enable%20Physics%20for%20this%20Sprite'%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20shape%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'ShapeTypes'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'costume'%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20opcode%3A%20'setPhysicsAll'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20id%3A%20'griffpatch.setPhysicsAll'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20default%3A%20'enable%20physics%20for%20all%20sprites'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20description%3A%20'Enable%20Physics%20For%20All%20Sprites'%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22doTick%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.doTick%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22step%20simulation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Run%20a%20single%20tick%20of%20the%20physics%20simulation%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPosition%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setPosition%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22go%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D%20%5Bspace%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Position%20Sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20space%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22SpaceTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22world%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20applyForce%20(target%2C%20ftype%2C%20x%2C%20y%2C%20dir%2C%20pow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20applyAngForce%20(target%2C%20pow)%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20velocity%20to%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20Velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sx%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sy%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.changeVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22change%20velocity%20by%20sx%3A%20%5Bsx%5D%20sy%3A%20%5Bsy%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Change%20Velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sx%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sy%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVelocityX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getVelocityX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22x%20velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20x%20velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getVelocityY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getVelocityY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22y%20velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20y%20velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22applyForce%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.applyForce%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22push%20with%20force%20%5Bforce%5D%20in%20direction%20%5Bdir%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Push%20this%20object%20in%20a%20given%20direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20force%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2025%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dir%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.ANGLE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22applyAngForce%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.applyAngForce%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22spin%20with%20force%20%5Bforce%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Push%20this%20object%20in%20a%20given%20direction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20force%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20500%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setAngVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setAngVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20angular%20velocity%20to%20%5Bforce%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20angular%20velocity%20of%20the%20sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20force%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2030%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getAngVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getAngVelocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22angular%20velocity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20angular%20velocity%20of%20the%20sprite%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setStatic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setStatic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20fixed%20%5Bstatic%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Sets%20whether%20this%20block%20is%20static%20or%20dynamic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20static%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22StaticTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22static%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getStatic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getStatic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22fixed%3F%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20whether%20this%20sprite%20is%20fixed%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDensity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setDensity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20density%20%5Bdensity%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20density%20of%20the%20object%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20density%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22DensityTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDensityValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setDensity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setDensityValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20density%20to%20%5Bdensity%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20density%20of%20the%20object%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20density%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getDensity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getDensity%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22density%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20density%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFriction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setFriction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20friction%20%5Bfriction%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20friction%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20friction%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22FrictionTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2050%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setFrictionValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setFriction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setFrictionValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20friction%20to%20%5Bfriction%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20friction%20value%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20friction%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2050%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getFriction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getFriction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22friction%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20friction%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setRestitution%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setRestitution%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20bounce%20%5Brestitution%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20bounce%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20restitution%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RestitutionTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2020%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setRestitutionValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20func%3A%20%22setRestitution%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setRestitutionValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20bounce%20to%20%5Brestitution%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20bounce%20value%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20restitution%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2020%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getRestitution%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getRestitution%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22bounce%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Get%20the%20bounce%20value%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setProperties%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setProperties%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20density%20%5Bdensity%5D%20roughness%20%5Bfriction%5D%20bounce%20%5Brestitution%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Set%20the%20density%20of%20the%20object%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20density%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22DensityTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20friction%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22FrictionTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2050%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20restitution%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22RestitutionTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2020%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20opcode%3A%20'pinSprite'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20id%3A%20'griffpatch.pinSprite'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20default%3A%20'pin%20to%20world%20at%20sprite%5C's%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20description%3A%20'Pin%20the%20sprite'%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20x%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getTouching%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getTouching%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22touching%20%5Bwhere%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20name%20of%20any%20sprites%20we%20are%20touching%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20where%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22WhereTypes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20%22any%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Scene%20Scrolling%20-------------------%0A%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setScroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.setScroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22set%20scroll%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Sets%20whether%20this%20block%20is%20static%20or%20dynamic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oy%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22changeScroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.changeScroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22change%20scroll%20by%20x%3A%20%5Box%5D%20y%3A%20%5Boy%5D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22Sets%20whether%20this%20block%20is%20static%20or%20dynamic%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oy%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getScrollX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getScrollX%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22x%20scroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20x%20scroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getScrollY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20formatMessage(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%22griffpatch.getScrollY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20%22y%20scroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20%22get%20the%20y%20scroll%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20StageTypes%3A%20this.STAGE_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20SpaceTypes%3A%20this.SPACE_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20WhereTypes%3A%20this.WHERE_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20ShapeTypes%3A%20this.SHAPE_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20EnableModeTypes%3A%20this.ENABLE_TYPES_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20StaticTypes%3A%20this.STATIC_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20FrictionTypes%3A%20this.FRICTION_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20RestitutionTypes%3A%20this.RESTITUTION_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%20%20DensityTypes%3A%20this.DENSITY_TYPE_MENU%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20STAGE_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22boxed%20stage%22%2C%20value%3A%20STAGE_TYPE_OPTIONS.BOXED%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22open%20(with%20floor)%22%2C%20value%3A%20STAGE_TYPE_OPTIONS.FLOOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22open%20(no%20floor)%22%2C%20value%3A%20STAGE_TYPE_OPTIONS.OPEN%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20SPACE_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22in%20world%22%2C%20value%3A%20SPACE_TYPE_OPTIONS.WORLD%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22on%20stage%22%2C%20value%3A%20SPACE_TYPE_OPTIONS.STAGE%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22relative%22%2C%20value%3A%20SPACE_TYPE_OPTIONS.RELATIVE%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20WHERE_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22any%22%2C%20value%3A%20WHERE_TYPE_OPTIONS.ANY%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22feet%22%2C%20value%3A%20WHERE_TYPE_OPTIONS.FEET%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20SHAPE_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22this%20costume%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.COSTUME%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22this%20circle%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.CIRCLE%20%7D%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20%7B%20text%3A%20%22this%20polygon%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.SVG_POLYGON%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22all%20sprites%22%2C%20value%3A%20SHAPE_TYPE_OPTIONS.ALL%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20ENABLE_TYPES_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%22normal%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22precision%22%2C%20value%3A%20%22bullet%22%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20STATIC_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22free%22%2C%20value%3A%20%22dynamic%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22fixed%20in%20place%22%2C%20value%3A%20%22static%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22fixed%20(but%20can%20rotate)%22%2C%20value%3A%20%22pinned%22%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20DENSITY_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22very%20light%22%2C%20value%3A%20%2225%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22light%22%2C%20value%3A%20%2250%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%22100%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22heavy%22%2C%20value%3A%20%22200%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22very%20heavy%22%2C%20value%3A%20%22400%22%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20FRICTION_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22none%22%2C%20value%3A%20%220%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22smooth%22%2C%20value%3A%20%2220%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%2250%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22rough%22%2C%20value%3A%20%2275%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22extremely%20rough%22%2C%20value%3A%20%22100%22%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20RESTITUTION_TYPE_MENU()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22none%22%2C%20value%3A%20%220%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22little%22%2C%20value%3A%20%2210%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22normal%22%2C%20value%3A%20%2220%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22quite%20bouncy%22%2C%20value%3A%20%2240%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22very%20bouncy%22%2C%20value%3A%20%2270%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20text%3A%20%22unstable%22%2C%20value%3A%20%22100%22%20%7D%2C%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Play%20a%20drum%20sound%20for%20some%20number%20of%20beats.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20x%20-%20x%20offset.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20y%20-%20y%20offset.%0A%20%20%20%20%20*%2F%0A%20%20%20%20doTick()%20%7B%0A%20%20%20%20%20%20%2F%2F%20args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20this._playDrumForBeats(args.DRUM%2C%20args.BEATS%2C%20util)%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(util.runtime.audioEngine%20%3D%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(util.target.sprite.soundBank%20%3D%3D%3D%20null)%20return%3B%0A%0A%20%20%20%20%20%20%2F%2F%20const%20dx%20%3D%20Cast.toNumber(args.x)%3B%0A%20%20%20%20%20%20%2F%2F%20const%20dy%20%3D%20Cast.toNumber(args.y)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20const%20allTargets%20%3D%20this.runtime.targets%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(allTargets%20%3D%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20%2F%2F%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allTargets.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20const%20target%20%3D%20allTargets%5Bi%5D%3B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20if%20(!target.isStage)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20target.setXY(target.x%20%2B%20dx%2C%20target.y%20%2B%20dy)%3B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20util.target.setXY(util.target.x%20%2B%20dx%2C%20util.target.y%20%2B%20dy)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Matter.Engine.update(this.engine%2C%201000%20%2F%2030)%3B%0A%20%20%20%20%20%20this._checkMoved()%3B%0A%0A%20%20%20%20%20%20%2F%2F%20world.Step(1%20%2F%2030%2C%2010%2C%2010)%3B%0A%20%20%20%20%20%20world.Step(1%20%2F%2030%2C%2010%2C%2010)%3B%0A%20%20%20%20%20%20world.ClearForces()%3B%0A%0A%20%20%20%20%20%20for%20(const%20targetID%20in%20bodies)%20%7B%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20bodies%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20this.runtime.getTargetById(targetID)%3B%0A%20%20%20%20%20%20%20%20if%20(!target)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Drop%20target%20from%20simulation%0A%20%20%20%20%20%20%20%20%20%20world.DestroyBody(body)%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20bodies%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20prevPos%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20position%20%3D%20body.GetPosition()%3B%0A%0A%20%20%20%20%20%20%20%20_setXY(%0A%20%20%20%20%20%20%20%20%20%20target%2C%0A%20%20%20%20%20%20%20%20%20%20position.x%20*%20zoom%20-%20_scroll.x%2C%0A%20%20%20%20%20%20%20%20%20%20position.y%20*%20zoom%20-%20_scroll.y%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20if%20(target.rotationStyle%20%3D%3D%3D%20ROTATION_STYLE_ALL_AROUND)%20%7B%0A%20%20%20%20%20%20%20%20%20%20target.setDirection(90%20-%20body.GetAngle()%20%2F%20toRad)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20prevPos%5BtargetID%5D%20%3D%20%7B%20x%3A%20target.x%2C%20y%3A%20target.y%2C%20dir%3A%20target.direction%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20_checkMoved()%20%7B%0A%20%20%20%20%20%20for%20(const%20targetID%20in%20bodies)%20%7B%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20bodies%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20this.runtime.getTargetById(targetID)%3B%0A%20%20%20%20%20%20%20%20if%20(!target)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Drop%20target%20from%20simulation%0A%20%20%20%20%20%20%20%20%20%20world.DestroyBody(body)%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20bodies%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20prevPos%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20prev%20%3D%20prevPos%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20const%20fixedRotation%20%3D%20target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND%3B%0A%0A%20%20%20%20%20%20%20%20if%20(prev%20%26%26%20(prev.x%20!%3D%3D%20target.x%20%7C%7C%20prev.y%20!%3D%3D%20target.y))%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20pos%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20%20%20%20%20(target.x%20%2B%20_scroll.x)%20%2F%20zoom%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(target.y%20%2B%20_scroll.y)%20%2F%20zoom%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20this._setPosition(body%2C%20pos)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(!fixedRotation)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20body.SetAngle((90%20-%20target.direction)%20*%20toRad)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20body.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(!fixedRotation%20%26%26%20prev%20%26%26%20prev.dir%20!%3D%3D%20target.direction)%20%7B%0A%20%20%20%20%20%20%20%20%20%20body.SetAngle((90%20-%20target.direction)%20*%20toRad)%3B%0A%20%20%20%20%20%20%20%20%20%20body.SetAwake(true)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Play%20a%20drum%20sound%20for%20some%20number%20of%20beats.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20x%20-%20x%20offset.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20y%20-%20y%20offset.%0A%20%20%20%20%20*%2F%0A%20%20%20%20setPhysicsAll()%20%7B%0A%20%20%20%20%20%20const%20allTargets%20%3D%20this.runtime.targets%3B%0A%20%20%20%20%20%20if%20(allTargets%20%3D%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allTargets.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20allTargets%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(!target.isStage%20%26%26%20!bodies%5Btarget.id%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.setPhysicsFor(target)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Play%20a%20drum%20sound%20for%20some%20number%20of%20beats.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40property%20%7Bstring%7D%20shape%20-%20the%20shape%0A%20%20%20%20%20*%2F%0A%20%20%20%20setPhysics(args%2C%20util)%20%7B%0A%20%20%20%20%20%20%2F%2F%20this._playDrumForBeats(args.DRUM%2C%20args.BEATS%2C%20util)%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(util.runtime.audioEngine%20%3D%3D%3D%20null)%20return%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(util.target.sprite.soundBank%20%3D%3D%3D%20null)%20return%3B%0A%0A%20%20%20%20%20%20%2F%2F%20const%20dx%20%3D%20Cast.toNumber(args.x)%3B%0A%20%20%20%20%20%20%2F%2F%20const%20dy%20%3D%20Cast.toNumber(args.y)%3B%0A%0A%20%20%20%20%20%20if%20(args.shape%20%3D%3D%3D%20SHAPE_TYPE_OPTIONS.ALL)%20%7B%0A%20%20%20%20%20%20%20%20this.setPhysicsAll()%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0A%20%20%20%20%20%20const%20body%20%3D%20this.setPhysicsFor(target%2C%20args.shape)%3B%0A%20%20%20%20%20%20if%20(body)%20%7B%0A%20%20%20%20%20%20%20%20body.SetBullet(args.mode%20%3D%3D%3D%20%22bullet%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setPhysicsFor(target%2C%20shape)%20%7B%0A%20%20%20%20%20%20const%20r%20%3D%20this.runtime.renderer%3B%0A%20%20%20%20%20%20const%20drawable%20%3D%20r._allDrawables%5Btarget.drawableID%5D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Tell%20the%20Drawable%20about%20its%20updated%20convex%20hullPoints%2C%20if%20necessary.%0A%20%20%20%20%20%20if%20(drawable.needsConvexHullPoints())%20%7B%0A%20%20%20%20%20%20%20%20const%20points%20%3D%20r._getConvexHullPointsForDrawable(target.drawableID)%3B%0A%20%20%20%20%20%20%20%20drawable.setConvexHullPoints(points)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20if%20(drawable._transformDirty)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20drawable._calculateTransform()%3B%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%20%20%20%20%20%20%2F%2F%20const%20points%20%3D%20drawable._getTransformedHullPoints()%3B%0A%20%20%20%20%20%20%2F%2F%0A%20%20%20%20%20%20%2F%2F%20const%20hullPoints%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%2F%2F%20for%20(const%20i%20in%20points)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20hullPoints.push(%7Bx%3A%20points%5Bi%5D%5B0%5D%20-%20target.x%2C%20y%3A%20points%5Bi%5D%5B1%5D%20-%20target.y%7D)%3B%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%0A%20%20%20%20%20%20const%20points%20%3D%20drawable._convexHullPoints%3B%0A%20%20%20%20%20%20const%20scaleX%20%3D%20drawable.scale%5B0%5D%20%2F%20100%3B%0A%20%20%20%20%20%20const%20scaleY%20%3D%20drawable.scale%5B1%5D%20%2F%20-100%3B%20%2F%2F%20Flip%20Y%20for%20hulls%0A%20%20%20%20%20%20const%20offset%20%3D%20drawable.skin.rotationCenter%3B%0A%20%20%20%20%20%20let%20allHulls%20%3D%20null%3B%0A%0A%20%20%20%20%20%20if%20(shape%20%3D%3D%3D%20SHAPE_TYPE_OPTIONS.CIRCLE)%20%7B%0A%20%20%20%20%20%20%20%20fixDef.shape%20%3D%20new%20b2CircleShape()%3B%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20drawable.skin.size%3B%0A%20%20%20%20%20%20%20%20fixDef.shape.SetRadius(%0A%20%20%20%20%20%20%20%20%20%20(size%5B0%5D%20*%20Math.abs(scaleX)%20%2B%20size%5B1%5D%20*%20Math.abs(scaleY))%20%2F%204.0%20%2F%20zoom%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20fixDef.shape.SetRadius((drawable.getBounds().width%20%2F%202)%20%2F%20zoom)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(shape%20%3D%3D%3D%20SHAPE_TYPE_OPTIONS.SVG_POLYGON)%20%7B%0A%20%20%20%20%20%20%20%20const%20svg%20%3D%20drawable._skin._svgRenderer._svgTag%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20recurse%20through%20childNodes%20of%20type%20'g'%2C%20looking%20for%20type%20'path'%0A%0A%20%20%20%20%20%20%20%20const%20hullPoints%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20if%20(svg)%20%7B%0A%20%20%20%20%20%20%20%20%20%20this._fetchPolygonPointsFromSVG(%0A%20%20%20%20%20%20%20%20%20%20%20%20svg%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hullPoints%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20offset%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20offset%5B1%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20scaleX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20scaleY%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20_definePolyFromHull(hullPoints%5B0%5D)%3B%0A%20%20%20%20%20%20%20%20allHulls%20%3D%20hullPoints%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20const%20hullPoints%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20(const%20i%20in%20points)%20%7B%0A%20%20%20%20%20%20%20%20%20%20hullPoints.push(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20(points%5Bi%5D%5B0%5D%20-%20offset%5B0%5D)%20*%20scaleX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20(points%5Bi%5D%5B1%5D%20-%20offset%5B1%5D)%20*%20scaleY%2C%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20_definePolyFromHull(hullPoints)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20fixedRotation%20%3D%20target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND%3B%0A%20%20%20%20%20%20const%20body%20%3D%20_placeBody(%0A%20%20%20%20%20%20%20%20target.id%2C%0A%20%20%20%20%20%20%20%20target.x%2C%0A%20%20%20%20%20%20%20%20target.y%2C%0A%20%20%20%20%20%20%20%20fixedRotation%20%3F%2090%20%3A%20target.direction%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20if%20(target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND)%20%7B%0A%20%20%20%20%20%20%20%20body.SetFixedRotation(true)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(allHulls)%20%7B%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%201%3B%20i%20%3C%20allHulls.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20_definePolyFromHull(allHulls%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20body.CreateFixture(fixDef)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20body%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%0A%20%20%20%20%20*%20%40param%20svg%20the%20svg%20element%0A%20%20%20%20%20*%20%40param%20%7BArray%7D%20hullPointsList%20array%20of%20points%0A%20%20%20%20%20*%20%40private%0A%20%20%20%20%20*%2F%0A%20%20%20%20_fetchPolygonPointsFromSVG(svg%2C%20hullPointsList%2C%20ox%2C%20oy%2C%20scaleX%2C%20scaleY)%20%7B%0A%20%20%20%20%20%20if%20(svg.tagName%20%3D%3D%3D%20%22g%22%20%7C%7C%20svg.tagName%20%3D%3D%3D%20%22svg%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(svg.hasChildNodes())%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20(const%20node%20of%20svg.childNodes)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._fetchPolygonPointsFromSVG(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20node%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20hullPointsList%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20oy%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scaleX%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20scaleY%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(svg.tagName%20!%3D%3D%20%22path%22)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20This%20is%20it%20boys!%20Get%20that%20svg%20data%20%3A)%0A%20%20%20%20%20%20%2F%2F%20%3Cpath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20d%3D%22M%201%20109.7118%20L%201%201.8097%20L%2060.3049%2038.0516%20L%20117.9625%201.8097%20L%20117.9625%20109.7118%20L%2059.8931%2073.8817%20Z%20%22%0A%20%20%20%20%20%20%2F%2F%20%20data-paper-data%3D%22%7B%26quot%3BorigPos%26quot%3B%3Anull%7D%22%20stroke-width%3D%222%22%20fill%3D%22%239966ff%22%2F%3E%0A%0A%20%20%20%20%20%20let%20fx%3B%0A%20%20%20%20%20%20let%20fy%3B%0A%0A%20%20%20%20%20%20const%20hullPoints%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20hullPointsList.push(hullPoints)%3B%0A%0A%20%20%20%20%20%20const%20tokens%20%3D%20svg.getAttribute(%22d%22).split(%22%20%22)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20tokens.length%3B%20)%20%7B%0A%20%20%20%20%20%20%20%20const%20token%20%3D%20tokens%5Bi%2B%2B%5D%3B%0A%20%20%20%20%20%20%20%20if%20(token%20%3D%3D%3D%20%22M%22%20%7C%7C%20token%20%3D%3D%3D%20%22L%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(tokens%5Bi%2B%2B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(tokens%5Bi%2B%2B%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20hullPoints.push(%7B%20x%3A%20(x%20-%20ox)%20*%20scaleX%2C%20y%3A%20(y%20-%20oy)%20*%20scaleY%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(token%20%3D%3D%3D%20%22M%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fx%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20fy%20%3D%20y%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(token%20%3D%3D%3D%20%22Z%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20hullPoints.push(%7B%20x%3A%20(fx%20-%20ox)%20*%20scaleX%2C%20y%3A%20(fy%20-%20oy)%20*%20scaleY%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20applyForce(args%2C%20util)%20%7B%0A%20%20%20%20%20%20_applyForce(%0A%20%20%20%20%20%20%20%20util.target.id%2C%0A%20%20%20%20%20%20%20%20%22Impulse%22%2C%0A%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.dir)%2C%0A%20%20%20%20%20%20%20%20Cast.toNumber(args.force)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20applyAngForce(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.ApplyTorque(-Cast.toNumber(args.force))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setAngVelocity(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20body.SetAngularVelocity(-Cast.toNumber(args.force))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getAngVelocity(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20vel%20%3D%20-body.GetAngularVelocity()%3B%0A%20%20%20%20%20%20return%20vel%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDensity(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.GetFixtureList().SetDensity(Cast.toNumber(args.density)%20%2F%20100.0)%3B%0A%20%20%20%20%20%20body.ResetMassData()%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20getDensity(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20body.GetFixtureList().GetDensity()%20*%20100%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFriction(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.GetFixtureList().SetFriction(Cast.toNumber(args.friction)%20%2F%20100.0)%3B%0A%20%20%20%20%20%20body.ResetMassData()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getFriction(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20body.GetFixtureList().GetFriction()%20*%20100%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setRestitution(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.GetFixtureList().SetRestitution(Cast.toNumber(args.restitution)%20%2F%20100.0)%3B%0A%20%20%20%20%20%20body.ResetMassData()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getRestitution(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20body.GetFixtureList().GetRestitution()%20*%20100%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setProperties(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.GetFixtureList().SetDensity(Cast.toNumber(args.density)%20%2F%20100.0)%3B%0A%20%20%20%20%20%20body.GetFixtureList().SetFriction(Cast.toNumber(args.friction)%20%2F%20100.0)%3B%0A%20%20%20%20%20%20body.GetFixtureList().SetRestitution(Cast.toNumber(args.restitution)%20%2F%20100.0)%3B%0A%20%20%20%20%20%20body.ResetMassData()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20pinSprite(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(!bodies%5Butil.target.id%5D)%20%7B%0A%20%20%20%20%20%20%20%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.x)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.y)%3B%0A%0A%20%20%20%20%20%20_createJointOfType(%0A%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%22Rotating%22%2C%0A%20%20%20%20%20%20%20%20util.target.id%2C%0A%20%20%20%20%20%20%20%20x%2C%0A%20%20%20%20%20%20%20%20y%2C%0A%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20null%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Set's%20the%20sprites%20position.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20x%20-%20x%20offset.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20y%20-%20y%20offset.%0A%20%20%20%20%20*%20%40property%20%7Bstring%7D%20space%20-%20Space%20type%20(SPACE_TYPE_OPTIONS)%0A%20%20%20%20%20*%2F%0A%20%20%20%20setPosition(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.x)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.y)%3B%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%0A%20%20%20%20%20%20switch%20(args.space)%20%7B%0A%20%20%20%20%20%20%20%20case%20SPACE_TYPE_OPTIONS.STAGE%3A%0A%20%20%20%20%20%20%20%20%20%20_setXY(util.target%2C%20x%2C%20y)%3B%20%2F%2F%20Position%20on%20stage%20(after%20scroll)%0A%20%20%20%20%20%20%20%20%20%20if%20(body)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._setPosition(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20body%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20b2Vec2((x%20%2B%20_scroll.x)%20%2F%20zoom%2C%20(y%20%2B%20_scroll.y)%20%2F%20zoom)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20SPACE_TYPE_OPTIONS.RELATIVE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20_setXY(util.target%2C%20util.target.x%20%2B%20x%2C%20util.target.x%20%2B%20y)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(body)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pos%20%3D%20body.GetPosition()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pos2%20%3D%20new%20b2Vec2(pos.x%20%2B%20x%20%2F%20zoom%2C%20pos.y%20%2B%20y%20%2F%20zoom)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._setPosition(body%2C%20pos2)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20_setXY(util.target%2C%20x%20-%20_scroll.x%2C%20y%20-%20_scroll.y)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(body)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this._setPosition(body%2C%20new%20b2Vec2(x%20%2F%20zoom%2C%20y%20%2F%20zoom))%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20_setPosition(body%2C%20pos2)%20%7B%0A%20%20%20%20%20%20const%20md%20%3D%20pinned%5Bbody.uid%5D%3B%0A%20%20%20%20%20%20if%20(md)%20%7B%0A%20%20%20%20%20%20%20%20world.DestroyJoint(md)%3B%0A%20%20%20%20%20%20%20%20pinned%5Bbody.uid%5D%20%3D%20_createJointOfType(%0A%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%22Rotating%22%2C%0A%20%20%20%20%20%20%20%20%20%20body.uid%2C%0A%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20pos2.x%20*%20zoom%2C%0A%20%20%20%20%20%20%20%20%20%20pos2.y%20*%20zoom%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20body.SetPosition(pos2)%3B%0A%20%20%20%20%20%20%2F%2F%20if%20(md)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20pinned%5Bbody.uid%5D%20%3D%20_createJointOfType(null%2C%20'Rotating'%2C%20body.uid%2C%200%2C%200%2C%20null%2C%20null%2C%20null)%3B%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Set%20the%20sprites%20velocity.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sx%20-%20speed%20x.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sy%20-%20speed%20y.%0A%20%20%20%20%20*%2F%0A%20%20%20%20setVelocity(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.SetAwake(true)%3B%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.sx)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.sy)%3B%0A%20%20%20%20%20%20const%20force%20%3D%20new%20b2Vec2(x%2C%20y)%3B%0A%20%20%20%20%20%20force.Multiply(30%20%2F%20zoom)%3B%0A%20%20%20%20%20%20body.SetLinearVelocity(force)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Change%20the%20sprites%20velocity.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sx%20-%20speed%20x.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20sy%20-%20speed%20y.%0A%20%20%20%20%20*%2F%0A%20%20%20%20changeVelocity(args%2C%20util)%20%7B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(util.target)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body.SetAwake(true)%3B%0A%0A%20%20%20%20%20%20const%20x%20%3D%20Cast.toNumber(args.sx)%3B%0A%20%20%20%20%20%20const%20y%20%3D%20Cast.toNumber(args.sy)%3B%0A%20%20%20%20%20%20const%20force%20%3D%20new%20b2Vec2(x%2C%20y)%3B%0A%20%20%20%20%20%20force.Multiply(30%20%2F%20zoom)%3B%0A%20%20%20%20%20%20force.Add(body.GetLinearVelocity())%3B%0A%20%20%20%20%20%20body.SetLinearVelocity(force)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Get%20the%20current%20tempo.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40return%20%7Bboolean%7D%20-%20the%20current%20tempo%2C%20in%20beats%20per%20minute.%0A%20%20%20%20%20*%2F%0A%20%20%20%20getStatic(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20type%20%3D%20body.GetType()%3B%0A%20%20%20%20%20%20return%20type%20%3D%3D%3D%20b2Body.b2_staticBody%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Get%20the%20current%20tempo.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40return%20%7Bnumber%7D%20-%20the%20current%20x%20velocity.%0A%20%20%20%20%20*%2F%0A%20%20%20%20getVelocityX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20x%20%3D%20body.GetLinearVelocity().x%3B%0A%20%20%20%20%20%20return%20(x%20*%20zoom)%20%2F%2030%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Get%20the%20current%20tempo.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40return%20%7Bboolean%7D%20-%20the%20current%20y%20velocity.%0A%20%20%20%20%20*%2F%0A%20%20%20%20getVelocityY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20y%20%3D%20body.GetLinearVelocity().y%3B%0A%20%20%20%20%20%20return%20(y%20*%20zoom)%20%2F%2030%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Sets%20the%20static%20property%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20util%20-%20utility%20object%20provided%20by%20the%20runtime.%0A%20%20%20%20%20*%20%40property%20%7Bstring%7D%20static%20-%20static%20or%20not%0A%20%20%20%20%20*%2F%0A%20%20%20%20setStatic(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0A%20%20%20%20%20%20let%20body%20%3D%20bodies%5Butil.target.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20body%20%3D%20this.setPhysicsFor(target)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20body.SetType(%0A%20%20%20%20%20%20%20%20args.static%20%3D%3D%3D%20%22static%22%20%3F%20b2Body.b2_staticBody%20%3A%20b2Body.b2_dynamicBody%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20const%20pos%20%3D%20new%20b2Vec2(%0A%20%20%20%20%20%20%20%20(target.x%20%2B%20_scroll.x)%20%2F%20zoom%2C%0A%20%20%20%20%20%20%20%20(target.y%20%2B%20_scroll.y)%20%2F%20zoom%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20const%20fixedRotation%20%3D%20target.rotationStyle%20!%3D%3D%20ROTATION_STYLE_ALL_AROUND%3B%0A%20%20%20%20%20%20body.SetPositionAndAngle(%0A%20%20%20%20%20%20%20%20pos%2C%0A%20%20%20%20%20%20%20%20fixedRotation%20%3F%200%20%3A%20(90%20-%20target.direction)%20*%20toRad%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20if%20(args.static%20%3D%3D%3D%20%22pinned%22)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Find%20what's%20behind%20the%20sprite%20(pin%20to%20that)%0A%20%20%20%20%20%20%20%20const%20point%20%3D%20new%20b2AABB()%3B%0A%20%20%20%20%20%20%20%20point.lowerBound.SetV(pos)%3B%0A%20%20%20%20%20%20%20%20point.upperBound.SetV(pos)%3B%0A%20%20%20%20%20%20%20%20let%20body2ID%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20world.QueryAABB((fixture)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20body2%20%3D%20fixture.GetBody()%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(body2%20!%3D%3D%20body%20%26%26%20fixture.TestPoint(pos.x%2C%20pos.y))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20body2ID%20%3D%20body2.uid%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20point)%3B%0A%0A%20%20%20%20%20%20%20%20pinned%5Btarget.id%5D%20%3D%20_createJointOfType(%0A%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%22Rotating%22%2C%0A%20%20%20%20%20%20%20%20%20%20target.id%2C%0A%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%200%2C%0A%20%20%20%20%20%20%20%20%20%20body2ID%2C%0A%20%20%20%20%20%20%20%20%20%20null%2C%0A%20%20%20%20%20%20%20%20%20%20null%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20const%20pin%20%3D%20pinned%5Btarget.id%5D%3B%0A%20%20%20%20%20%20%20%20if%20(pin)%20%7B%0A%20%20%20%20%20%20%20%20%20%20world.DestroyJoint(pin)%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20delete%20joints%5Bpin.I%5D%3B%0A%20%20%20%20%20%20%20%20%20%20delete%20pinned%5Btarget.id%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Sets%20the%20sprite%20offset%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20ox%20-%20x%20offset.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20oy%20-%20y%20offset.%0A%20%20%20%20%20*%2F%0A%20%20%20%20setScroll(args)%20%7B%0A%20%20%20%20%20%20this._checkMoved()%3B%0A%20%20%20%20%20%20_scroll.x%20%3D%20Cast.toNumber(args.ox)%3B%0A%20%20%20%20%20%20_scroll.y%20%3D%20Cast.toNumber(args.oy)%3B%0A%20%20%20%20%20%20this._repositionBodies()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Sets%20the%20sprite%20offset%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20ox%20-%20x%20offset.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20oy%20-%20y%20offset.%0A%20%20%20%20%20*%2F%0A%20%20%20%20changeScroll(args)%20%7B%0A%20%20%20%20%20%20this._checkMoved()%3B%0A%20%20%20%20%20%20_scroll.x%20%2B%3D%20Cast.toNumber(args.ox)%3B%0A%20%20%20%20%20%20_scroll.y%20%2B%3D%20Cast.toNumber(args.oy)%3B%0A%20%20%20%20%20%20this._repositionBodies()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Get%20the%20scroll%20x.%0A%20%20%20%20%20*%20%40return%20%7Bnumber%7D%20-%20the%20current%20x%20velocity.%0A%20%20%20%20%20*%2F%0A%20%20%20%20getScrollX()%20%7B%0A%20%20%20%20%20%20return%20_scroll.x%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Get%20the%20scroll%20x.%0A%20%20%20%20%20*%20%40return%20%7Bnumber%7D%20-%20the%20current%20x%20velocity.%0A%20%20%20%20%20*%2F%0A%20%20%20%20getScrollY()%20%7B%0A%20%20%20%20%20%20return%20_scroll.y%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_repositionBodies()%20%7B%0A%20%20%20%20%20%20for%20(const%20targetID%20in%20bodies)%20%7B%0A%20%20%20%20%20%20%20%20const%20body%20%3D%20bodies%5BtargetID%5D%3B%0A%20%20%20%20%20%20%20%20const%20target%20%3D%20this.runtime.getTargetById(targetID)%3B%0A%20%20%20%20%20%20%20%20if%20(target)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20position%20%3D%20body.GetPosition()%3B%0A%20%20%20%20%20%20%20%20%20%20_setXY(%0A%20%20%20%20%20%20%20%20%20%20%20%20target%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20position.x%20*%20zoom%20-%20_scroll.x%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20position.y%20*%20zoom%20-%20_scroll.y%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20prevPos%5BtargetID%5D%20%3D%20%7B%20x%3A%20target.x%2C%20y%3A%20target.y%2C%20dir%3A%20target.direction%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getTouching(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20util.target%3B%0A%20%20%20%20%20%20const%20body%20%3D%20bodies%5Btarget.id%5D%3B%0A%20%20%20%20%20%20if%20(!body)%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20where%20%3D%20args.where%3B%0A%20%20%20%20%20%20let%20touching%20%3D%20%22%22%3B%0A%20%20%20%20%20%20const%20contacts%20%3D%20body.GetContactList()%3B%0A%20%20%20%20%20%20for%20(let%20ce%20%3D%20contacts%3B%20ce%3B%20ce%20%3D%20ce.next)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20noinspection%20JSBitwiseOperatorUsage%0A%20%20%20%20%20%20%20%20if%20(ce.contact.m_flags%20%26%20b2Contact.e_islandFlag)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20ce.contact.IsSensor()%20%3D%3D%3D%20true%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20ce.contact.IsEnabled()%20%3D%3D%3D%20false%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20ce.contact.IsTouching()%20%3D%3D%3D%20false%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20const%20contact%20%3D%20ce.contact%3B%0A%20%20%20%20%20%20%20%20const%20fixtureA%20%3D%20contact.GetFixtureA()%3B%0A%20%20%20%20%20%20%20%20const%20fixtureB%20%3D%20contact.GetFixtureB()%3B%0A%20%20%20%20%20%20%20%20const%20bodyA%20%3D%20fixtureA.GetBody()%3B%0A%20%20%20%20%20%20%20%20const%20bodyB%20%3D%20fixtureB.GetBody()%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20const%20myFix%20%3D%20touchingB%20%3F%20fixtureA%20%3A%20fixtureB%3B%0A%0A%20%20%20%20%20%20%20%20const%20touchingB%20%3D%20bodyA%20%3D%3D%3D%20body%3B%0A%20%20%20%20%20%20%20%20if%20(where%20!%3D%3D%20%22any%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20man%20%3D%20new%20Box2D.Collision.b2WorldManifold()%3B%0A%20%20%20%20%20%20%20%20%20%20contact.GetWorldManifold(man)%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20man.m_points%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20const%20mx%20%3D%20man.m_normal.x%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20const%20my%20%3D%20man.m_normal.y%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(where%20%3D%3D%3D%20%22feet%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20(my%20%3E%20-0.6)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20fixture%20%3D%20body.GetFixtureList()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20y%20%3D%20man.m_points%5B0%5D.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fixture.m_aabb.lowerBound.y%20*%200.75%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fixture.m_aabb.upperBound.y%20*%200.25%0A%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20const%20lp%20%3D%20body.GetLocalPoint(man.m_points%5B0%5D).Normalize()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20(lp.y)%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20other%20%3D%20touchingB%20%3F%20bodyB%20%3A%20bodyA%3B%0A%20%20%20%20%20%20%20%20const%20uid%20%3D%20other.uid%3B%0A%20%20%20%20%20%20%20%20const%20target2%20%3D%20uid%0A%20%20%20%20%20%20%20%20%20%20%3F%20this.runtime.getTargetById(uid)%0A%20%20%20%20%20%20%20%20%20%20%3A%20this.runtime.getTargetForStage()%3B%0A%20%20%20%20%20%20%20%20if%20(target2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20target2.sprite.name%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(touching.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20touching%20%3D%20name%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20touching%20%2B%3D%20%60%2C%24%7Bname%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20touching%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Sets%20the%20stage%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20stageType%20-%20Stage%20Type.%0A%20%20%20%20%20*%2F%0A%20%20%20%20setStage(args)%20%7B%0A%20%20%20%20%20%20_setStageType(args.stageType)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20Sets%20the%20gravity%0A%20%20%20%20%20*%20%40param%20%7Bobject%7D%20args%20-%20the%20block%20arguments.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20gx%20-%20Gravity%20x.%0A%20%20%20%20%20*%20%40property%20%7Bnumber%7D%20gy%20-%20Gravity%20y.%0A%20%20%20%20%20*%2F%0A%20%20%20%20setGravity(args)%20%7B%0A%20%20%20%20%20%20world.SetGravity(%0A%20%20%20%20%20%20%20%20new%20b2Vec2(Cast.toNumber(args.gx)%2C%20Cast.toNumber(args.gy))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20for%20(const%20bodyID%20in%20bodies)%20%7B%0A%20%20%20%20%20%20%20%20bodies%5BbodyID%5D.SetAwake(true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getGravityX()%20%7B%0A%20%20%20%20%20%20return%20world.GetGravity().x%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getGravityY()%20%7B%0A%20%20%20%20%20%20return%20world.GetGravity().y%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Scratch3Griffpatch())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(function(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F%2F%20This%20extension%20was%20created%20by%20making%20projects%20with%20https%3A%2F%2Flab.scratch.mit.edu%2Ftext%2F%0A%20%20%2F%2F%20To%20determine%20block%20and%20argument%20IDs%2C%20we%20extracted%20project.json%20and%20examined%20the%20result.%0A%20%20%2F%2F%20To%20determine%20block%20behaviors%20we%20simply%20experiment%20with%20Scratch%20Labs%20and%20made%20sure%20our%0A%20%20%2F%2F%20blocks%20do%20the%20same%20things.%0A%20%20%2F%2F%20This%20extension's%20code%20is%20not%20based%20on%20the%20source%20code%20of%20Scratch%20Labs.%0A%0A%20%20%2F%2F%20by%20%40LilyMakesThings%0A%20%20const%20blockIconURI%20%3D%20'data%3Aimage%2Fsvg%2Bxml%3B%2C%253Csvg%2520xmlns%253D%2522http%253A%252F%252Fwww.w3.org%252F2000%252Fsvg%2522%2520width%253D%2522284.242%2522%2520height%253D%2522284.242%2522%253E%253Cg%2520fill-rule%253D%2522evenodd%2522%2520stroke-miterlimit%253D%252210%2522%2520data-paper-data%253D%2522%257B%2526quot%253BisPaintingLayer%2526quot%253B%253Atrue%257D%2522%2520style%253D%2522mix-blend-mode%253Anormal%2522%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.83%2520522.83%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%252396f%2522%2520stroke%253D%2522%25237240d6%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%252229%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.83%2520522.83%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%2523ffa24d%2522%2520stroke%253D%2522%2523fff%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%25229%2522%2520d%253D%2522M188.894%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.48%25209.888a1671.47%25201671.47%25200%25200%25200-4.174%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.329%2520157.508H225.43l-9.636-26.111h-54.08l-9.636%252026.11h-43.432l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%252396f%2522%2520stroke%253D%2522%25237240d6%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%252229%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522%2523ff774d%2522%2520stroke%253D%2522%2523fff%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%25229%2522%2520d%253D%2522M143.696%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888a1671.47%25201671.47%25200%25200%25200-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.827%2520522.827%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.519-56.092%252062.33%2520157.508h-44.312l-9.637-26.111h-54.08l-9.636%252026.11H63.448l62.768-157.507Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253Cpath%2520fill%253D%2522%252396f%2522%2520stroke%253D%2522%25237240d6%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%252229%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.343%2520408.343%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253Cpath%2520fill%253D%2522none%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253Cpath%2520fill%253D%2522%2523ff4c4c%2522%2520stroke%253D%2522%2523fff%2522%2520stroke-linejoin%253D%2522round%2522%2520stroke-width%253D%25229%2522%2520d%253D%2522M94.748%2520119.459c-.706%25202.378-1.43%25204.69-2.172%25206.933-1.05%25203.15-2.21%25206.445-3.479%25209.888-1.27%25203.442-2.66%25207.263-4.175%252011.462l-5.73%252015.528h30.833l-5.73-15.528a522.885%2520522.885%25200%25200%25201-4.065-11.242%2520408.302%2520408.302%25200%25200%25201-3.37-10.108%2520350.767%2520350.767%25200%25200%25201-2.112-6.933zm18.52-56.092%252062.328%2520157.508h-44.311l-9.637-26.111h-54.08l-9.635%252026.11H14.5L77.269%252063.368Z%2522%252F%253E%253C%252Fg%253E%253C%252Fsvg%253E'%3B%0A%0A%20%20const%20CUSTOM_STATE_KEY%20%3D%20Symbol()%3B%0A%0A%20%20const%20ALIGN_LEFT%20%3D%200%3B%0A%20%20const%20ALIGN_RIGHT%20%3D%201%3B%0A%20%20const%20ALIGN_CENTER%20%3D%202%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20renderer%20%3D%20vm.renderer%3B%0A%20%20const%20gl%20%3D%20renderer.gl%3B%0A%0A%20%20const%20NATIVE_FONTS%20%3D%20%5B%0A%20%20%20%20'Sans%20Serif'%2C%0A%20%20%20%20'Serif'%2C%0A%20%20%20%20'Handwriting'%2C%0A%20%20%20%20'Marker'%2C%0A%20%20%20%20'Curly'%2C%0A%20%20%20%20'Pixel'%2C%0A%20%20%5D%3B%0A%0A%20%20const%20DEFAULT_COLOR%20%3D%20'%23575e75'%3B%0A%20%20const%20DEFAULT_FONT%20%3D%20'Handwriting'%3B%0A%20%20const%20DEFAULT_WIDTH%20%3D%20vm.runtime.stageWidth%3B%0A%20%20const%20DEFAULT_ALIGN%20%3D%20ALIGN_CENTER%3B%0A%20%20const%20DEFAULT_FONT_SIZE%20%3D%2024%3B%0A%0A%20%20const%20TYPE_DELAY%20%3D%201000%20%2F%2015%3B%0A%0A%20%20const%20RAINBOW_TIME_PER%20%3D%201000%3B%0A%20%20const%20RAINBOW_DURATION%20%3D%202000%3B%0A%0A%20%20const%20ZOOM_DURATION%20%3D%20500%3B%0A%0A%20%20let%20globalFrameTime%20%3D%200%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40typedef%20TextState%0A%20%20%20*%20%40property%20%7BTextCostumeSkin%7D%20skin%0A%20%20%20*%2F%0A%0A%20%20%2F%2F%20temporary%0A%20%20if%20(!renderer.exports%20%7C%7C%20!renderer.exports.Skin%20%7C%7C%20!vm.exports)%20%7B%0A%20%20%20%20alert('VM%20is%20too%20old%20for%20animated%20text%20extension')%3B%0A%20%20%20%20throw%20new%20Error('VM%20is%20too%20old')%3B%0A%20%20%7D%0A%0A%20%20const%20Skin%20%3D%20renderer.exports.Skin%3B%0A%20%20const%20CanvasMeasurementProvider%20%3D%20renderer.exports.CanvasMeasurementProvider%3B%0A%20%20const%20twgl%20%3D%20renderer.exports.twgl%3B%0A%20%20const%20RenderedTarget%20%3D%20vm.exports.RenderedTarget%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bnumber%7D%20c%0A%20%20%20*%20%40returns%20%7Bstring%7D%0A%20%20%20*%2F%0A%20%20const%20formatComponent%20%3D%20(c)%20%3D%3E%20Math.round(c).toString(16).padStart(2%2C%20'0')%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7B%5Bnumber%2C%20number%2C%20number%5D%7D%20color%0A%20%20%20*%20%40returns%20%7Bstring%7D%0A%20%20%20*%2F%0A%20%20const%20formatColor%20%3D%20(color)%20%3D%3E%20%60%23%24%7BformatComponent(color%5B0%5D)%7D%24%7BformatComponent(color%5B1%5D)%7D%24%7BformatComponent(color%5B2%5D)%7D%60%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bnumber%7D%20h%20hue%20from%200-1%0A%20%20%20*%20%40param%20%7Bnumber%7D%20s%20saturation%20from%200-1%0A%20%20%20*%20%40param%20%7Bnumber%7D%20v%20value%20from%200-1%0A%20%20%20*%20%40returns%20%7B%5Bnumber%2C%20number%2C%20number%5D%7D%20RGB%20channels%20from%200-255%0A%20%20%20*%2F%0A%20%20const%20hsvToRGB%20%3D%20(h%2C%20s%2C%20v)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FHSL_and_HSV%0A%20%20%20%20var%20r%2C%20g%2C%20b%3B%0A%20%20%20%20var%20i%20%3D%20Math.floor(h%20*%206)%3B%0A%20%20%20%20var%20f%20%3D%20h%20*%206%20-%20i%3B%0A%20%20%20%20var%20p%20%3D%20v%20*%20(1%20-%20s)%3B%0A%20%20%20%20var%20q%20%3D%20v%20*%20(1%20-%20f%20*%20s)%3B%0A%20%20%20%20var%20t%20%3D%20v%20*%20(1%20-%20(1%20-%20f)%20*%20s)%3B%0A%20%20%20%20switch%20(i%20%25%206)%20%7B%0A%20%20%20%20%20%20case%200%3A%20r%20%3D%20v%2C%20g%20%3D%20t%2C%20b%20%3D%20p%3B%20break%3B%0A%20%20%20%20%20%20case%201%3A%20r%20%3D%20q%2C%20g%20%3D%20v%2C%20b%20%3D%20p%3B%20break%3B%0A%20%20%20%20%20%20case%202%3A%20r%20%3D%20p%2C%20g%20%3D%20v%2C%20b%20%3D%20t%3B%20break%3B%0A%20%20%20%20%20%20case%203%3A%20r%20%3D%20p%2C%20g%20%3D%20q%2C%20b%20%3D%20v%3B%20break%3B%0A%20%20%20%20%20%20case%204%3A%20r%20%3D%20t%2C%20g%20%3D%20p%2C%20b%20%3D%20v%3B%20break%3B%0A%20%20%20%20%20%20case%205%3A%20r%20%3D%20v%2C%20g%20%3D%20p%2C%20b%20%3D%20q%3B%20break%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%5Br%20*%20255%20%7C%200%2C%20g%20*%20255%20%7C%200%2C%20b%20*%20255%20%7C%200%5D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BCanvasGradient%7D%20gradient%0A%20%20%20*%20%40param%20%7Bnumber%7D%20offset%20number%20of%20cycles%20to%20offset%20by%0A%20%20%20*%2F%0A%20%20const%20addRainbowStops%20%3D%20(gradient%2C%20offset)%20%3D%3E%20%7B%0A%20%20%20%20const%20NUMBER_STOPS%20%3D%2020%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20NUMBER_STOPS%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20exactPosition%20%3D%20i%20%2F%20NUMBER_STOPS%3B%0A%20%20%20%20%20%20let%20offsetPosition%20%3D%20(exactPosition%20-%20offset)%20%25%201%3B%0A%20%20%20%20%20%20if%20(offsetPosition%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20offsetPosition%20%2B%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20rgb%20%3D%20hsvToRGB(offsetPosition%2C%201%2C%201)%3B%0A%20%20%20%20%20%20gradient.addColorStop(exactPosition%2C%20formatColor(rgb))%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20class%20TextCostumeSkin%20extends%20Skin%20%7B%0A%20%20%20%20constructor%20(id%2C%20drawable)%20%7B%0A%20%20%20%20%20%20super(id%2C%20renderer)%3B%0A%0A%20%20%20%20%20%20%2F**%20%40type%20%7BRenderWebGL.Drawable%7D%20*%2F%0A%20%20%20%20%20%20this.drawable%20%3D%20drawable%3B%0A%20%20%20%20%20%20%2F**%20%40type%20%7Bnumber%7D%20*%2F%0A%20%20%20%20%20%20this._previousDrawableXScale%20%3D%20100%3B%0A%0A%20%20%20%20%20%20this.canvas%20%3D%20document.createElement('canvas')%3B%0A%20%20%20%20%20%20this.canvas.width%20%3D%200%3B%0A%20%20%20%20%20%20this.canvas.height%20%3D%200%3B%0A%20%20%20%20%20%20this.ctx%20%3D%20this.canvas.getContext('2d')%3B%0A%0A%20%20%20%20%20%20this.text%20%3D%20''%3B%0A%20%20%20%20%20%20this.color%20%3D%20DEFAULT_COLOR%3B%0A%20%20%20%20%20%20this.textWidth%20%3D%20DEFAULT_WIDTH%3B%0A%20%20%20%20%20%20this.fontFamily%20%3D%20DEFAULT_FONT%3B%0A%20%20%20%20%20%20this.baseFontSize%20%3D%20DEFAULT_FONT_SIZE%3B%0A%20%20%20%20%20%20this.align%20%3D%20DEFAULT_ALIGN%3B%0A%0A%20%20%20%20%20%20%2F**%20%40type%20%7BArray%3C%7Btext%3A%20string%3B%20width%3A%20number%3B%7D%3E%7D%20*%2F%0A%20%20%20%20%20%20this.lines%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%2F**%20%40type%20%7B%5Bnumber%2C%20number%5D%7D%20*%2F%0A%20%20%20%20%20%20this._size%20%3D%20%5B0%2C%200%5D%3B%0A%20%20%20%20%20%20%2F**%20%40type%20%7B%5Bnumber%2C%20number%5D%7D%20*%2F%0A%20%20%20%20%20%20this._rotationCenter%20%3D%20%5B0%2C%200%5D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Updated%20in%20_updateFontDimensions%0A%20%20%20%20%20%20this.calculatedFontSize%20%3D%200%3B%0A%20%20%20%20%20%20this.lineHeight%20%3D%200%3B%0A%20%20%20%20%20%20this.verticalPadding%20%3D%200%3B%0A%20%20%20%20%20%20this.wrapWidth%20%3D%200%3B%0A%0A%20%20%20%20%20%20this._textDirty%20%3D%20false%3B%0A%20%20%20%20%20%20this._textureDirty%20%3D%20false%3B%0A%20%20%20%20%20%20this._renderedAtScale%20%3D%201%3B%0A%20%20%20%20%20%20this._renderTime%20%3D%200%3B%0A%20%20%20%20%20%20this._reflowTime%20%3D%200%3B%0A%0A%20%20%20%20%20%20this.typeAnimationInterval%20%3D%20null%3B%0A%0A%20%20%20%20%20%20this.isRainbow%20%3D%20false%3B%0A%20%20%20%20%20%20this.rainbowStartTime%20%3D%200%3B%0A%20%20%20%20%20%20this.rainbowTimeout%20%3D%20null%3B%0A%0A%20%20%20%20%20%20this.isZooming%20%3D%20false%3B%0A%20%20%20%20%20%20this.zoomStartTime%20%3D%200%3B%0A%20%20%20%20%20%20this.zoomTimeout%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%2F**%20%40type%20%7B(()%20%3D%3E%20void)%7Cnull%7D%20*%2F%0A%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0A%20%20%20%20dispose%20()%20%7B%0A%20%20%20%20%20%20if%20(this._texture)%20%7B%0A%20%20%20%20%20%20%20%20gl.deleteTexture(this._texture)%3B%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.canvas%20%3D%20null%3B%0A%20%20%20%20%20%20this.ctx%20%3D%20null%3B%0A%20%20%20%20%20%20super.dispose()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0A%20%20%20%20get%20size%20()%20%7B%0A%20%20%20%20%20%20if%20(this._needsReflow())%20%7B%0A%20%20%20%20%20%20%20%20this._reflowText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this._size%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0A%20%20%20%20useNearest%20()%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_needsReflow%20()%20%7B%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20this._textDirty%20%7C%7C%0A%20%20%20%20%20%20%20%20(this.isZooming%20%26%26%20this._reflowTime%20!%3D%3D%20globalFrameTime)%20%7C%7C%0A%20%20%20%20%20%20%20%20this._previousDrawableXScale%20!%3D%3D%20Math.abs(this.drawable.scale%5B0%5D)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_updateFontDimensions%20()%20%7B%0A%20%20%20%20%20%20this.calculatedFontSize%20%3D%20this.baseFontSize%3B%0A%20%20%20%20%20%20if%20(this.isZooming)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20it%20looks%20like%20Scratch's%20animation%20always%20starts%20at%20least%20a%20little%20visible%0A%20%20%20%20%20%20%20%20const%20time%20%3D%20globalFrameTime%20-%20this.zoomStartTime%3B%0A%20%20%20%20%20%20%20%20const%20progress%20%3D%20Math.max(0%2C%20Math.min(1%2C%20time%20%2F%20ZOOM_DURATION))%3B%0A%20%20%20%20%20%20%20%20this.calculatedFontSize%20*%3D%20progress%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this.lineHeight%20%3D%20this.baseFontSize%20*%208%20%2F%207%3B%0A%20%20%20%20%20%20%2F%2F%20Always%20use%20the%20base%20size%20for%20padding.%20This%20makes%20the%20zoom%20animation%20look%20better.%0A%20%20%20%20%20%20this.verticalPadding%20%3D%20this.baseFontSize%20%2F%207%3B%0A%20%20%20%20%20%20%2F%2F%20Only%20use%20horizontal%20scale%20for%20wrap%20width%20for%20compatibility%20with%20stretch%20extension.%0A%20%20%20%20%20%20this.wrapWidth%20%3D%20this.textWidth%20%2F%20(Math.abs(this.drawable.scale%5B0%5D)%20%2F%20100)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_getFontStyle%20()%20%7B%0A%20%20%20%20%20%20return%20%60%24%7Bthis.calculatedFontSize%7Dpx%20%22%24%7Bthis.fontFamily%7D%22%2C%20sans-serif%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_reflowText%20()%20%7B%0A%20%20%20%20%20%20this._textDirty%20%3D%20false%3B%0A%20%20%20%20%20%20this._textureDirty%20%3D%20true%3B%0A%20%20%20%20%20%20this._reflowTime%20%3D%20globalFrameTime%3B%0A%20%20%20%20%20%20this._previousDrawableXScale%20%3D%20Math.abs(this.drawable.scale%5B0%5D)%3B%0A%0A%20%20%20%20%20%20this._updateFontDimensions()%3B%0A%20%20%20%20%20%20this.ctx.font%20%3D%20this._getFontStyle()%3B%0A%0A%20%20%20%20%20%20%2F%2F%20need%20to%20make%20new%20ones%20each%20time%20to%20avoid%20caching%20incorrectly%20across%20fonts%0A%20%20%20%20%20%20const%20measurementProvider%20%3D%20new%20CanvasMeasurementProvider(this.ctx)%3B%0A%20%20%20%20%20%20%2F**%20%40type%20%7BRenderWebGL.TextWrapper%7D%20*%2F%0A%20%20%20%20%20%20const%20textWrapper%20%3D%20renderer.createTextWrapper(measurementProvider)%3B%0A%0A%20%20%20%20%20%20const%20lines%20%3D%20textWrapper.wrapText(this.wrapWidth%2C%20this.text)%3B%0A%20%20%20%20%20%20this.lines%20%3D%20lines.map(line%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20trimmed%20%3D%20line.trimEnd()%3B%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20text%3A%20trimmed%2C%0A%20%20%20%20%20%20%20%20%20%20width%3A%20measurementProvider.measureText(trimmed)%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20this._size%5B0%5D%20%3D%20this.wrapWidth%3B%0A%20%20%20%20%20%20this._size%5B1%5D%20%3D%20this.lines.length%20*%20this.lineHeight%20%2B%202%20*%20this.verticalPadding%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Centered%20horizontally%0A%20%20%20%20%20%20this._rotationCenter%5B0%5D%20%3D%20this._size%5B0%5D%20%2F%202%3B%0A%20%20%20%20%20%20%2F%2F%20Vertical%20center%20is%20roughly%20below%20the%20first%20line%20of%20text%0A%20%20%20%20%20%20this._rotationCenter%5B1%5D%20%3D%20this.calculatedFontSize%20*%200.9%20%2B%20this.verticalPadding%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_renderAtScale%20(requestedScale)%20%7B%0A%20%20%20%20%20%20this._renderedAtScale%20%3D%20requestedScale%3B%0A%20%20%20%20%20%20this._textureDirty%20%3D%20false%3B%0A%20%20%20%20%20%20this._renderTime%20%3D%20globalFrameTime%3B%0A%0A%20%20%20%20%20%20const%20scratchWidth%20%3D%20this._size%5B0%5D%3B%0A%20%20%20%20%20%20const%20scratchHeight%20%3D%20this._size%5B1%5D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Renderer's%20requested%20scale%20is%20accounted%20for%20at%20this%20point.%20Do%20not%20touch%20%60requestedScale%60%0A%20%20%20%20%20%20%2F%2F%20ever%20after%20this%20point.%0A%20%20%20%20%20%20this.canvas.width%20%3D%20Math.ceil(scratchWidth%20*%20requestedScale)%3B%0A%20%20%20%20%20%20this.canvas.height%20%3D%20Math.ceil(scratchHeight%20*%20requestedScale)%3B%0A%20%20%20%20%20%20this.ctx.scale(requestedScale%2C%20requestedScale)%3B%0A%0A%20%20%20%20%20%20const%20rainbowOffset%20%3D%20this.isRainbow%20%3F%20(globalFrameTime%20-%20this.rainbowStartTime)%20%2F%20RAINBOW_TIME_PER%20%3A%200%3B%0A%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20this.color%3B%0A%20%20%20%20%20%20this.ctx.font%20%3D%20this._getFontStyle()%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20this.lines.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20line%20%3D%20this.lines%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20const%20text%20%3D%20line.text%3B%0A%20%20%20%20%20%20%20%20const%20lineWidth%20%3D%20line.width%3B%0A%0A%20%20%20%20%20%20%20%20let%20xOffset%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20(this.align%20%3D%3D%3D%20ALIGN_LEFT)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20already%20correct%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(this.align%20%3D%3D%3D%20ALIGN_CENTER)%20%7B%0A%20%20%20%20%20%20%20%20%20%20xOffset%20%3D%20(this.wrapWidth%20-%20lineWidth)%20%2F%202%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20xOffset%20%3D%20this.wrapWidth%20-%20lineWidth%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(this.isRainbow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20gradient%20%3D%20this.ctx.createLinearGradient(xOffset%2C%200%2C%20xOffset%20%2B%20lineWidth%2C%200)%3B%0A%20%20%20%20%20%20%20%20%20%20addRainbowStops(gradient%2C%20rainbowOffset)%3B%0A%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gradient%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20something%20here%20is%20wrong%0A%20%20%20%20%20%20%20%20this.ctx.fillText(%0A%20%20%20%20%20%20%20%20%20%20text%2C%0A%20%20%20%20%20%20%20%20%20%20xOffset%2C%0A%20%20%20%20%20%20%20%20%20%20this.verticalPadding%20%2B%20i%20*%20this.lineHeight%20%2B%20this.baseFontSize%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(!this._texture)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%20-%20twgl%20not%20typed%20yet%0A%20%20%20%20%20%20%20%20this._texture%20%3D%20twgl.createTexture(gl%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20auto%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20wrap%3A%20gl.CLAMP_TO_EDGE%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this._setTexture(this.canvas)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_invalidateTexture%20()%20%7B%0A%20%20%20%20%20%20this._textureDirty%20%3D%20true%3B%0A%20%20%20%20%20%20this._renderTime%20%3D%200%3B%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_invalidateText%20()%20%7B%0A%20%20%20%20%20%20this._textDirty%20%3D%20true%3B%0A%20%20%20%20%20%20this._textureDirty%20%3D%20true%3B%0A%20%20%20%20%20%20this._reflowTime%20%3D%200%3B%0A%20%20%20%20%20%20this.emitWasAltered()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setText%20(text)%20%7B%0A%20%20%20%20%20%20if%20(text%20!%3D%3D%20this.text)%20%7B%0A%20%20%20%20%20%20%20%20this.text%20%3D%20text%3B%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setColor%20(color)%20%7B%0A%20%20%20%20%20%20if%20(color%20!%3D%3D%20this.color)%20%7B%0A%20%20%20%20%20%20%20%20this.color%20%3D%20color%3B%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setAlign%20(align)%20%7B%0A%20%20%20%20%20%20if%20(align%20!%3D%3D%20this.align)%20%7B%0A%20%20%20%20%20%20%20%20this.align%20%3D%20align%3B%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setWidth%20(width)%20%7B%0A%20%20%20%20%20%20if%20(width%20!%3D%3D%20this.textWidth)%20%7B%0A%20%20%20%20%20%20%20%20this.textWidth%20%3D%20width%3B%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFontFamily%20(font)%20%7B%0A%20%20%20%20%20%20if%20(font%20!%3D%3D%20this.fontFamily)%20%7B%0A%20%20%20%20%20%20%20%20this.fontFamily%20%3D%20font%3B%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getFontFamily%20()%20%7B%0A%20%20%20%20%20%20return%20this.fontFamily%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getColor%20()%20%7B%0A%20%20%20%20%20%20return%20this.color%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getWidth%20()%20%7B%0A%20%20%20%20%20%20return%20this.textWidth%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_oneAnimationAtATime%20(newCallback)%20%7B%0A%20%20%20%20%20%20this.cancelAnimation()%3B%0A%20%20%20%20%20%20return%20new%20Promise(resolve%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20newCallback(this.resolveOngoingAnimation)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20startTypeAnimation%20()%20%7B%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime(resolve%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20originalText%20%3D%20this.text%3B%0A%20%20%20%20%20%20%20%20let%20i%20%3D%201%3B%0A%20%20%20%20%20%20%20%20const%20update%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.setText(originalText.substring(0%2C%20i))%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20update()%3B%0A%0A%20%20%20%20%20%20%20%20this.typeAnimationInterval%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20update()%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(i%20%3E%3D%20originalText.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(this.typeAnimationInterval)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%20TYPE_DELAY)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20startRainbowAnimation%20()%20%7B%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime(resolve%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.isRainbow%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.rainbowStartTime%20%3D%20Date.now()%3B%0A%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0A%20%20%20%20%20%20%20%20this.rainbowTimeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.isRainbow%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%20%20this._invalidateTexture()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20RAINBOW_DURATION)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20startZoomAnimation%20()%20%7B%0A%20%20%20%20%20%20return%20this._oneAnimationAtATime(resolve%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this.isZooming%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this.zoomStartTime%20%3D%20Date.now()%3B%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0A%20%20%20%20%20%20%20%20this.zoomTimeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.isZooming%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%20%20this._invalidateText()%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20ZOOM_DURATION)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20cancelAnimation%20()%20%7B%0A%20%20%20%20%20%20if%20(this.resolveOngoingAnimation)%20%7B%0A%20%20%20%20%20%20%20%20this.resolveOngoingAnimation()%3B%0A%20%20%20%20%20%20%20%20this.resolveOngoingAnimation%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20clearInterval(this.typeAnimationInterval)%3B%0A%0A%20%20%20%20%20%20%20%20this.isRainbow%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20clearTimeout(this.rainbowTimeout)%3B%0A%0A%20%20%20%20%20%20%20%20this.isZooming%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20clearTimeout(this.zoomTimeout)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20sometimes%20we%20only%20need%20to%20invalidate%20the%20texture%20at%20this%20point%0A%20%20%20%20%20%20%20%20this._invalidateText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0A%20%20%20%20updateSilhouette%20(scale)%20%7B%0A%20%20%20%20%20%20this.getTexture(scale)%3B%0A%20%20%20%20%20%20this._silhouette.unlazy()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Part%20of%20Skin%20API%0A%20%20%20%20getTexture%20(scale)%20%7B%0A%20%20%20%20%20%20const%20MAX_SCALE%20%3D%2010%3B%0A%20%20%20%20%20%20const%20upperScale%20%3D%20scale%20%3F%20Math.max(Math.abs(scale%5B0%5D)%2C%20Math.abs(scale%5B1%5D))%20%3A%20100%3B%0A%20%20%20%20%20%20const%20calculatedScale%20%3D%20Math.min(MAX_SCALE%2C%20upperScale%20%2F%20100)%3B%0A%0A%20%20%20%20%20%20if%20(this._needsReflow())%20%7B%0A%20%20%20%20%20%20%20%20this._reflowText()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20this._textureDirty%20%7C%7C%0A%20%20%20%20%20%20%20%20(this.isRainbow%20%26%26%20this._renderTime%20!%3D%3D%20globalFrameTime)%20%7C%7C%0A%20%20%20%20%20%20%20%20calculatedScale%20!%3D%3D%20this._renderedAtScale%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20this._renderAtScale(calculatedScale)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20this._texture%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Note%20that%20the%20returned%20skin%20is%20only%20usable%20by%20the%20given%20target.%20Things%20will%20break%20if%20another%0A%20%20%20*%20target%20tries%20to%20use%20it.%0A%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20*%20%40returns%20%7BTextCostumeSkin%7D%0A%20%20%20*%2F%0A%20%20const%20createTextCostumeSkin%20%3D%20(target)%20%3D%3E%20%7B%0A%20%20%20%20const%20drawable%20%3D%20renderer._allDrawables%5Btarget.drawableID%5D%3B%0A%20%20%20%20const%20id%20%3D%20renderer._nextSkinId%2B%2B%3B%0A%20%20%20%20const%20skin%20%3D%20new%20TextCostumeSkin(id%2C%20drawable)%3B%0A%20%20%20%20renderer._allSkins%5Bid%5D%20%3D%20skin%3B%0A%20%20%20%20return%20skin%3B%0A%20%20%7D%3B%0A%0A%20%20vm.runtime.on('BEFORE_EXECUTE'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20globalFrameTime%20%3D%20Date.now()%3B%0A%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20renderer._allSkins.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allSkins%5Bi%5D%3B%0A%20%20%20%20%20%20if%20(skin%20instanceof%20TextCostumeSkin%20%26%26%20(skin.isRainbow%20%7C%7C%20skin.isZooming))%20%7B%0A%20%20%20%20%20%20%20%20skin.emitWasAltered()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20class%20AnimatedText%20%7B%0A%20%20%20%20constructor%20()%20%7B%0A%20%20%20%20%20%20vm.runtime.on('PROJECT_START'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this._hideAllText()%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20vm.runtime.on('PROJECT_STOP_ALL'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20this._hideAllText()%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20targetWasCreated%20does%20not%20work%20because%20it%20runs%20before%20the%20Drawable%20is%20set%20up%0A%20%20%20%20%20%20const%20extension%20%3D%20this%3B%0A%20%20%20%20%20%20const%20originalMakeClone%20%3D%20RenderedTarget.prototype.makeClone%3B%0A%20%20%20%20%20%20RenderedTarget.prototype.makeClone%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20const%20newClone%20%3D%20originalMakeClone.call(this)%3B%0A%20%20%20%20%20%20%20%20if%20(extension._hasState(this))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20creates%20much%20unneeded%20state%0A%20%20%20%20%20%20%20%20%20%20const%20originalSkin%20%3D%20extension._getState(this).skin%3B%0A%20%20%20%20%20%20%20%20%20%20const%20newSkin%20%3D%20extension._getState(newClone).skin%3B%0A%20%20%20%20%20%20%20%20%20%20newSkin.setAlign(originalSkin.align)%3B%0A%20%20%20%20%20%20%20%20%20%20newSkin.setColor(originalSkin.color)%3B%0A%20%20%20%20%20%20%20%20%20%20newSkin.setFontFamily(originalSkin.fontFamily)%3B%0A%20%20%20%20%20%20%20%20%20%20newSkin.setWidth(originalSkin.textWidth)%3B%0A%20%20%20%20%20%20%20%20%20%20newSkin.setText(originalSkin.text)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(renderer._allDrawables%5Bthis.drawableID%5D.skin%20instanceof%20TextCostumeSkin)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.updateDrawableSkinId(newClone.drawableID%2C%20newSkin.id)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20newClone%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20vm.runtime.on('targetWasRemoved'%2C%20(target)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(this._hasState(target))%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20state%20%3D%20this._getState(target)%3B%0A%20%20%20%20%20%20%20%20%20%20renderer.destroySkin(state.skin.id)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'text'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Animated%20Text'%2C%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20blockIconURI%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setText'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'show%20text%20%5BTEXT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'Welcome%20to%20my%20project!'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'animateText'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'%5BANIMATE%5D%20text%20%5BTEXT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ANIMATE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'animate'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'rainbow'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'Here%20we%20go!'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'clearText'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'show%20sprite'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setFont'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20font%20to%20%5BFONT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FONT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'font'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setColor'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20text%20color%20to%20%5BCOLOR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setWidth'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20width%20to%20%5BWIDTH%5D%20aligned%20%5BALIGN%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'200'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ALIGN%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'align'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'labelNewBlocks'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'Incompatible%20with%20Scratch%20Lab%3A'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'textActive'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'is%20showing%20text%3F'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getTextAttribute'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'text%20%5BATTRIBUTE%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ATTRIBUTE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'attribute'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20These%20all%20need%20acceptReporters%3A%20false%20for%20parity%20with%20the%20Scratch%20Labs%20version.%0A%20%20%20%20%20%20%20%20%20%20animate%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'type'%2C%20'rainbow'%2C%20'zoom'%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20font%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20...NATIVE_FONTS%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'random%20font'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'Random'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20align%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'left'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'center'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'right'%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20attribute%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'font'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'color'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'width'%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20%20%20*%20%40returns%20%7BTextState%7D%0A%20%20%20%20%20*%2F%0A%20%20%20%20_getState%20(target)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20target%5BCUSTOM_STATE_KEY%5D%3B%0A%20%20%20%20%20%20if%20(!state)%20%7B%0A%20%20%20%20%20%20%20%20%2F**%20%40type%20%7BTextState%7D%20*%2F%0A%20%20%20%20%20%20%20%20const%20newState%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20skin%3A%20createTextCostumeSkin(target)%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20target%5BCUSTOM_STATE_KEY%5D%20%3D%20newState%3B%0A%20%20%20%20%20%20%20%20return%20newState%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20state%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20%20%20*%20%40returns%20%7Bboolean%7D%0A%20%20%20%20%20*%2F%0A%20%20%20%20_hasState%20(target)%20%7B%0A%20%20%20%20%20%20return%20!!target%5BCUSTOM_STATE_KEY%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_hideAllText%20()%20%7B%0A%20%20%20%20%20%20for%20(const%20target%20of%20vm.runtime.targets)%20%7B%0A%20%20%20%20%20%20%20%20if%20(this._hasState(target))%20%7B%0A%20%20%20%20%20%20%20%20%20%20this._hideText(target%2C%20this._getState(target))%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20%20%20*%20%40param%20%7BTextState%7D%20state%0A%20%20%20%20%20*%2F%0A%20%20%20%20_renderText%20(target%2C%20state)%20%7B%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0A%20%20%20%20%20%20renderer.updateDrawableSkinId(target.drawableID%2C%20state.skin.id)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20%20%20*%20%40param%20%7BTextState%7D%20state%0A%20%20%20%20%20*%2F%0A%20%20%20%20_hideText%20(target%2C%20state)%20%7B%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0A%20%20%20%20%20%20target.setCostume(target.currentCostume)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setText%20(%7B%20TEXT%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%20%20%20%20%20%20this._renderText(util.target%2C%20state)%3B%0A%20%20%20%20%20%20state.skin.setText(Scratch.Cast.toString(TEXT))%3B%0A%20%20%20%20%20%20%2F%2F%20Scratch%20forces%201%20frame%20delay%20by%20returning%20promise.%20I%20think%20that's%20silly.%0A%20%20%20%20%20%20util.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20animateText%20(%7B%20ANIMATE%2C%20TEXT%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%20%20%20%20%20%20this._renderText(util.target%2C%20state)%3B%0A%0A%20%20%20%20%20%20state.skin.setText(Scratch.Cast.toString(TEXT))%3B%0A%20%20%20%20%20%20state.skin.cancelAnimation()%3B%0A%0A%20%20%20%20%20%20if%20(ANIMATE%20%3D%3D%3D%20'type')%20%7B%0A%20%20%20%20%20%20%20%20return%20state.skin.startTypeAnimation()%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(ANIMATE%20%3D%3D%3D%20'rainbow')%20%7B%0A%20%20%20%20%20%20%20%20return%20state.skin.startRainbowAnimation()%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(ANIMATE%20%3D%3D%3D%20'zoom')%20%7B%0A%20%20%20%20%20%20%20%20return%20state.skin.startZoomAnimation()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Scratch%20does%20nothing%20here%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20clearText%20(args%2C%20util)%20%7B%0A%20%20%20%20%20%20if%20(this._hasState(util.target))%20%7B%0A%20%20%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%20%20%20%20%20%20%20%20this._hideText(util.target%2C%20state)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20Scratch%20forces%201%20frame%20delay%20by%20returning%20promise.%20I%20think%20that's%20silly.%0A%20%20%20%20%20%20util.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFont%20(%7B%20FONT%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%20%20%20%20%20%20if%20(FONT%20%3D%3D%3D%20'Random')%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Random%20font%20always%20switches%20to%20a%20new%20font%2C%20never%20the%20same%20one%0A%20%20%20%20%20%20%20%20const%20possibleFonts%20%3D%20NATIVE_FONTS.filter(i%20%3D%3E%20i%20!%3D%3D%20state.skin.fontFamily)%3B%0A%20%20%20%20%20%20%20%20state.skin.setFontFamily(possibleFonts%5BMath.floor(Math.random()%20*%20possibleFonts.length)%5D)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20state.skin.setFontFamily(Scratch.Cast.toString(FONT))%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setColor%20(%7B%20COLOR%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%20%20%20%20%20%20state.skin.setColor(Scratch.Cast.toString(COLOR))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setWidth%20(%7B%20WIDTH%2C%20ALIGN%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%0A%20%20%20%20%20%20if%20(ALIGN%20%3D%3D%3D%20'center')%20%7B%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_CENTER)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(ALIGN%20%3D%3D%3D%20'right')%20%7B%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_RIGHT)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Scratch%20treats%20unknown%20values%20as%20left%20alignment.%0A%20%20%20%20%20%20%20%20state.skin.setAlign(ALIGN_LEFT)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20state.skin.setWidth(Scratch.Cast.toNumber(WIDTH))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20textActive%20(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20drawableID%20%3D%20util.target.drawableID%3B%0A%20%20%20%20%20%20const%20skin%20%3D%20renderer._allDrawables%5BdrawableID%5D.skin%3B%0A%20%20%20%20%20%20return%20skin%20instanceof%20TextCostumeSkin%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getTextAttribute%20(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20state%20%3D%20this._getState(util.target)%3B%0A%20%20%20%20%20%20const%20attrib%20%3D%20args.ATTRIBUTE%3B%0A%20%20%20%20%20%20if%20(attrib%20%3D%3D%3D%20'font')%20%7B%0A%20%20%20%20%20%20%20%20return%20state.skin.getFontFamily()%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20'color')%20%7B%0A%20%20%20%20%20%20%20%20return%20state.skin.getColor()%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(attrib%20%3D%3D%3D%20'width')%20%7B%0A%20%20%20%20%20%20%20%20return%20state.skin.getWidth()%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20should%20never%20happen%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20AnimatedText())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(Scratch%20%3D%3E%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20const%20icon%20%3D%20'data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2aWV3Qm94PSIwLDAsMjI1LjM1NDgsMjI1LjM1NDgiIGhlaWdodD0iMjI1LjM1NDgiIHdpZHRoPSIyMjUuMzU0OCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI3LjMyMjc0LC02Ny4zMjI2KSI%2BPGcgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iPjxwYXRoIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzE0NjYwMCIgZD0iTTEyNy4zMjI3NSwxODBjMCwtNjIuMjMwMDEgNTAuNDQ3MzksLTExMi42Nzc0IDExMi42Nzc0LC0xMTIuNjc3NGM2Mi4yMzAwMSwwIDExMi42Nzc0LDUwLjQ0NzM5IDExMi42Nzc0LDExMi42Nzc0YzAsNjIuMjMwMDEgLTUwLjQ0NzM5LDExMi42Nzc0IC0xMTIuNjc3NCwxMTIuNjc3NGMtNjIuMjMwMDEsMCAtMTEyLjY3NzQsLTUwLjQ0NzM5IC0xMTIuNjc3NCwtMTEyLjY3NzR6Ij48L3BhdGg%2BPGcgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjZmZmZmZmIj48cGF0aCBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZD0iTTI2MS4zNjIzNSwxNDYuNjIzNTlsLTUuMTUwOTcsNS4yNzQ2MmwtMTMuMTg1NTEsLTEyLjIzOTg5bDE5LjIzNjg5LC0xOS40OTU4OWMxMC41OTE0NywtMTAuNTkxNDcgMjcuNzU4NCwtMTAuNTkxNDcgMzguMzQxMTIsMGwxMi43ODAzOCwxMi43ODAzOGMxMC41OTE0NywxMC41ODI3MSAxMC41OTE0NywyNy43NDk2NSAwLDM4LjM0MTEybC0zOC4zNDExMiwzOC4zNDExMmMtMTAuNTkxNDcsMTAuNTg2OTUgLTI3Ljc0OTY1LDEwLjU4Njk1IC0zOC4zNDExMiwwbC0xMi43ODAzNywtMTIuNzgwMzdsLTEyLjY3Mzc4LC0xMy4yMjYxMmwxMi4yNjMwNCwtMTIuNDMzbDI1Ljk3MTQ5LDI1LjY1OTEyYzMuNTIxNzQsMy41MjE3NCA5LjI1ODY0LDMuNTIxNzQgMTIuNzgwMzgsMGwzOC4zNDExMiwtMzguMzQxMTJjMy41MzA0OSwtMy41MzA0OSAzLjUzMDQ5LC05LjI1ODY0IDAsLTEyLjc4MDM4bC0xMi43ODAzNywtMTIuNzgwMzdjLTMuNTIxNzQsLTMuNTIxNzMgLTkuMjQ5ODgsLTMuNTMwNDkgLTEyLjc4MDM4LDBsLTEzLjY4MDc5LDEzLjY4MDc5eiI%2BPC9wYXRoPjxwYXRoIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2luZGV4JnF1b3Q7Om51bGx9IiBkPSJNMjE4LjYzNzczLDIxMy4zNzY0bDUuMTUwOTcsLTUuMjc0NjJsMTMuMTg1NTEsMTIuMjM5ODlsLTE5LjIzNjg5LDE5LjQ5NTg5Yy0xMC41OTE0NywxMC41OTE0NyAtMjcuNzU4NCwxMC41OTE0NyAtMzguMzQxMTIsMGwtMTIuNzgwMzgsLTEyLjc4MDM4Yy0xMC41OTE0NywtMTAuNTgyNzEgLTEwLjU5MTQ3LC0yNy43NDk2NSAwLC0zOC4zNDExMWwzOC4zNDExMiwtMzguMzQxMTJjMTAuNTkxNDcsLTEwLjU4Njk1IDI3Ljc0OTY1LC0xMC41ODY5NSAzOC4zNDExMiwwbDEyLjc4MDM3LDEyLjc4MDM3bDEyLjY3Mzc4LDEzLjIyNjEybC0xMi4yNjMwNSwxMi40MzNsLTI1Ljk3MTQ4LC0yNS42NTkxMmMtMy41MjE3NCwtMy41MjE3NCAtOS4yNTg2NCwtMy41MjE3NCAtMTIuNzgwMzgsMGwtMzguMzQxMTIsMzguMzQxMTJjLTMuNTMwNDksMy41MzA0OSAtMy41MzA0OSw5LjI1ODY0IDAsMTIuNzgwMzhsMTIuNzgwMzcsMTIuNzgwMzdjMy41MjE3NCwzLjUyMTczIDkuMjQ5ODgsMy41MzA0OSAxMi43ODAzOCwwbDEzLjY4MDc5LC0xMy42ODA3OXoiPjwvcGF0aD48L2c%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MTEyLjY3NzI1NToxMTIuNjc3NDA1LS0%2B'%3B%0A%0A%20%20const%20fetch_url%20%3D%20(%7BUSER_URL%2C%20BODY%2C%20CONTENT_TYPE%2C%20RESPONSES_TYPES%2C%20SPLIT%7D%2C%20METHOD)%20%3D%3E%20%7B%0A%20%20%20%20SPLIT%20%3D%20String(SPLIT)%3B%0A%20%20%20%20CONTENT_TYPE%20%3D%20Number(CONTENT_TYPE)%3B%0A%20%20%20%20RESPONSES_TYPES%20%3D%20String(RESPONSES_TYPES).split('%20').filter(word%20%3D%3E%20word%20!%3D%3D%20'').length%20%3E%3D%201%20%3F%20String(RESPONSES_TYPES).split('%20').filter(word%20%3D%3E%20word%20!%3D%3D%20'')%20%3A%20%5B'9'%5D%3B%0A%20%20%20%20let%20single%20%3D%20METHOD%20%3D%3D%3D%20'GET'%20%7C%7C%20METHOD%20%3D%3D%3D%20'DELETE'%3B%0A%20%20%20%20return%20Scratch.fetch(String(USER_URL)%2C%20%7B%0A%20%20%20%20%20%20method%3A%20METHOD%2C%0A%20%20%20%20%20%20headers%3A%20single%20%3F%20%7B%7D%20%3A%20%7B'Content-Type'%3A%20CONTENT_TYPE%20%3D%3D%3D%201%20%3F%20'text%2Fplain'%20%3A%20'application%2Fjson'%7D%2C%0A%20%20%20%20%20%20redirect%3A%20single%20%3F%20'follow'%20%3A%20'follow'%2C%0A%20%20%20%20%20%20body%3A%20CONTENT_TYPE%20%3D%3D%3D%201%20%3F%20String(BODY)%20%3A%20JSON.stringify(BODY)%7D)%0A%20%20%20%20.then(res%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20responses%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20RESPONSES_TYPES.length%20-%201%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20switch%20(Number(RESPONSES_TYPES%5Bi%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%201%3A%20responses.push(res.text())%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%202%3A%20responses.push(JSON.stringify(res.json()))%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%203%3A%20responses.push(String(res.ok))%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%204%3A%20responses.push(res.status)%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%205%3A%20responses.push(res.statusText)%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%206%3A%20responses.push(res.type)%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%207%3A%20responses.push(String(res.redirected))%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%208%3A%20responses.push(res.url)%3B%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%209%3A%20default%3A%20responses.push(single%20%3F%20res.url%20%3A%20String(res.bodyUsed))%3B%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20Promise.all(responses)%3B%0A%20%20%20%20%7D)%0A%20%20%20%20.then(arr%20%3D%3E%20%7B%0A%20%20%20%20%20%20let%20responses%20%3D%20''%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20RESPONSES_TYPES.length%20-%201%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20responses%20%2B%3D%20SPLIT%20%2B%20arr%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20SPLIT%20%3D%3D%3D%20''%20%3F%20responses%20%3A%20responses.slice(1)%3B%0A%20%20%20%20%7D)%0A%20%20%20%20.catch(err%20%3D%3E%20%7B%0A%20%20%20%20%20%20console.error(err)%3B%0A%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20class%20Network%20%7B%0A%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%0A%20%20%20%20%20%20%20%20id%3A%20'truefantomnetwork'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Network'%2C%0A%0A%20%20%20%20%20%20%20%20color1%3A%20'%23146600'%2C%0A%20%20%20%20%20%20%20%20color2%3A%20'%23125C00'%2C%0A%20%20%20%20%20%20%20%20color3%3A%20'%23105200'%2C%0A%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20icon%2C%0A%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'connected_to_internet_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'connected%20to%20internet%3F'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'browser_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'browser'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'current_url_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'current%20url'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'network_type_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'network%20type'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'network_generation_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'network%20generation'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'downlink_speed_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'downlink%20speed%20in%20mb%2Fs'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'downlink_max_speed_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'downlink%20max%20speed%20in%20mb%2Fs'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'rtt_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'rtt%20in%20ms'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'get_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20%5BUSER_URL%5D%20respond%20%5BRESPONSES_TYPES%5D%20split%20by%20%5BSPLIT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fhttpbin.org%2Fget'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RESPONSES_TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'only_url_response_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'delete_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'delete%20%5BUSER_URL%5D%20respond%20%5BRESPONSES_TYPES%5D%20split%20by%20%5BSPLIT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fhttpbin.org%2Fdelete'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RESPONSES_TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'only_url_response_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'post_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'post%20%5BCONTENT_TYPE%5D%20%5BBODY%5D%20to%20%5BUSER_URL%5D%20respond%20%5BRESPONSES_TYPES%5D%20split%20by%20%5BSPLIT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fhttpbin.org%2Fpost'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BODY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'apple'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTENT_TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'content_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RESPONSES_TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'response_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'put_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'put%20%5BCONTENT_TYPE%5D%20%5BBODY%5D%20to%20%5BUSER_URL%5D%20respond%20%5BRESPONSES_TYPES%5D%20split%20by%20%5BSPLIT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fhttpbin.org%2Fput'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BODY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'apple'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTENT_TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'content_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RESPONSES_TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'response_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'patch_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'patch%20%5BCONTENT_TYPE%5D%20%5BBODY%5D%20to%20%5BUSER_URL%5D%20respond%20%5BRESPONSES_TYPES%5D%20split%20by%20%5BSPLIT%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fhttpbin.org%2Fpatch'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BODY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'apple'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20CONTENT_TYPE%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'content_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20RESPONSES_TYPES%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'response_type'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SPLIT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'open_link_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20%5BUSER_URL%5D%20in%20new%20tab'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fextensions.turbowarp.org'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'open_window_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20%5BUSER_URL%5D%20in%20new%20window%20with%20width%3A%20%5BWIDTH%5D%20height%3A%20%5BHEIGHT%5D%20left%3A%20%5BLEFT%5D%20top%3A%20%5BTOP%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fextensions.turbowarp.org'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WIDTH%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'default'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20HEIGHT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'default'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20LEFT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'default'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TOP%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'default'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'redirect_link_block'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'redirect%20this%20tab%20to%20%5BUSER_URL%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20USER_URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fextensions.turbowarp.org'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20content_type%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(1)%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(2)%20json'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'2'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20only_url_response_type%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(1)%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(2)%20json'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'2'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(3)%20status%20ok%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'3'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(4)%20status'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'4'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(5)%20status%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'5'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(5%201)%20status%20text%20and%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'5%201'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(6)%20type'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'6'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(6%204)%20type%20and%20status'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'6%204'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(7)%20redirected%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'7'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(8)%20url'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'8'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20response_type%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(1)%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(2)%20json'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'2'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(3)%20status%20ok%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'3'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(4)%20status'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'4'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(5)%20status%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'5'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(5%201)%20status%20text%20and%20text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'5%201'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(6)%20type'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'6'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(6%204)%20type%20and%20status'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'6%204'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(7)%20redirected%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'7'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(8)%20url'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'8'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'(9)%20body%20used%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'9'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20default%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'default'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'default'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20connected_to_internet_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20navigator.onLine%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20browser_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20let%20has%20%3D%20input%20%3D%3E%20navigator.userAgent.includes(input)%3B%0A%20%20%20%20%20%20%20%20if%20(has('Firefox'))%20return%20'firefox'%3B%0A%20%20%20%20%20%20%20%20if%20(has('SamsungBrowser'))%20return%20'samsung%20internet'%3B%0A%20%20%20%20%20%20%20%20if%20((has('Opera')%20%7C%7C%20has('OPR'))%20%26%26%20has('GX'))%20return%20'opera%20gx'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Opera')%20%7C%7C%20has('OPR'))%20return%20'opera'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Trident'))%20return%20'internet%20explorer'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Edge'))%20return%20'legacy'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Edg'))%20return%20'edge'%3B%0A%20%20%20%20%20%20%20%20if%20(has('YaBrowser')%20%7C%7C%20has('YaSearchBrowser'))%20return%20'yandex'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Miui'))%20return%20'mi%20browser'%3B%0A%20%20%20%20%20%20%20%20if%20(has('UBrowser'))%20return%20'uc%20browser'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Chrome'))%20return%20'chromium'%3B%0A%20%20%20%20%20%20%20%20if%20(has('Safari'))%20return%20'safari'%3B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20current_url_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20document.URL%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20network_type_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20switch%20(navigator.connection.type)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20'bluetooth'%3A%20return%20'bluetooth'%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'cellular'%3A%20return%20'cellular'%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'ethernet'%3A%20return%20'ethernet'%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'wifi'%3A%20return%20'wi-fi'%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'wimax'%3A%20return%20'wimax'%3B%0A%20%20%20%20%20%20%20%20%20%20default%3A%20return%20''%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20network_generation_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20switch%20(navigator.connection.effectiveType)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20'slow-2g'%3A%20case%20'2g'%3A%20return%20'2g'%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'3g'%3A%20return%20'3g'%3B%0A%20%20%20%20%20%20%20%20%20%20case%20'4g'%3A%20return%20'4g'%3B%0A%20%20%20%20%20%20%20%20%20%20default%3A%20return%20''%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20downlink_speed_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20navigator.connection.downlink%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20downlink_max_speed_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20navigator.connection.downlinkMax%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20rtt_block()%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20navigator.connection.rtt%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20get_block(args)%20%7B%0A%20%20%20%20%20%20return%20fetch_url(args%2C%20'GET')%3B%0A%20%20%20%20%7D%0A%20%20%20%20delete_block(args)%20%7B%0A%20%20%20%20%20%20return%20fetch_url(args%2C%20'DELETE')%3B%0A%20%20%20%20%7D%0A%20%20%20%20post_block(args)%20%7B%0A%20%20%20%20%20%20return%20fetch_url(args%2C%20'POST')%3B%0A%20%20%20%20%7D%0A%20%20%20%20put_block(args)%20%7B%0A%20%20%20%20%20%20return%20fetch_url(args%2C%20'PUT')%3B%0A%20%20%20%20%7D%0A%20%20%20%20patch_block(args)%20%7B%0A%20%20%20%20%20%20return%20fetch_url(args%2C%20'PATCH')%3B%0A%20%20%20%20%7D%0A%20%20%20%20open_link_block(%7BUSER_URL%7D)%20%7B%0A%20%20%20%20%20%20Scratch.openWindow(USER_URL)%3B%0A%20%20%20%20%7D%0A%20%20%20%20open_window_block(%7BUSER_URL%2CWIDTH%2CHEIGHT%2CLEFT%2CTOP%7D)%20%7B%0A%20%20%20%20%20%20let%20params%20%3D%20'popup%3D1'%3B%0A%20%20%20%20%20%20params%20%2B%3D%20isNaN(WIDTH)%20%3F%20''%20%3A%20%60%2Cwidth%3D%24%7BNumber(WIDTH)%20%3C%20100%20%3F%20100%20%3A%20Number(WIDTH)%20%3E%20window.screen.width%20%3F%20window.screen.width%20%3A%20Number(WIDTH)%7D%60%3B%0A%20%20%20%20%20%20params%20%2B%3D%20isNaN(HEIGHT)%20%3F%20''%20%3A%20%60%2Cheight%3D%24%7BNumber(HEIGHT)%20%3C%20100%20%3F%20100%20%3A%20Number(HEIGHT)%20%3E%20window.screen.height%20%3F%20window.screen.height%20%3A%20Number(HEIGHT)%7D%60%3B%0A%20%20%20%20%20%20params%20%2B%3D%20isNaN(LEFT)%20%3F%20''%20%3A%20%60%2Cleft%3D%24%7BNumber(LEFT)%20%3C%200%20%3F%200%20%3A%20Number(LEFT)%20%3E%20window.screen.width%20%3F%20window.screen.width%20%3A%20Number(LEFT)%7D%60%3B%0A%20%20%20%20%20%20params%20%2B%3D%20isNaN(TOP)%20%3F%20''%20%3A%20%60%2Ctop%3D%24%7BNumber(TOP)%20%3C%200%20%3F%200%20%3A%20Number(TOP)%20%3E%20window.screen.height%20%3F%20window.screen.height%20%3A%20Number(TOP)%7D%60%3B%0A%20%20%20%20%20%20Scratch.openWindow(String(USER_URL)%2C%20params)%3B%0A%20%20%20%20%7D%0A%20%20%20%20redirect_link_block(%7BUSER_URL%7D)%20%7B%0A%20%20%20%20%20%20Scratch.redirect(USER_URL)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Network())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(function%20(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error('Runtime%20Options%20extension%20needs%20to%20be%20run%20unsandboxed')%3B%0A%20%20%7D%0A%0A%20%20const%20greenFlagURI%20%3D%20'data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAABFFBMVEUAAACAgABVqlVJkklAn0BNmTNLljxGlzpDmzdFmjpGmzxHmz9Fmj1FmT5Emj1GmT1GmD1EmDxGmTxEmT1GmjxGmT1FmDxEmT5EmTxGmT5FmD1GmT5FmT1Gmj1EmT5FmT1FmT1FmDxGmT1FmjxLs09LtE9Jr0xJsk1Js05JtVBKtU5KtVBKtlBJrkpJsE1KtlFIrEpIsExLt1FLuFJKuVNIqkhLulNIp0VJqkhKtlJLvVRMvFNFmT5GpUVFmT1HpEVHokNMvlVFmT1Ho0NFmTxLvlVGoUFMvlVLvlVGn0BFmT1Nv1ZEmz5FmTxFmTxFmT1NvlZFmz9FmT5FnT9FnD5GnT9Mv1ZMv1ZMv1ZFmT1Mv1b%2F%2F%2F%2F70P2GAAAAWXRSTlMAAgMHCAoRFhcwMz0%2FRkdQVGFmaWpxcnh7gIGEhZKZo6eprLq%2Fv8DAwMDAwMDBwcHCwsPDxcbIysrLzM3Pz9DQ1NTV1dfZ29vg4uXm5%2Bjp6ens7fDx9Pv8%2FnPb5aAAAAABYktHRFt0vJU0AAAAsUlEQVQoz2NgwA3YhNiwS4hHykoou9goCrKiSUhGhqhZe7gbm3rxQwQ4BJihEupRYODooMDFyMAu6uMsgyoRFW5kHxjkqeuhL4cmAQM4JXRwSWjjktDEJaGFS0IVIeFtZuIaAZdQgUmY2%2FoqyTu5WcEkNGAS%2FkJMQJrbySAAJBxmGSoIlYAoYGCR8rPVM7QItuNlQJVgYGDlE5MU5kSErhz2%2BKCihEikNHYJJh5mBhIAADBcR%2Fr5OJzCAAAAAElFTkSuQmCC'%3B%0A%20%20const%20TURBO_MODE%20%3D%20'turbo%20mode'%3B%0A%20%20const%20INTERPOLATION%20%3D%20'interpolation'%3B%0A%20%20const%20REMOVE_FENCING%20%3D%20'remove%20fencing'%3B%0A%20%20const%20REMOVE_MISC_LIMITS%20%3D%20'remove%20misc%20limits'%3B%0A%20%20const%20HIGH_QUALITY_PEN%20%3D%20'high%20quality%20pen'%3B%0A%0A%20%20class%20RuntimeOptions%20%7B%0A%20%20%20%20getInfo%20()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'runtimeoptions'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Runtime%20Options'%2C%0A%20%20%20%20%20%20%20%20color1%3A%20'%238c9abf'%2C%0A%20%20%20%20%20%20%20%20color2%3A%20'%237d8aab'%2C%0A%20%20%20%20%20%20%20%20color3%3A%20'%236f7b99'%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getEnabled'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'is%20%5Bthing%5D%20enabled%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thing%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20TURBO_MODE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'thing'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setEnabled'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20%5Bthing%5D%20to%20%5Benabled%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20thing%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20TURBO_MODE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'thing'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'true'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'enabled'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getFramerate'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20framerate%20limit'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setFramerate'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20framerate%20limit%20to%20%5Bfps%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20fps%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'30'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getCloneLimit'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20clone%20limit'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setCloneLimit'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20clone%20limit%20%5Blimit%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20limit%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'300'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'clones'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getDimension'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20stage%20%5Bdimension%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dimension%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'width'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'dimension'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setDimensions'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20stage%20size%20width%3A%20%5Bwidth%5D%20height%3A%20%5Bheight%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'480'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'360'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setUsername'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20username%20to%20%5Busername%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20username%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'greenFlag'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'run%20green%20flag%20%5Bflag%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20flag%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20greenFlagURI%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20thing%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'turbo%20mode'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20TURBO_MODE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'interpolation'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20INTERPOLATION%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'remove%20fencing'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20REMOVE_FENCING%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'remove%20misc%20limits'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20REMOVE_MISC_LIMITS%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'high%20quality%20pen'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20HIGH_QUALITY_PEN%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20enabled%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'enabled'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'true'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'disabled'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'false'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20clones%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'default%20(300)'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'300'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'Infinity'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'Infinity'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20dimension%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'width'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'width'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'height'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'height'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getEnabled%20(%7B%20thing%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(thing%20%3D%3D%3D%20TURBO_MODE)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.turboMode%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20INTERPOLATION)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.interpolationEnabled%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_FENCING)%20%7B%0A%20%20%20%20%20%20%20%20return%20!Scratch.vm.runtime.runtimeOptions.fencing%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_MISC_LIMITS)%20%7B%0A%20%20%20%20%20%20%20%20return%20!Scratch.vm.runtime.runtimeOptions.miscLimits%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20HIGH_QUALITY_PEN)%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.renderer.useHighQualityRender%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setEnabled%20(%7B%20thing%2C%20enabled%20%7D)%20%7B%0A%20%20%20%20%20%20enabled%20%3D%20Scratch.Cast.toBoolean(enabled)%3B%0A%0A%20%20%20%20%20%20if%20(thing%20%3D%3D%3D%20TURBO_MODE)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setTurboMode(enabled)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20INTERPOLATION)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setInterpolation(enabled)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_FENCING)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setRuntimeOptions(%7B%0A%20%20%20%20%20%20%20%20%20%20fencing%3A%20!enabled%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20REMOVE_MISC_LIMITS)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.vm.setRuntimeOptions(%7B%0A%20%20%20%20%20%20%20%20%20%20miscLimits%3A%20!enabled%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(thing%20%3D%3D%3D%20HIGH_QUALITY_PEN)%20%7B%0A%20%20%20%20%20%20%20%20Scratch.renderer.setUseHighQualityRender(enabled)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20getFramerate%20()%20%7B%0A%20%20%20%20%20%20return%20Scratch.vm.runtime.frameLoop.framerate%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setFramerate%20(%7B%20fps%20%7D)%20%7B%0A%20%20%20%20%20%20fps%20%3D%20Scratch.Cast.toNumber(fps)%3B%0A%20%20%20%20%20%20Scratch.vm.setFramerate(fps)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getCloneLimit%20()%20%7B%0A%20%20%20%20%20%20return%20Scratch.vm.runtime.runtimeOptions.maxClones%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setCloneLimit%20(%7B%20limit%20%7D)%20%7B%0A%20%20%20%20%20%20limit%20%3D%20Scratch.Cast.toNumber(limit)%3B%0A%20%20%20%20%20%20Scratch.vm.setRuntimeOptions(%7B%0A%20%20%20%20%20%20%20%20maxClones%3A%20limit%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getDimension%20(%7B%20dimension%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(dimension%20%3D%3D%3D%20'width')%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.stageWidth%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(dimension%20%3D%3D%3D%20'height')%20%7B%0A%20%20%20%20%20%20%20%20return%20Scratch.vm.runtime.stageHeight%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDimensions%20(%7B%20width%2C%20height%20%7D)%20%7B%0A%20%20%20%20%20%20width%20%3D%20Scratch.Cast.toNumber(width)%3B%0A%20%20%20%20%20%20height%20%3D%20Scratch.Cast.toNumber(height)%3B%0A%20%20%20%20%20%20Scratch.vm.setStageSize(width%2C%20height)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setUsername%20(%7B%20username%20%7D)%20%7B%0A%20%20%20%20%20%20Scratch.vm.runtime.ioDevices.userData._username%20%3D%20Scratch.Cast.toString(username)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20greenFlag%20()%20%7B%0A%20%20%20%20%20%20Scratch.vm.runtime.greenFlag()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20RuntimeOptions())%3B%0A%7D)(window.Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(function%20(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20const%20STRETCH_X%20%3D%20Symbol('stretch.x')%3B%0A%20%20const%20STRETCH_Y%20%3D%20Symbol('stretch.y')%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BVM.RenderedTarget%7D%20target%0A%20%20%20*%20%40param%20%7BVM.RenderedTarget%7D%20%5BoriginalTarget%5D%20If%20target%20is%20a%20clone%2C%20the%20original%20to%20copy%20from.%0A%20%20%20*%2F%0A%20%20const%20implementStretchForTarget%20%3D%20(target%2C%20originalTarget)%20%3D%3E%20%7B%0A%20%20%20%20if%20(STRETCH_X%20in%20target)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Target%20already%20has%20stretch.%20Don't%20implement%20again.%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20target%5BSTRETCH_X%5D%20%3D%20originalTarget%20%3F%20originalTarget%5BSTRETCH_X%5D%20%3A%20100%3B%0A%20%20%20%20target%5BSTRETCH_Y%5D%20%3D%20originalTarget%20%3F%20originalTarget%5BSTRETCH_Y%5D%20%3A%20100%3B%0A%0A%20%20%20%20const%20original%20%3D%20target._getRenderedDirectionAndScale%3B%0A%20%20%20%20target._getRenderedDirectionAndScale%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20const%20result%20%3D%20original.call(this)%3B%0A%0A%20%20%20%20%20%20result.scale%5B0%5D%20*%3D%20this%5BSTRETCH_X%5D%20%2F%20100%3B%0A%20%20%20%20%20%20result.scale%5B1%5D%20*%3D%20this%5BSTRETCH_Y%5D%20%2F%20100%3B%0A%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%20%20vm.runtime.targets.forEach((target)%20%3D%3E%20implementStretchForTarget(target))%3B%0A%20%20vm.runtime.on('targetWasCreated'%2C%20(target%2C%20originalTarget)%20%3D%3E%20implementStretchForTarget(target%2C%20originalTarget))%3B%0A%20%20vm.runtime.on('PROJECT_LOADED'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20vm.runtime.targets.forEach((target)%20%3D%3E%20implementStretchForTarget(target))%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BVM.RenderedTarget%7D%20target%0A%20%20%20*%2F%0A%20%20const%20forceUpdateDirectionAndScale%20%3D%20(target)%20%3D%3E%20%7B%0A%20%20%20%20target.setDirection(target.direction)%3B%0A%20%20%7D%3B%0A%0A%20%20class%20Stretch%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'stretch'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Stretch'%2C%0A%20%20%20%20%20%20%20%20color1%3A%20'%234287f5'%2C%0A%20%20%20%20%20%20%20%20color2%3A%20'%232b62ba'%2C%0A%20%20%20%20%20%20%20%20color3%3A%20'%23204785'%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setStretch'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20stretch%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'changeStretch'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'change%20stretch%20by%20x%3A%20%5BDX%5D%20y%3A%20%5BDY%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setStretchX'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20stretch%20x%20to%20%5BX%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setStretchY'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20stretch%20y%20to%20%5BY%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'changeStretchX'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'change%20stretch%20x%20by%20%5BDX%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DX%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'changeStretchY'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'change%20stretch%20y%20by%20%5BDY%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getX'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'x%20stretch'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getY'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'y%20stretch'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20%5BScratch.TargetType.SPRITE%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20setStretch(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.target%5BSTRETCH_X%5D%20%3D%20Scratch.Cast.toNumber(args.X)%3B%0A%20%20%20%20%20%20util.target%5BSTRETCH_Y%5D%20%3D%20Scratch.Cast.toNumber(args.Y)%3B%0A%20%20%20%20%20%20forceUpdateDirectionAndScale(util.target)%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeStretch(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.target%5BSTRETCH_X%5D%20%2B%3D%20Scratch.Cast.toNumber(args.DX)%3B%0A%20%20%20%20%20%20util.target%5BSTRETCH_Y%5D%20%2B%3D%20Scratch.Cast.toNumber(args.DY)%3B%0A%20%20%20%20%20%20forceUpdateDirectionAndScale(util.target)%3B%0A%20%20%20%20%7D%0A%20%20%20%20setStretchX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.target%5BSTRETCH_X%5D%20%3D%20Scratch.Cast.toNumber(args.X)%3B%0A%20%20%20%20%20%20forceUpdateDirectionAndScale(util.target)%3B%0A%20%20%20%20%7D%0A%20%20%20%20setStretchY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.target%5BSTRETCH_Y%5D%20%3D%20Scratch.Cast.toNumber(args.Y)%3B%0A%20%20%20%20%20%20forceUpdateDirectionAndScale(util.target)%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeStretchX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.target%5BSTRETCH_X%5D%20%2B%3D%20Scratch.Cast.toNumber(args.DX)%3B%0A%20%20%20%20%20%20forceUpdateDirectionAndScale(util.target)%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeStretchY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20util.target%5BSTRETCH_Y%5D%20%2B%3D%20Scratch.Cast.toNumber(args.DY)%3B%0A%20%20%20%20%20%20forceUpdateDirectionAndScale(util.target)%3B%0A%20%20%20%20%7D%0A%20%20%20%20getX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20util.target%5BSTRETCH_X%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20getY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20util.target%5BSTRETCH_Y%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Stretch())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(function(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error('files%20extension%20must%20be%20run%20unsandboxed')%3B%0A%20%20%7D%0A%0A%20%20const%20MODE_MODAL%20%3D%20'modal'%3B%0A%20%20const%20MODE_IMMEDIATELY_SHOW_SELECTOR%20%3D%20'selector'%3B%0A%20%20const%20MODE_ONLY_SELECTOR%20%3D%20'only-selector'%3B%0A%20%20const%20ALL_MODES%20%3D%20%5BMODE_MODAL%2C%20MODE_IMMEDIATELY_SHOW_SELECTOR%2C%20MODE_ONLY_SELECTOR%5D%3B%0A%20%20let%20openFileSelectorMode%20%3D%20MODE_MODAL%3B%0A%0A%20%20const%20AS_TEXT%20%3D%20'text'%3B%0A%20%20const%20AS_DATA_URL%20%3D%20'url'%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20accept%20See%20MODE_%20constants%20above%0A%20%20%20*%20%40param%20%7Bstring%7D%20as%20See%20AS_%20constants%20above%0A%20%20%20*%20%40returns%20%7BPromise%3Cstring%3E%7D%20format%20given%20by%20as%20parameter%0A%20%20%20*%2F%0A%20%20const%20showFilePrompt%20%3D%20(accept%2C%20as)%20%3D%3E%20new%20Promise((_resolve)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20We%20can't%20reliably%20show%20an%20%3Cinput%3E%20picker%20without%20%22user%20interaction%22%20in%20all%20environments%2C%0A%20%20%20%20%2F%2F%20so%20we%20have%20to%20show%20our%20own%20UI%20anyways.%20We%20may%20as%20well%20use%20this%20to%20implement%20some%20nice%20features%0A%20%20%20%20%2F%2F%20that%20native%20file%20pickers%20don't%20have%3A%0A%20%20%20%20%2F%2F%20%20-%20Easy%20drag%2Bdrop%0A%20%20%20%20%2F%2F%20%20-%20Reliable%20cancel%20button%20(input%20cancel%20event%20is%20still%20basically%20nonexistent)%0A%20%20%20%20%2F%2F%20%20%20%20This%20is%20important%20so%20we%20can%20make%20this%20just%20a%20reporter%20instead%20of%20a%20command%2Bhat%20block.%0A%20%20%20%20%2F%2F%20%20%20%20Without%20an%20interface%2C%20the%20script%20would%20be%20stalled%20if%20the%20prompt%20was%20just%20cancelled.%0A%0A%20%20%20%20%2F**%20%40param%20%7Bstring%7D%20text%20*%2F%0A%20%20%20%20const%20callback%20%3D%20(text)%20%3D%3E%20%7B%0A%20%20%20%20%20%20_resolve(text)%3B%0A%20%20%20%20%20%20outer.remove()%3B%0A%20%20%20%20%20%20document.body.removeEventListener('keydown'%2C%20handleKeyDown)%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20let%20isReadingFile%20%3D%20false%3B%0A%0A%20%20%20%20%2F**%20%40param%20%7BFile%7D%20file%20*%2F%0A%20%20%20%20const%20readFile%20%3D%20(file)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(isReadingFile)%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20isReadingFile%20%3D%20true%3B%0A%0A%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader()%3B%0A%20%20%20%20%20%20reader.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20callback(%2F**%20%40type%20%7Bstring%7D%20*%2F%20(reader.result))%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20reader.onerror%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20console.error('Failed%20to%20read%20file%20as%20text'%2C%20reader.error)%3B%0A%20%20%20%20%20%20%20%20callback('')%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20if%20(as%20%3D%3D%3D%20AS_TEXT)%20%7B%0A%20%20%20%20%20%20%20%20reader.readAsText(file)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20reader.readAsDataURL(file)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F**%20%40param%20%7BKeyboardEvent%7D%20e%20*%2F%0A%20%20%20%20const%20handleKeyDown%20%3D%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(e.key%20%3D%3D%3D%20'Escape')%20%7B%0A%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20callback('')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20document.body.addEventListener('keydown'%2C%20handleKeyDown%2C%20%7B%0A%20%20%20%20%20%20capture%3A%20true%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20const%20INITIAL_BORDER_COLOR%20%3D%20'%23888'%3B%0A%20%20%20%20const%20DROPPING_BORDER_COLOR%20%3D%20'%2303a9fc'%3B%0A%0A%20%20%20%20const%20outer%20%3D%20document.createElement('div')%3B%0A%20%20%20%20outer.className%20%3D%20'extension-content'%3B%0A%20%20%20%20outer.style.position%20%3D%20'fixed'%3B%0A%20%20%20%20outer.style.top%20%3D%20'0'%3B%0A%20%20%20%20outer.style.left%20%3D%20'0'%3B%0A%20%20%20%20outer.style.width%20%3D%20'100%25'%3B%0A%20%20%20%20outer.style.height%20%3D%20'100%25'%3B%0A%20%20%20%20outer.style.display%20%3D%20'flex'%3B%0A%20%20%20%20outer.style.alignItems%20%3D%20'center'%3B%0A%20%20%20%20outer.style.justifyContent%20%3D%20'center'%3B%0A%20%20%20%20outer.style.background%20%3D%20'rgba(0%2C%200%2C%200%2C%200.5)'%3B%0A%20%20%20%20outer.style.zIndex%20%3D%20'20000'%3B%0A%20%20%20%20outer.style.color%20%3D%20'black'%3B%0A%20%20%20%20outer.style.colorScheme%20%3D%20'light'%3B%0A%20%20%20%20outer.addEventListener('dragover'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(e.dataTransfer.types.includes('Files'))%20%7B%0A%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20e.dataTransfer.dropEffect%20%3D%20'copy'%3B%0A%20%20%20%20%20%20%20%20modal.style.borderColor%20%3D%20DROPPING_BORDER_COLOR%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20outer.addEventListener('dragleave'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20modal.style.borderColor%20%3D%20INITIAL_BORDER_COLOR%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20outer.addEventListener('drop'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20file%20%3D%20e.dataTransfer.files%5B0%5D%3B%0A%20%20%20%20%20%20if%20(file)%20%7B%0A%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20readFile(file)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20outer.addEventListener('click'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(e.target%20%3D%3D%3D%20outer)%20%7B%0A%20%20%20%20%20%20%20%20callback('')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20const%20modal%20%3D%20document.createElement('button')%3B%0A%20%20%20%20modal.style.boxShadow%20%3D%20'0%200%2010px%20-5px%20currentColor'%3B%0A%20%20%20%20modal.style.cursor%20%3D%20'pointer'%3B%0A%20%20%20%20modal.style.font%20%3D%20'inherit'%3B%0A%20%20%20%20modal.style.background%20%3D%20'white'%3B%0A%20%20%20%20modal.style.padding%20%3D%20'16px'%3B%0A%20%20%20%20modal.style.borderRadius%20%3D%20'16px'%3B%0A%20%20%20%20modal.style.border%20%3D%20%608px%20dashed%20%24%7BINITIAL_BORDER_COLOR%7D%60%3B%0A%20%20%20%20modal.style.position%20%3D%20'relative'%3B%0A%20%20%20%20modal.style.textAlign%20%3D%20'center'%3B%0A%20%20%20%20modal.addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20input.click()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20modal.focus()%3B%0A%20%20%20%20outer.appendChild(modal)%3B%0A%0A%20%20%20%20const%20input%20%3D%20document.createElement('input')%3B%0A%20%20%20%20input.type%20%3D%20'file'%3B%0A%20%20%20%20input.accept%20%3D%20accept%3B%0A%20%20%20%20input.addEventListener('change'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20%40ts-expect-error%0A%20%20%20%20%20%20const%20file%20%3D%20e.target.files%5B0%5D%3B%0A%20%20%20%20%20%20if%20(file)%20%7B%0A%20%20%20%20%20%20%20%20readFile(file)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20const%20title%20%3D%20document.createElement('div')%3B%0A%20%20%20%20title.textContent%20%3D%20'Select%20or%20drop%20file'%3B%0A%20%20%20%20title.style.fontSize%20%3D%20'1.5em'%3B%0A%20%20%20%20title.style.marginBottom%20%3D%20'8px'%3B%0A%20%20%20%20modal.appendChild(title)%3B%0A%0A%20%20%20%20const%20subtitle%20%3D%20document.createElement('div')%3B%0A%20%20%20%20const%20formattedAccept%20%3D%20accept%20%7C%7C%20'any'%3B%0A%20%20%20%20subtitle.textContent%20%3D%20%60Accepted%20formats%3A%20%24%7BformattedAccept%7D%60%3B%0A%20%20%20%20modal.appendChild(subtitle)%3B%0A%0A%20%20%20%20document.body.appendChild(outer)%3B%0A%0A%20%20%20%20if%20(openFileSelectorMode%20%3D%3D%3D%20MODE_IMMEDIATELY_SHOW_SELECTOR%20%7C%7C%20openFileSelectorMode%20%3D%3D%3D%20MODE_ONLY_SELECTOR)%20%7B%0A%20%20%20%20%20%20input.click()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(openFileSelectorMode%20%3D%3D%3D%20MODE_ONLY_SELECTOR)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Note%20that%20browser%20support%20for%20cancel%20is%20currently%20quite%20bad%0A%20%20%20%20%20%20input.addEventListener('cancel'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20callback('')%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20outer.remove()%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%20a%20data%3A%2C%20blob%3A%2C%20or%20same-origin%20URL%0A%20%20%20*%20%40param%20%7Bstring%7D%20file%0A%20%20%20*%2F%0A%20%20const%20downloadURL%20%3D%20(url%2C%20file)%20%3D%3E%20%7B%0A%20%20%20%20const%20link%20%3D%20document.createElement('a')%3B%0A%20%20%20%20link.href%20%3D%20url%3B%0A%20%20%20%20link.download%20%3D%20file%3B%0A%20%20%20%20document.body.appendChild(link)%3B%0A%20%20%20%20link.click()%3B%0A%20%20%20%20link.remove()%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BBlob%7D%20blob%20Data%20to%20download%0A%20%20%20*%20%40param%20%7Bstring%7D%20file%20Name%20of%20the%20file%0A%20%20%20*%2F%0A%20%20const%20downloadBlob%20%3D%20(blob%2C%20file)%20%3D%3E%20%7B%0A%20%20%20%20const%20url%20%3D%20URL.createObjectURL(blob)%3B%0A%20%20%20%20downloadURL(url%2C%20file)%3B%0A%20%20%20%20URL.revokeObjectURL(url)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%0A%20%20%20*%20%40returns%20%7Bboolean%7D%0A%20%20%20*%2F%0A%20%20const%20isDataURL%20%3D%20(url)%20%3D%3E%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20parsed%20%3D%20new%20URL(url)%3B%0A%20%20%20%20%20%20return%20parsed.protocol%20%3D%3D%3D%20'data%3A'%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%0A%20%20%20*%20%40param%20%7Bstring%7D%20file%0A%20%20%20*%2F%0A%20%20const%20downloadUntrustedURL%20%3D%20(url%2C%20file)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20Don't%20want%20to%20return%20a%20Promise%20here%20when%20not%20actually%20needed%0A%20%20%20%20if%20(isDataURL(url))%20%7B%0A%20%20%20%20%20%20downloadURL(url%2C%20file)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20Scratch.fetch(url)%0A%20%20%20%20%20%20%20%20.then(res%20%3D%3E%20res.blob())%0A%20%20%20%20%20%20%20%20.then(blob%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20downloadBlob(blob%2C%20file)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20class%20Files%20%7B%0A%20%20%20%20getInfo%20()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'files'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Files'%2C%0A%20%20%20%20%20%20%20%20color1%3A%20'%23fcb103'%2C%0A%20%20%20%20%20%20%20%20color2%3A%20'%23db9a37'%2C%0A%20%20%20%20%20%20%20%20color3%3A%20'%23db8937'%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'showPicker'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20a%20file'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disableMonitor%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'showPickerExtensions'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20a%20%5Bextension%5D%20file'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20extension%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'.txt'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hideFromPalette%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'showPickerAs'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20a%20file%20as%20%5Bas%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20as%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'encoding'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'showPickerExtensionsAs'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20a%20%5Bextension%5D%20file%20as%20%5Bas%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20extension%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'.txt'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20as%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'encoding'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'download'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'download%20%5Btext%5D%20as%20%5Bfile%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'Hello%2C%20world!'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20file%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'save.txt'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'downloadURL'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'download%20URL%20%5Burl%5D%20as%20%5Bfile%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'data%3Atext%2Fplain%3Bbase64%2CSGVsbG8sIHdvcmxkIQ%3D%3D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20file%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'save.txt'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setOpenMode'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20open%20file%20selector%20mode%20to%20%5Bmode%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mode%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20MODE_MODAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'automaticallyOpen'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20encoding%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20AS_TEXT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'data%3A%20URL'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20AS_DATA_URL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20automaticallyOpen%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'show%20modal'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20MODE_MODAL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'open%20selector%20immediately'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20MODE_IMMEDIATELY_SHOW_SELECTOR%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showPicker%20()%20%7B%0A%20%20%20%20%20%20return%20showFilePrompt(''%2C%20AS_TEXT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showPickerExtensions%20(args)%20%7B%0A%20%20%20%20%20%20return%20showFilePrompt(args.extension%2C%20AS_TEXT)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showPickerAs%20(args)%20%7B%0A%20%20%20%20%20%20return%20showFilePrompt(''%2C%20args.as)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showPickerExtensionsAs%20(args)%20%7B%0A%20%20%20%20%20%20return%20showFilePrompt(args.extension%2C%20args.as)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20download%20(args)%20%7B%0A%20%20%20%20%20%20downloadBlob(new%20Blob(%5BScratch.Cast.toString(args.text)%5D)%2C%20Scratch.Cast.toString(args.file))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20downloadURL%20(args)%20%7B%0A%20%20%20%20%20%20return%20downloadUntrustedURL(Scratch.Cast.toString(args.url)%2C%20Scratch.Cast.toString(args.file))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setOpenMode%20(args)%20%7B%0A%20%20%20%20%20%20if%20(ALL_MODES.includes(args.mode))%20%7B%0A%20%20%20%20%20%20%20%20openFileSelectorMode%20%3D%20args.mode%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20console.warn(%60unknown%20mode%60%2C%20args.mode)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Files())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(Scratch%20%3D%3E%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20%7B%0A%20%20%20%20throw%20new%20Error('Camera%20extension%20must%20be%20run%20unsandboxed')%3B%0A%20%20%7D%0A%0A%20%20const%20icon%20%3D%20'data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMjUuMzU0OCIgaGVpZ2h0PSIyMjUuMzU0OCIgdmlld0JveD0iMCwwLDIyNS4zNTQ4LDIyNS4zNTQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTg3LjMyMjkzLC0zNy4zMjI1OSkiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMTg3LjMyMjk0LDE1MGMwLC02Mi4yMzAwMSA1MC40NDczOSwtMTEyLjY3NzQgMTEyLjY3NzQsLTExMi42Nzc0YzYyLjIzMDAxLDAgMTEyLjY3NzQsNTAuNDQ3MzkgMTEyLjY3NzQsMTEyLjY3NzRjMCw2Mi4yMzAwMSAtNTAuNDQ3MzksMTEyLjY3NzQgLTExMi42Nzc0LDExMi42Nzc0Yy02Mi4yMzAwMSwwIC0xMTIuNjc3NCwtNTAuNDQ3MzkgLTExMi42Nzc0LC0xMTIuNjc3NHoiIGZpbGw9IiNmZjRkYTciIHN0cm9rZS13aWR0aD0iMCIvPjxnPjxwYXRoIGQ9Ik0zMTcuMTAyOSw4MC44MTA4N2MyMS44OTI0LDAgMzkuNjYyMDcsMTcuNzM3MjMgMzkuNjYyMDcsMzkuNjM0NGMwLDEyLjMwNTE3IC01LjYxMTQ4LDIzLjI5NjIyIC0xNC40MDA4OCwzMC41NjgyNGg4Ljc3MDMydjY4LjE3NTYzaC0xMTQuMTMzMjV2LTU1Ljc5ODg5Yy0xNC4zMzQwOCwtMy41MjgxNyAtMjQuOTYxNTMsLTE2LjQ1NzQ3IC0yNC45NjE1MywtMzEuODgwNDRjMCwtMTguMTM5IDE0LjY5NjczLC0zMi44MzQ3OCAzMi44MzQ3OCwtMzIuODM0NzhjMTIuMDM3OTUsMCAyMi41NTY2MSw2LjQ3ODAxIDI4LjI3MjExLDE2LjEzMzk1bDQuODYxMzcsLTAuOTI0NzVjMy4xMjkyNiwtMTguNzY2OTYgMTkuNDM5NzYsLTMzLjA3MzM2IDM5LjA5OTAyLC0zMy4wNzMzNnpNMjc2LjIxODUxLDE0MS4yOTE3MWMtMS4xMDAzNSwzLjUzMzg5IC0yLjc2OTQ3LDYuODEyMDMgLTQuOTIwNTQsOS43MjE3OWgyMC41NDc3NGMtMy42ODc1NCwtMy4wNDgxNCAtNi44MDI0OCwtNi43NjUyNyAtOS4xODU0NSwtMTAuOTQ0Mjl6IiBmaWxsPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNMzM2LjU3NTI5LDExOS41MjgxNWMwLDExLjA2ODM1IC04Ljk3MjY0LDIwLjA0MDk5IC0yMC4wNDA5OSwyMC4wNDA5OWMtMTEuMDY4MzUsMCAtMjAuMDQwOTksLTguOTcyNjQgLTIwLjA0MDk5LC0yMC4wNDA5OWMwLC0xMS4wNjgzNSA4Ljk3MjY0LC0yMC4wNDA5OSAyMC4wNDA5OSwtMjAuMDQwOTljMTEuMDY4MzUsMCAyMC4wNDA5OSw4Ljk3MjY0IDIwLjA0MDk5LDIwLjA0MDk5eiIgZmlsbD0iI2ZmNGRhNyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz48cGF0aCBkPSJNMjYxLjE4MywxMzAuMDI1ODFjMCw4Ljk2MDA0IC03LjI2MzYyLDE2LjIyMzY2IC0xNi4yMjM2NiwxNi4yMjM2NmMtOC45NjAwNCwwIC0xNi4yMjM2NiwtNy4yNjM2MiAtMTYuMjIzNjYsLTE2LjIyMzY2YzAsLTguOTYwMDQgNy4yNjM2MiwtMTYuMjIzNjYgMTYuMjIzNjYsLTE2LjIyMzY2YzguOTYwMDQsMCAxNi4yMjM2Niw3LjI2MzYyIDE2LjIyMzY2LDE2LjIyMzY2eiIgZmlsbD0iI2ZmNGRhNyIgc3Ryb2tlLXdpZHRoPSIwLjUiLz48cGF0aCBkPSJNMzg3Ljk2MDM5LDE0NS44NTcyNHY2MC41MTA0M2wtMjEuNjAzMjYsLTEzLjQ3MjE3aC0xNi44OTgzNHYtMzMuNTY2MDdoMTYuODk4MzRsMjEuNTk5MTcsLTEzLjQ3MTEyeiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIi8%2BPC9nPjwvZz48L2c%2BPC9zdmc%2BPCEtLXJvdGF0aW9uQ2VudGVyOjExMi42NzcwNjU6MTEyLjY3NzQwNS0tPg%3D%3D'%3B%0A%20%20const%20CW%20%3D%20'data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAIUAAAB%2BCAYAAAAKj9LmAAAAAXNSR0IArs4c6QAABqdJREFUeF7tneuV1DAMhZdSoBWoB2qBeqAVKAWOOQRCNvHV27Kt%2Fbsex7r6ciV7MjNvXupvWgW%2Bv%2F%2F8sy3%2B3bdPbyyDMJ3McmHauQ7BqPNYC0u9LnccissijumhQCJxRb8bbyG0dh3cODVrng4KrjjaZGSARBqzFIz0UEgF8YDhaU6p%2BJQ1auOXrC0tFFoxKIJ7jJEk4WkdVhpw15QKCisRPJLNnZObiOv8llpw15ICCksBKMl7%2B%2FXj72E%2FPnyhDFeN4SbkuBjS5IjhGN%2BLhbuGoVCgwKnZuApEfR0aZwkNJzFIl6d4rcAYAgUKGiXLCwJ0XQt3QXAgbXqxTwkFCriXlJEgPK1L4yR3cCB9KBo8rQnBeI4xzClQwHfCU0Sg3N0RY6SAHMlC%2BlC1sHCLEChQwNekUQWISDb3GhI4GhhII6om6aFAga4Ewx08EkC0jpkaCg4Q1LuAe9dmGa%2BBQ6KNtq9wKR9UICQBZ0k0dx0SMKT6pIKCCkMTVBowNxnZxlPh0OijLSFmTkEFQhNstgRr1oPg0OiUAooCQobHU%2FI0QKBjb8p5hdopKEBYBCmTPf%2BrrmBYaaXpK1RQFBB20LUkWgGBjuORW4ihKCDsgPCYSdNXuEFhSb2HaDvMKS0hIiiQSxQQOZALg6KAyJFwyiqkJYTlFAUEJRV5xgyHokpGHhjQWUX7f28HQnaKcol8SaesSNJXkKAoICjy5xwzBIoqGzlh0JQQ6BQ9lyggcgMhPdnsQjFL2UDvOFJStzLg3BIihmK0iBYg9GAZHR8FZOoYMyiylg1vGK5CrwAH97zi0SmyQRENw0pwmECRCYjRMKwCB6eE3DpFFiiyAXEGZLayooJiBSDQQyTn5KId1irNKKeEvHKKDFBwHYIDQS%2FJEkBmcQwXKCKCHwXDHShcQCL0oW5Bn8ZRS8h%2FTjHSJThAWDkDRWQOHNnBMIUiIlgKFJEwXIFBcERoRIG4N2YqKLID0YReGYrr8xV%2Fy8eo0lFAaO9%2F3uspbgGh8LTFAoKXUIvR00MxsodYpWRcQSJDMaJ0IJcYDQSCwtNBLRyBuy099xW%2Fy0c0FLMD0TTbFgqvwDmna553zdPcK%2Bw0NFvTrlPsCMXqQDRYUF8RDkVml9gBiB4UR1%2FR%2Fao%2BD6eYFQoPLUaURhUUHiLMCsTMjSV3F9J2fY9OUVD8k9NDi1EucVy311ekgCLzmcSKQKBms6AYcE4z2iVQXxEGxYz9xKouUVAQbsunrejKUPTAGO4UmfuJFXcdqNFs%2Fy8o%2FqgU%2Ff4PwcDchqBSXlAQoDiyM3s5QW9EwhNNawHQebvbbUGcGB1xE6eZfljo4VV2KFo2dwfj6O%2BqfFzu7V3BODf8BcWN4e8GxnUHWFA8dAG7gHF3JFBQEFrD1QBBZ0MFBQGK3YYUFLtlnBBvQUEQabchw6E4TtF2Ez5zvKHPaM5wgJU5WVFrC32au6CISqvuOgWFTr8lX50CiuorcrEV%2FlnSKiG5ALhbTfj3UxQUBcUrBdBTP%2FklW3%2BF4U7RJC23yA0WhKItP%2BoprGo4c8BC%2Bh5Nayh6blFgjAejoBifg3QrIEHhUULKLdKx8HdB5C9sjy4hVUbGQUOGotxiXJKirzwciioj0SnH10vxy0Dok0vomUIcZo3gKJACCuQW1V9wUqofm%2BrXBssx9Am1mCEVFOUYFinVz5HyF4yRY1Q50Se%2BN0NKKCiOUWD4gdGFol125Jd5lGP4JV7sFAgKrwOt84IpYJRr2MIDnQKB4XH8fQ2RCsbxujrX0EFCgmJGMMo95GCYQBFRRo4Qua5R7sGHgwwFcosZwLiTp0rNa1VYUCAwIvoLSRPKuVcKkpcXUygi3aLg4KDOG8uGArnFKDDadaX9Rk%2ByHZ1DBEVmMLQNafUdgvJxFg19F1R0j9G747UuspNjiJ3iSMBMYNxBw4FlFzDcoRjZY%2FDaK1pPsgMYaigo%2FcVMYKCGtaBg3GqojBQYDDEHDzVxCmp%2FcYzL1IA%2B6b%2Fzp%2BNNoaCWkllcY9dPx5tDsRIYBYVDHaP0Gdld4w6M1ZtNF6fgHHBl7zMKCge34JSTjK5RUDhBwQUjCxzVUzgCISknGcpKQREEhcQ1RjlHQREIBfew67q0iMOvOrwaAISmpJxf6wHIzkA0bd23pFTeqGcaaD4tJOit9NXPKFJBYeUcT9AgWBAMbd4dgEgLhbbnQG4i%2Bf8uQKSHIgscOwExDRTepaXnHLsBMSUUkYDsCMT0UNzd4Ra7mF1hOPRMsyWVNH%2Fc1%2FSA2R2Es5a%2FACFtcn%2FxxMQMAAAAAElFTkSuQmCC'%3B%0A%20%20const%20CCW%20%3D%20'data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAIYAAAB9CAYAAABnLBtLAAAAAXNSR0IArs4c6QAABotJREFUeF7tnWuW5TQMhJmlwFZgPcNaYD3DVmApzAmHzEmnY%2BthvRxV%2F01iy6XPJSU3fe%2BXnwz%2B%2Fv71j3%2BpYX756%2Fcv1DkVjnPWcsS5y3q0mi4liyviGVwVMaVxS8Wtsk5p3Nfz1WBoxY0WTRvniqj3a6PXbBG7CoxVsT2FWo3NQlRqDM%2F1U3Nzj6eA4VGjdwBiJycRg2GZgNWdYxkLdyd5nbeqhXVcpmD8%2FO3rh%2Fj%2B%2Be3PabxaMd4ERFUXEYExS8gdinPBlnBYAjGKd3XnUevljq%2FdNNzxqfPcwTgCoMSiRFgFwgsCSlzO2qkxKG2o67XHTcDgCK%2BBYwUITkxa0bTXURrMxo0GJAwMzu65Ll4DRUUYRsnWQBIJBxsMTX9xF4US41j424GQapLVnIaCwXENiU3v5BDUuqhNEw3IMhia5EhFuIuimZNKTJXjEm08S0sKGFrneDMQKyXGA5AtwOgExBWQTPdggWHReD5ZNbXwrkBo3cPSOZbAsEjcCA6Lsav0DRZxUJvonMMKjnQwnvoNQPGMUiQcJcA44QAQPG%2FhALLqHCQYXv0FTwKctfLkdAUOgLExe5RzpIAB269BlBccascAGDXA4Dws1DjHFAz0F3WST0Vi7RwAg1J8o%2BOWcKjAQBmpSQvAqJmXElFZwQHHKJFO2yBmcHAb0SEYaDxtkxU92iocYjA69BeUHT8luZou1Boo52gPBiWgdqdXAGXFNdqC4QXEHaRsQLRwPILx5v4iCogqgACMiednwVClF9HAIXKMbFvU1PtKUFzjj9QSYFyUXwGC6tjvgGr%2BSeoYozIcnxzjDf2FBgopDDP3koASBYfUNV4HhgQKSxieQOECkg3Hkw5sMKKC1%2FQRnHcSruN6A6EpNRH6SlzjNWBw4IgGQgpIJhx3bQCG1qKU11HlxRsOrmt8AKND45ntGgdPmXCYguFNsXLzDS%2BjGlDA8fyleVddWI6xGxg79BuUc3hqPto4LcAAHGMf5pSTH47xhv7iLgVKihyO0zVeDQZcwxEMz1pn3XSOxqvuHBl3KVSfQTrGG8DYwTmiSznVZ%2FwHRnRQUU4h6Tkq38J6bE6AIfgoPhuO6A06KydTx%2FAgNcstznmpnZIZH8DIVJ%2F40vuqruGxSeEYDyBSXXkWu5GuMQUjMpAssZ%2FmBRjjnws5XLNdj0H1GlVLyRG3dTlBKdmolMweH5QBw4PSCuWk8p3JNmCcibSmNQOQ6o%2FGT01GfZ91DshSQj39zEhixpzZ%2FUUVMI44yM9KMhKUMWcVKCqUkg9gdHcNgPFxO7LfEs%2FYxRFzVgKiZCm5J4F6RyAiad5zVISiQin58YBrloC3AVIVhmsOSt2VeO9OjM9XAGDwtWp1JsBolW7%2BYgEGX6s2Z0Z%2B2s168tlG%2BeILBRjFE5QVXhQY1AeJ5A%2FZZAnUdd4K%2FcWnR%2BJdk1Fp3QCjUjaKxBJVRo7lUq82opQUgSLyUTjAKJR0KpQKbnHE%2BOm%2F3anAcdxXgQpgDL84xXfpGH2kQCQUnDKCu5IirEaCQT2%2FOCVB85kMRyQUXLeAYxSG4gjN%2Bq1wgJGccO70VdziejeCUsLNntN50VBI3AKlxCnp1LDU65KRJeTJLQAGlUGH4xlQzNwCYDgkWTrkLlDAMaSZXTifgsLrLkTjFgBjIdGSS3eDAmBIsqs4lwOEp1No3QJgKJLNvWRnKAAGN8vC86pDMboTuS4Tn5UIkz47nQuEd%2FlYKSHn%2BgCGARgSIHaAAqVkAQopDBFAUE7BKSFwDAUUGhjOaTwecz8tgfu%2BBbV8lJKBQisQXIeMAoJyC%2BnXPwAMxs9dUrtrdLwKFJISglLyEiAop9BA0bb5tCoTWSXjOq%2FXd5e2KyXWUESWC89m8z52KzAsoMgGIcItWpUSKRSVAJA6hbavuM7TxjEoMKqDcCaN6iksoGjjGIBCfsPdwjEy3siWp2J%2BRZRTtHmOASh0iL7eMaK%2BoUYnP31VtFO0d4zqzSYHCKtG8wlPOAa9acPPyIaixV3JTqWEC4SnU6CUfPsa7gSjCSsBATCKgFERCpSSJM%2BQwHCGKH3RZnVpbZvPQ7joO5MdgGhTSo6FZjegOwEBMP5XwMs1NDBklY2WzzFmjnEVZBWQFRAqAdHKMbhwcPoOCwDuOzS6seQ0pq9vPq8iUB%2B%2FcwSzPKciEO0c41xwNhyVYbhC38oxMuHYBYi2jhEFx24g3EtkS8fw6Dt2BwFgTLpHTv%2FxNgBGcnwHa6xrfvicCcEAAAAASUVORK5CYII%3D'%3B%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%0A%20%20let%20cameraX%20%3D%200%3B%0A%20%20let%20cameraY%20%3D%200%3B%0A%20%20let%20cameraZoom%20%3D%20100%3B%0A%20%20let%20cameraDirection%20%3D%2090%3B%0A%20%20let%20cameraBG%20%3D%20'%23ffffff'%3B%0A%0A%20%20vm.runtime.runtimeOptions.fencing%20%3D%20false%3B%0A%20%20vm.renderer.offscreenTouching%20%3D%20true%3B%0A%20%20vm.setInterpolation(false)%3B%0A%0A%20%20function%20updateCamera(x%20%3D%20cameraX%2C%20y%20%3D%20cameraY%2C%20scale%20%3D%20cameraZoom%20%2F%20100%2C%20rot%20%3D%20-cameraDirection%20%2B%2090)%20%7B%0A%20%20%20%20rot%20%3D%20rot%20%2F%20180%20*%20Math.PI%3B%0A%20%20%20%20let%20s%20%3D%20Math.sin(rot)%20*%20scale%3B%0A%20%20%20%20let%20c%20%3D%20Math.cos(rot)%20*%20scale%3B%0A%20%20%20%20let%20w%20%3D%20vm.runtime.stageWidth%20%2F%202%3B%0A%20%20%20%20let%20h%20%3D%20vm.runtime.stageHeight%20%2F%202%3B%0A%20%20%20%20vm.renderer._projection%20%3D%20%5B%0A%20%20%20%20%20%20c%20%2F%20w%2C%20-s%20%2F%20h%2C%200%2C%200%2C%0A%20%20%20%20%20%20s%20%2F%20w%2C%20c%20%2F%20h%2C%200%2C%200%2C%0A%20%20%20%20%20%200%2C%200%2C%20-1%2C%200%2C%0A%20%20%20%20%20%20(c%20*%20-x%20%2B%20s%20*%20-y)%20%2F%20w%2C%20(c%20*%20-y%20-%20s%20*%20-x)%20%2F%20h%2C%200%2C%201%0A%20%20%20%20%5D%3B%0A%20%20%20%20vm.renderer.dirty%20%3D%20true%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20tell%20resize%20to%20update%20camera%20as%20well%0A%20%20vm.runtime.on('STAGE_SIZE_CHANGED'%2C%20_%20%3D%3E%20updateCamera())%3B%0A%0A%20%20%2F%2F%20fix%20mouse%20positions%0A%20%20let%20oldSX%20%3D%20vm.runtime.ioDevices.mouse.getScratchX%3B%0A%20%20let%20oldSY%20%3D%20vm.runtime.ioDevices.mouse.getScratchY%3B%0A%0A%20%20vm.runtime.ioDevices.mouse.getScratchX%20%3D%20function(...a)%20%7B%0A%20%20%20%20return%20(oldSX.apply(this%2C%20a)%20%2B%20cameraX)%20%2F%20cameraZoom%20*%20100%3B%0A%20%20%7D%3B%0A%20%20vm.runtime.ioDevices.mouse.getScratchY%20%3D%20function(...a)%20%7B%0A%20%20%20%20return%20(oldSY.apply(this%2C%20a)%20%2B%20cameraY)%20%2F%20cameraZoom%20*%20100%3B%0A%20%20%7D%3B%0A%0A%20%20class%20Camera%20%7B%0A%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%0A%20%20%20%20%20%20%20%20id%3A%20'DTcameracontrols'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Camera'%2C%0A%0A%20%20%20%20%20%20%20%20color1%3A%20'%23ff4da7'%2C%0A%20%20%20%20%20%20%20%20color2%3A%20'%23de4391'%2C%0A%20%20%20%20%20%20%20%20color3%3A%20'%23c83c82'%2C%0A%0A%20%20%20%20%20%20%20%20menuIconURI%3A%20icon%2C%0A%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'moveSteps'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'move%20camera%20%5Bval%5D%20steps'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'rotateCW'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20CW%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'rotateCCW'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'turn%20camera%20%5Bimage%5D%20%5Bval%5D%20degrees'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.IMAGE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataURI%3A%20CCW%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2015%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'goTo'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'move%20camera%20to%20%5Bsprite%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sprite%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22sprites%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setBoth'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20camera%20to%20x%3A%20%5Bx%5D%20y%3A%20%5By%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setDirection'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20camera%20direction%20to%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.ANGLE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2090%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'pointTowards'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'point%20camera%20towards%20%5Bsprite%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20sprite%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20%22sprites%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'changeX'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'change%20camera%20x%20by%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setX'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20camera%20x%20to%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'changeY'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'change%20camera%20y%20by%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setY'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20camera%20y%20to%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getX'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'camera%20x'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getY'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'camera%20y'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getDirection'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'camera%20direction'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'changeZoom'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'change%20camera%20zoom%20by%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%2010%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setZoom'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20camera%20zoom%20to%20%5Bval%5D%20%25'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getZoom'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'camera%20zoom'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'setCol'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20background%20color%20to%20%5Bval%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.COLOR%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'getCol'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'background%20color'%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20sprites%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20'getSprites'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getSprites()%7B%0A%20%20%20%20%20%20let%20sprites%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20Scratch.vm.runtime.targets.forEach(e%3D%3E%7B%0A%20%20%20%20%20%20%20%20if%20(e.isOriginal%20%26%26%20!e.isStage)%20sprites.push(e.sprite.name)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(sprites.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20sprites.push('no%20sprites%20exist')%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20sprites%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setBoth(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraX%20%3D%20%2Bargs.x%3B%0A%20%20%20%20%20%20cameraY%20%3D%20%2Bargs.y%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeZoom(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraZoom%20%2B%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setZoom(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraZoom%20%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraX%20%2B%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setX(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraX%20%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20changeY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraY%20%2B%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setY(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraY%20%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20setDirection(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraDirection%20%3D%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20rotateCW(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraDirection%20%3D%20cameraDirection%20%2B%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20rotateCCW(args%2C%20util)%20%7B%0A%20%20%20%20%20%20cameraDirection%20%3D%20cameraDirection%20-%20%2Bargs.val%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20getX()%20%7B%0A%20%20%20%20%20%20return%20cameraX%3B%0A%20%20%20%20%7D%0A%20%20%20%20getY()%20%7B%0A%20%20%20%20%20%20return%20cameraY%3B%0A%20%20%20%20%7D%0A%20%20%20%20getZoom()%20%7B%0A%20%20%20%20%20%20return%20cameraZoom%3B%0A%20%20%20%20%7D%0A%20%20%20%20getDirection()%20%7B%0A%20%20%20%20%20%20return%20cameraDirection%3B%0A%20%20%20%20%7D%0A%20%20%20%20setCol(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20rgb%20%3D%20Scratch.Cast.toRgbColorList(args.val)%3B%0A%20%20%20%20%20%20Scratch.vm.renderer.setBackgroundColor(rgb%5B0%5D%20%2F%20255%2C%20rgb%5B1%5D%20%2F%20255%2C%20rgb%5B2%5D%20%2F%20255)%3B%0A%20%20%20%20%20%20cameraBG%20%3D%20args.val%3B%0A%20%20%20%20%7D%0A%20%20%20%20getCol()%20%7B%0A%20%20%20%20%20%20return%20cameraBG%3B%0A%20%20%20%20%7D%0A%20%20%20%20moveSteps(args)%20%7B%0A%20%20%20%20%20%20let%20dir%20%3D%20(-cameraDirection%20%2B%2090)%20*%20Math.PI%20%2F%20180%3B%0A%20%20%20%20%20%20cameraX%20%2B%3D%20args.val%20*%20Math.cos(dir)%3B%0A%20%20%20%20%20%20cameraY%20%2B%3D%20args.val%20*%20Math.sin(dir)%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20goTo(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.Cast.toString(args.sprite)%3B%0A%20%20%20%20%20%20const%20sprite%20%3D%20vm.runtime.getSpriteTargetByName(target)%3B%0A%20%20%20%20%20%20if%20(!sprite)%20return%3B%0A%20%20%20%20%20%20cameraX%20%3D%20Math.round(sprite.x)%3B%0A%20%20%20%20%20%20cameraY%20%3D%20Math.round(sprite.y)%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20pointTowards(args%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20target%20%3D%20Scratch.Cast.toString(args.sprite)%3B%0A%20%20%20%20%20%20const%20sprite%20%3D%20vm.runtime.getSpriteTargetByName(target)%3B%0A%20%20%20%20%20%20if%20(!sprite)%20return%3B%0A%20%20%20%20%20%20let%20targetX%20%3D%20sprite.x%3B%0A%20%20%20%20%20%20let%20targetY%20%3D%20sprite.y%3B%0A%20%20%20%20%20%20const%20dx%20%3D%20targetX%20-%20cameraX%3B%0A%20%20%20%20%20%20const%20dy%20%3D%20targetY%20-%20cameraY%3B%0A%20%20%20%20%20%20cameraDirection%20%3D%2090%20-%20this.radToDeg(Math.atan2(dy%2C%20dx))%3B%0A%20%20%20%20%20%20updateCamera()%3B%0A%20%20%20%20%20%20vm.runtime.requestRedraw()%3B%0A%20%20%20%20%7D%0A%20%20%20%20radToDeg(rad)%20%7B%0A%20%20%20%20%20%20return%20rad%20*%20180%20%2F%20Math.PI%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Camera())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20%2F*!%0A%20*%20Made%20by%200832%0A%20*%20This%20file%20was%20originally%20under%20the%20rxLI%20Version%202.1%20license%3A%0A%20*%20https%3A%2F%2F0832k12.github.io%2FrxLi%2F2.1%2F%0A%20*%20%0A%20*%20However%20they%20have%20since%20claimed%20it%20to%20be%20%22directly%20compatible%20with%20MIT%20license%22%2C%0A%20*%20which%20is%20the%20license%20we%20use%20this%20file%20under.%0A%20*%2F%0A%0A(function%20(Scratch)%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%0A%20%20%20%20Scratch.translate.setup(%7B%0A%20%20%20%20%20%20%20%20zh%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20'%E6%96%B0%E5%BB%BA%20%5BSTR%5D%20'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20folder%3A%20'%E8%AE%BE%E7%BD%AE%20%5BSTR%5D%20%E4%B8%BA%20%5BSTR2%5D%20'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20folder_default%3A%20'%E5%A4%A7%E4%B8%BB%E6%95%99%E5%A4%A7%E7%A5%AD%E5%8F%B8%E4%B8%BB%E5%AE%B0%E4%B8%96%E7%95%8C!'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sync%3A%20'%E5%B0%86%20%5BSTR%5D%20%E7%9A%84%E4%BD%8D%E7%BD%AE%E6%9B%B4%E6%94%B9%E4%B8%BA%20%5BSTR2%5D%20'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20del%3A%20'%E5%88%A0%E9%99%A4%20%5BSTR%5D%20'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20webin%3A%20'%E4%BB%8E%E7%BD%91%E7%BB%9C%E5%8A%A0%E8%BD%BD%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20open%3A%20'%E6%89%93%E5%BC%80%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20clean%3A%20'%E6%B8%85%E7%A9%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in%3A%20'%E4%BB%8E%20%5BSTR%5D%20%E5%AF%BC%E5%85%A5%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20out%3A%20'%E5%AF%BC%E5%87%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20'%E5%88%97%E5%87%BA%20%5BSTR%5D%20%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20search%3A%20'%E6%90%9C%E7%B4%A2%20%5BSTR%5D'%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ru%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20'%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20folder%3A%20'%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%5BSTR%5D%20%D0%B2%20%5BSTR2%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20folder_default%3A%20'%D0%90%D1%80%D1%85%D0%B8%D0%B5%D0%BF%D0%B8%D1%81%D0%BA%D0%BE%D0%BF%20%D0%92%D0%B5%D1%80%D1%85%D0%BE%D0%B2%D0%BD%D1%8B%D0%B9%20%D0%B6%D1%80%D0%B5%D1%86%20%D0%9F%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%20%D0%BC%D0%B8%D1%80%D0%B0!'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sync%3A%20'%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B8%D1%82%D1%8C%20%D1%80%D0%B0%D1%81%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%5BSTR%5D%20%D0%BD%D0%B0%20%5BSTR2%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20del%3A%20'%D0%A3%D0%B4%D0%B0%D0%BB%D0%B8%D1%82%D1%8C%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20webin%3A%20'%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%B8%D1%82%D1%8C%20%5BSTR%5D%20%D0%B8%D0%B7%20%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%D0%B0'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20open%3A%20'%D0%9E%D1%82%D0%BA%D1%80%D1%8B%D1%82%D1%8C%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20clean%3A%20'%D0%9E%D1%87%D0%B8%D1%81%D1%82%D0%B8%D1%82%D1%8C%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%83%D1%8E%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in%3A%20'%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%83%D1%8E%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83%20%D0%B8%D0%B7%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20out%3A%20'%D0%AD%D0%BA%D1%81%D0%BF%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%83%D1%8E%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20'%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%D0%B2%D1%81%D0%B5%D1%85%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%20%D0%B2%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20search%3A%20'%D0%9F%D0%BE%D0%B8%D1%81%D0%BA%20%5BSTR%5D'%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20jp%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20'%E6%96%B0%E8%A6%8F%E4%BD%9C%E6%88%90%20%5BSTR%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20folder%3A%20'%5BSTR%5D%20%E3%82%92%20%5BSTR2%5D%20%E3%81%AB%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20folder_default%3A%20'%E5%A4%A7%E4%B8%BB%E6%95%99%E5%A4%A7%E7%A5%AD%E5%8F%B8%E4%B8%96%E7%95%8C%E3%81%AE%E6%94%AF%E9%85%8D%E8%80%85%EF%BC%81'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sync%3A%20'%5BSTR%5D%20%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%82%92%20%5BSTR2%5D%20%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20del%3A%20'%5BSTR%5D%20%E3%82%92%E5%89%8A%E9%99%A4%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20webin%3A%20'%5BSTR%5D%20%E3%82%92%E3%82%A6%E3%82%A7%E3%83%96%E3%81%8B%E3%82%89%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%80'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20open%3A%20'%5BSTR%5D%20%E3%82%92%E9%96%8B%E3%81%8F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20clean%3A%20'%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%82%92%E3%82%AF%E3%83%AA%E3%82%A2%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in%3A%20'%5BSTR%5D%20%E3%81%8B%E3%82%89%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%82%92%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20out%3A%20'%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%82%92%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20'%5BSTR%5D%20%E3%81%AB%E3%81%82%E3%82%8B%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%83%AA%E3%82%B9%E3%83%88%E3%81%99%E3%82%8B'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20search%3A%20'%5BSTR%5D%20%E3%82%92%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B'%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20var%20rxFSfi%20%3D%20new%20Array()%3B%0A%20%20%20%20var%20rxFSsy%20%3D%20new%20Array()%3B%0A%20%20%20%20var%20Search%2C%20i%2C%20str%2C%20str2%3B%0A%0A%20%20%20%20const%20folder%20%3D%20'data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOC40NjI1IiBoZWlnaHQ9IjI3LjciIHZpZXdCb3g9IjAsMCwyOC40NjI1LDI3LjciPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjYuMDE5NTMsLTE2NC4xMTg3NSkiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbD0iIzk5NjZmZiIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9IlNhbnMgU2VyaWYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIGZvbnQtc2l6ZT0iNDAiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNi4yNjk1MywxODUuNzY4NzUpIHNjYWxlKDAuNSwwLjUpIiBmb250LXNpemU9IjQwIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSIjOTk2NmZmIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI%2BPHRzcGFuIHg9IjAiIGR5PSIwIj7wn5OBPC90c3Bhbj48L3RleHQ%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MTMuOTgwNDY4NzU6MTUuODgxMjQ5MjM3MDYwNTMtLT4%3D'%3B%0A%20%20%20%20const%20file%20%3D%20'data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyOC40NjI1IiBoZWlnaHQ9IjI3LjciIHZpZXdCb3g9IjAsMCwyOC40NjI1LDI3LjciPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjYuMDE5NTMsLTE2NC4xMTg3NSkiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbD0iIzk5NjZmZiIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9IlNhbnMgU2VyaWYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIGZvbnQtc2l6ZT0iNDAiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNi4yNjk1MywxODUuNzY4NzUpIHNjYWxlKDAuNSwwLjUpIiBmb250LXNpemU9IjQwIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSIjOTk2NmZmIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI%2BPHRzcGFuIHg9IjAiIGR5PSIwIj7wn5ODPC90c3Bhbj48L3RleHQ%2BPC9nPjwvZz48L3N2Zz48IS0tcm90YXRpb25DZW50ZXI6MTMuOTgwNDY4NzU6MTUuODgxMjQ5NjE4NTMwMjYyLS0%2B'%3B%0A%0A%20%20%20%20class%20rxFS%20%7B%0A%20%20%20%20%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20'0832rxfs2'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20'rxFS'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color1%3A%20'%23192d50'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color2%3A%20'%23192d50'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color3%3A%20'%23192d50'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20file%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'start'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'start'%2C%20default%3A%20'Create%20%5BSTR%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20file%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'folder'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'folder'%2C%20default%3A%20'Set%20%5BSTR%5D%20to%20%5BSTR2%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20Scratch.translate(%7B%20id%3A%20'folder_default'%2C%20default%3A%20'rxFS%20is%20good!'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20file%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'sync'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'sync'%2C%20default%3A%20'Change%20the%20location%20of%20%5BSTR%5D%20to%20%5BSTR2%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20file%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'del'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'del'%2C%20default%3A%20'Delete%20%5BSTR%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20file%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'webin'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'webin'%2C%20default%3A%20'Load%20%5BSTR%5D%20from%20the%20web'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2F0832k12.github.io%2FrxFS%2Fhello.txt'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20file%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'open'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'open'%2C%20default%3A%20'Open%20%5BSTR%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20folder%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'clean'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'clean'%2C%20default%3A%20'Clear%20the%20file%20system'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20folder%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'in'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'in'%2C%20default%3A%20'Import%20file%20system%20from%20%5BSTR%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2F'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20folder%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'out'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'out'%2C%20default%3A%20'Export%20file%20system'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20folder%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'list'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'list'%2C%20default%3A%20'List%20all%20files%20under%20%5BSTR%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2F'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20folder%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'search'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%7B%20id%3A%20'search'%2C%20default%3A%20'Search%20%5BSTR%5D'%20%7D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20STR%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2FrxFS%2Fexample'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20clean()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSfi%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSsy%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20sync(%7B%20STR%2C%20STR2%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20encodeURIComponent(STR)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20str2%20%3D%20encodeURIComponent(STR2)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(rxFSsy.indexOf(str)%20%2B%201%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rxFSsy%5B((rxFSsy.indexOf(str)%20%2B%201)%20-%201)%5D%20%3D%20str2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20start(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20encodeURIComponent(STR)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!(str.charAt((str.length%20-%201))%20%3D%3D%20'%2F')%20%26%26%20rxFSsy.indexOf(str)%20%2B%201%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rxFSfi.splice(((rxFSfi.length%20%2B%201)%20-%201)%2C%200%2C%20null)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rxFSsy.splice(((rxFSsy.length%20%2B%201)%20-%201)%2C%200%2C%20str)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20open(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20decodeURIComponent(rxFSfi%5B((rxFSsy.indexOf(encodeURIComponent(STR))%20%2B%201)%20-%201)%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20del(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20encodeURIComponent(STR)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSfi%5B((rxFSsy.indexOf(str)%20%2B%201)%20-%201)%5D%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSsy%5B((rxFSsy.indexOf(str)%20%2B%201)%20-%201)%5D%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20folder(%7B%20STR%2C%20STR2%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSfi%5B((rxFSsy.indexOf(encodeURIComponent(STR))%20%2B%201)%20-%201)%5D%20%3D%20encodeURIComponent(STR2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20search(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Search%20%3D%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20encodeURIComponent(STR)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20in%20rxFSsy)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!(rxFSsy%5B(i)%5D.indexOf(str)%20%3D%3D%20undefined))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Search%20%3D%20%5BSearch%2C%20'%2C%22'%2C%20rxFSsy%5B(i)%5D%2C%20'%22'%5D.join('')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20decodeURIComponent(Search)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20list(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Search%20%3D%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20encodeURIComponent(STR)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(var%20i%20in%20rxFSsy)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(rxFSsy%5B(i)%5D.slice(0%2C%20str.length)%20%3D%3D%20str)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Search%20%3D%20%5BSearch%2C%20'%2C%22'%2C%20rxFSsy%5B(i)%5D%2C%20'%22'%5D.join('')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20decodeURIComponent(Search)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20webin(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Scratch.fetch(STR)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.then((response)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20response.text()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.catch((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(error)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20'undefined'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20in(%7B%20STR%20%7D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSfi%20%3D%20STR.slice(0%2C%20STR.indexOf('%7C')).split('%2C')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rxFSsy%20%3D%20STR.slice(((STR.indexOf('%7C')%20%2B%201))%2C%20STR.length).split('%2C')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20out()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5BrxFSfi.join('%2C')%2C%20'%7C'%2C%20rxFSsy.join('%2C')%5D.join('')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20Scratch.extensions.register(new%20rxFS())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(function(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20class%20Fetch%20%7B%0A%20%20%20%20getInfo%20()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'fetch'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Fetch'%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'get'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'GET%20%5BURL%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20URL%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fextensions.turbowarp.org%2Fhello.txt'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20get%20(args)%20%7B%0A%20%20%20%20%20%20return%20Scratch.fetch(args.URL)%0A%20%20%20%20%20%20%20%20.then(r%20%3D%3E%20r.text())%0A%20%20%20%20%20%20%20%20.catch(()%20%3D%3E%20'')%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Fetch())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(function(Scratch)%20%7B%0A%20%20'use%20strict'%3B%0A%20%20%2F*%0A%20%20*%20JSON%20extension%20v2.5%20by%20skyhigh173%20(English%20Version)%0A%20%20*%20Do%20not%20remove%20this%20comment%0A%20%20*%2F%0A%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20hasOwn%20%3D%20(obj%2C%20property)%20%3D%3E%20Object.prototype.hasOwnProperty.call(obj%2C%20property)%3B%0A%0A%20%20const%20makeLabel%20%3D%20(text)%20%3D%3E%20(%7B%0A%20%20%20%20blockType%3A%20'label'%2C%0A%20%20%20%20text%3A%20text%0A%20%20%7D)%3B%0A%0A%20%20class%20JSONS%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20'skyhigh173JSON'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'JSON'%2C%0A%20%20%20%20%20%20%20%20color1%3A%20'%233271D0'%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20makeLabel('General%20Utils')%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_is_valid'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'is%20JSON%20%5Bjson%5D%20valid'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_is'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'is%20%5Bjson%5D%20%5Btypes%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20types%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'Object'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'types'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_get_all'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20all%20%5BStype%5D%20of%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Stype%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'get_all'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_new'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'new%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'Object'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'types'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_has_key'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'%5Bjson%5D%20contains%20key%20%5Bkey%5D%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'key2'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_has_value'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'%5Bjson%5D%20contains%20value%20%5Bvalue%5D%3F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'scratch'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22TurboWarp%22%2C%22scratch%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_equal'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'%5Bjson1%5D%20%5Bequal%5D%20%5Bjson2%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json1%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22a%22%3A0%2C%22b%22%3A1%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22b%22%3A1%2C%22a%22%3A0%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20equal%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%3D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'equal'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel('JSON%20Strings')%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_jlength'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'length%20of%20json%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_get'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20%5Bitem%5D%20in%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'key'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_set'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20%5Bitem%5D%20to%20%5Bvalue%5D%20in%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'key'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'new%20value'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_delete'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'delete%20%5Bitem%5D%20in%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'key2'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%7B%22key%22%3A%22value%22%2C%22key2%22%3A%22value2%22%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel('Array')%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_length'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'length%20of%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B1%2C2%2C3%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_get'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'item%20%5Bitem%5D%20of%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22TurboWarp%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_push'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'add%20%5Bitem%5D%20to%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'TurboWarp'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_set'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'replace%20item%20%5Bpos%5D%20of%20%5Bjson%5D%20to%20%5Bitem%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'fav'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22love%22%2C%22heart%22%2C%22follow%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_insert'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'insert%20%5Bitem%5D%20at%20%5Bpos%5D%20of%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'fav'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22love%22%2C%22follow%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_delete'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'delete%20item%20%5Bitem%5D%20of%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22a%22%2C%22TurboWarp%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_remove_all'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'delete%20all%20%5Bitem%5D%20in%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'a'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22a%22%2C%22TurboWarp%22%2C%22a%22%2C%22a%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_itemH'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'item%20%23%20of%20%5Bitem%5D%20in%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'scratch'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22scratch%22%2C%22TurboWarp%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel('Advanced')%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_from'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'array%20from%20text%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'abcd'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_fromto'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'array%20%5Bjson%5D%20from%20item%20%5Bitem%5D%20to%20%5Bitem2%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B1%2C2%2C3%2C4%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20item2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_reverse'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'reverse%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%2C%22d%22%2C%22e%22%2C%22f%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_flat'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'flat%20array%20%5Bjson%5D%20by%20depth%20%5Bdepth%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%5B1%5D%2C2%2C%5B3%2C4%5D%2C%5B5%2C%5B6%5D%5D%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20depth%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_concat'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'array%20concat%20%5Bjson%5D%20%5Bjson2%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json2%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22c%22%2C%22d%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_filter'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20all%20value%20with%20key%20%5Bkey%5D%20in%20array%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'id'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%7B%22id%22%3A12%7D%2C%7B%22id%22%3A24%7D%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_setlen'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20length%20of%20array%20%5Bjson%5D%20to%20%5Blen%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20len%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.NUMBER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20'---'%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_create'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'create%20array%20by%20%5Btext%5D%20with%20delimiter%20%5Bd%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'a%2Cb%2Cc'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2C'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_array_join'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'join%20string%20by%20array%20%5Bjson%5D%20with%20delimiter%20%5Bd%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22a%22%2C%22b%22%2C%22c%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%2C'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20makeLabel('Lists')%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_vm_getlist'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'get%20list%20%5Blist%5D%20as%20array'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'get_list'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'json_vm_setlist'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'set%20list%20%5Blist%5D%20to%20content%20%5Bjson%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20menu%3A%20'get_list'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20json%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'%5B%22apple%22%2C%22banana%22%5D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20get_all%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'keys'%2C'values'%2C'datas'%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20get_list%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20'getLists'%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20types%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'Object'%2C%20'Array'%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20equal%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B'%3D'%2C'%E2%89%A0'%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getLists%20()%20%7B%0A%20%20%20%20%20%20const%20globalLists%20%3D%20Object.values(vm.runtime.getTargetForStage().variables).filter(x%20%3D%3E%20x.type%20%3D%3D%20'list')%3B%0A%20%20%20%20%20%20const%20localLists%20%3D%20Object.values(vm.editingTarget.variables).filter(x%20%3D%3E%20x.type%20%3D%3D%20'list')%3B%0A%20%20%20%20%20%20const%20uniqueLists%20%3D%20%5B...new%20Set(%5B...globalLists%2C%20...localLists%5D)%5D%3B%0A%20%20%20%20%20%20if%20(uniqueLists.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'select%20a%20list'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20'select%20a%20list'%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20uniqueLists.map(i%20%3D%3E%20(%7B%0A%20%20%20%20%20%20%20%20text%3A%20i.name%2C%0A%20%20%20%20%20%20%20%20value%3A%20i.id%0A%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20lookupList(list%2C%20util)%20%7B%0A%20%20%20%20%20%20const%20byId%20%3D%20util.target.lookupVariableById(list)%3B%0A%20%20%20%20%20%20if%20(byId%20%26%26%20byId.type%20%3D%3D%3D%20'list')%20%7B%0A%20%20%20%20%20%20%20%20return%20byId%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20byName%20%3D%20util.target.lookupVariableByNameAndType(list%2C%20'list')%3B%0A%20%20%20%20%20%20if%20(byName)%20%7B%0A%20%20%20%20%20%20%20%20return%20byName%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_is_valid(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(typeof%20json%20!%3D%20'string')%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20if%20((json.slice(0%2C1)%20!%3D%20'%5B'%20%7C%7C%20json.slice(-1)%20!%3D%20'%5D')%20%26%26%20(json.slice(0%2C1)%20!%3D%20'%7B'%20%7C%7C%20json.slice(-1)%20!%3D%20'%7D'))%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20return%20object%20if%20its%20json%20else%20string%0A%20%20%20%20json_valid_return(json)%7B%0A%20%20%20%20%20%20if%20(typeof%20json%20!%3D%20'string')%20%7B%0A%20%20%20%20%20%20%20%20return%20json%3B%0A%20%20%20%20%20%20%7D%20else%20if%20((json.slice(0%2C1)%20!%3D%20'%5B'%20%7C%7C%20json.slice(-1)%20!%3D%20'%5D')%20%26%26%20(json.slice(0%2C1)%20!%3D%20'%7B'%20%7C%7C%20json.slice(-1)%20!%3D%20'%7D'))%20%7B%0A%20%20%20%20%20%20%20%20return%20json%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20json%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_is(%7B%20json%2C%20types%20%7D)%20%7B%0A%20%20%20%20%20%20if%20(!this.json_is_valid(%7Bjson%3A%20json%7D))%20return%20false%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20switch%20(types)%20%7B%0A%20%20%20%20%20%20%20%20case%20'Object'%3A%20return%20!Array.isArray(json)%3B%0A%20%20%20%20%20%20%20%20case%20'Array'%3A%20return%20Array.isArray(json)%3B%0A%20%20%20%20%20%20%20%20default%3A%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_length(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20return%20Object.keys(json).length%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20'%20'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_new(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20switch%20(json)%20%7B%0A%20%20%20%20%20%20case%20'Object'%3A%20return%20'%7B%7D'%3B%0A%20%20%20%20%20%20case%20'Array'%3A%20return%20'%5B%5D'%3B%0A%20%20%20%20%20%20default%3A%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_has_key(%7B%20json%2C%20key%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20this._fixInvalidJSONValues(this.json_valid_return(key))%20in%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_has_value(%7B%20json%2C%20value%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20value%20%3D%20this.json_valid_return(value)%3B%0A%20%20%20%20%20%20%20%20return%20json.includes(value)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_equal(%7B%20json1%2C%20equal%2C%20json2%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json1%20%3D%20JSON.parse(json1)%3B%0A%20%20%20%20%20%20%20%20json2%20%3D%20JSON.parse(json2)%3B%0A%0A%20%20%20%20%20%20%20%20const%20keys1%20%3D%20Object.keys(json1)%3B%0A%20%20%20%20%20%20%20%20const%20keys2%20%3D%20Object.keys(json2)%3B%0A%20%20%20%20%20%20%20%20const%20result%20%3D%20keys1.length%20%3D%3D%3D%20keys2.length%20%26%26%20Object.keys(json1).every(key%3D%3Ejson1%5Bkey%5D%20%3D%3D%3D%20json2%5Bkey%5D)%3B%0A%20%20%20%20%20%20%20%20if%20(equal%20%3D%3D%3D%20'%3D')%20return%20result%3B%0A%20%20%20%20%20%20%20%20if%20(equal%20%3D%3D%3D%20'%E2%89%A0')%20return%20!result%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20json_get_all(%7B%20Stype%2Cjson%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20switch%20(Stype)%20%7B%0A%20%20%20%20%20%20%20%20case%20'keys'%3A%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map(key%20%3D%3E%20key))%3B%0A%20%20%20%20%20%20%20%20case%20'values'%3A%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map(key%20%3D%3E%20json%5Bkey%5D))%3B%0A%20%20%20%20%20%20%20%20case%20'datas'%3A%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(Object.keys(json).map(key%20%3D%3E%20%5Bkey%2C%20json%5Bkey%5D%5D))%3B%0A%20%20%20%20%20%20%20%20default%3A%20return%20''%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_get(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20if%20(hasOwn(json%2C%20item))%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20result%20%3D%20json%5Bitem%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(typeof%20result%20%3D%3D%3D%20'object')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(result)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_fixInvalidJSONValues(value)%20%7B%0A%20%20%20%20%20%20%2F%2F%20JSON%20does%20not%20support%20these%20values%2C%20so%20convert%20to%20string.%0A%20%20%20%20%20%20if%20(Number.isNaN(value))%20return%20'NaN'%3B%0A%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20Infinity)%20return%20'Infinity'%3B%0A%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20-Infinity)%20return%20'-Infinity'%3B%0A%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_set(%7B%20item%2C%20value%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20value%20%3D%20this.json_valid_return(value)%3B%0A%20%20%20%20%20%20%20%20value%20%3D%20this._fixInvalidJSONValues(value)%3B%0A%20%20%20%20%20%20%20%20json%5Bitem%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_delete(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20delete%20json%5Bitem%5D%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_jlength(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20%2F%2F%20same%20function%0A%20%20%20%20%20%20return%20this.json_length(%7B%20json%3A%20json%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_get(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20%2F%2F%201...length%20%3A%20array%20content%2C%20-1...-length%20%3A%20reverse%20array%20content%2C%200%20%3A%20ERROR%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20item%20%3D%20Scratch.Cast.toNumber(item)%3B%0A%20%20%20%20%20%20%20%20if%20(item%20%3D%3D%200)%20return%20''%3B%0A%20%20%20%20%20%20%20%20if%20(item%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20item--%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20let%20result%3B%0A%20%20%20%20%20%20%20%20if%20(item%20%3E%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20json%5Bitem%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20json%5Bjson.length%20%2B%20item%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(typeof%20result%20%3D%3D%20'object')%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(result)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_itemH(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20let%20result%20%3D%20JSON.stringify(json.indexOf(item)%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_from(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(Array.from(String(json)))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_concat(%7B%20json%2C%20json2%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json2%20%3D%20JSON.parse(json2)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json.concat(json2))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_push(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20json.push(item)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_insert(%7B%20item%2C%20pos%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20json.splice(pos%20-%201%2C%200%2C%20item)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_set(%7B%20item%2C%20pos%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json%5Bpos%20-%201%5D%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_delete(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json.splice(item%20-%201%2C%201)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_remove_all(%7B%20item%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20item%20%3D%20this._fixInvalidJSONValues(this.json_valid_return(item))%3B%0A%20%20%20%20%20%20%20%20let%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20while%20(i%20%3C%20json.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(json%5Bi%5D%20%3D%3D%3D%20item)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20json.splice(i%2C%201)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bi%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_fromto(%7B%20json%2C%20item%2C%20item2%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).slice(item%20-%201%2Citem2))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_reverse(%7B%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).reverse())%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_flat(%7B%20json%2C%20depth%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(JSON.parse(json).flat(depth))%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_create(%7B%20text%2C%20d%20%7D)%20%7B%0A%20%20%20%20%20%20return%20JSON.stringify(String(text).split(d))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_join(%7B%20json%2C%20d%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20return%20JSON.parse(json).join(d)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_filter(%7B%20key%2C%20json%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json.map(x%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(hasOwn(x%2C%20key))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20x%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_array_setlen(%7B%20json%2C%20len%20%7D)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20json%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20json.length%20%3D%20len%3B%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(json)%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20json_vm_getlist(%7B%20list%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20let%20listVariable%20%3D%20this.lookupList(list%2C%20util)%3B%0A%20%20%20%20%20%20%20%20if%20(listVariable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20JSON.stringify(listVariable.value)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%7D%0A%20%20%20%20json_vm_setlist(%7B%20list%2C%20json%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20let%20listVariable%20%3D%20this.lookupList(list%2C%20util)%3B%0A%20%20%20%20%20%20%20%20if%20(listVariable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20array%20%3D%20JSON.parse(json)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(Array.isArray(array))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20safeArray%20%3D%20array.map(i%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20i%20%3D%3D%3D%20'object')%20return%20JSON.stringify(i)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20listVariable.value%20%3D%20safeArray%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20ignore%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20Scratch.extensions.register(new%20JSONS())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B","data:text/javascript;,(function(Scratch)%20%7B%20(Scratch%20%3D%3E%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20const%20audioEngine%20%3D%20Scratch.vm.runtime.audioEngine%3B%0A%0A%20%20%2F**%0A%20%20%20*%20This%20method%20assumes%20that%20the%20caller%20has%20already%20requested%20permission%20to%20fetch%20the%20URL.%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%20%0A%20%20%20*%20%40returns%20%7BPromise%3CArrayBuffer%3E%7D%0A%20%20%20*%2F%0A%20%20const%20fetchAsArrayBufferWithTimeout%20%3D%20(url)%20%3D%3E%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20Permission%20is%20checked%20in%20playSound()%0A%20%20%20%20%2F%2F%20eslint-disable-next-line%20no-restricted-syntax%0A%20%20%20%20const%20xhr%20%3D%20new%20XMLHttpRequest()%3B%0A%20%20%20%20let%20timeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20xhr.abort()%3B%0A%20%20%20%20%20%20reject(new%20Error('Timed%20out'))%3B%0A%20%20%20%20%7D%2C%205000)%3B%0A%20%20%20%20xhr.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20clearTimeout(timeout)%3B%0A%20%20%20%20%20%20if%20(xhr.status%20%3D%3D%3D%20200)%20%7B%0A%20%20%20%20%20%20%20%20resolve(xhr.response)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20reject(new%20Error(%60HTTP%20error%20%24%7Bxhr.status%7D%20while%20fetching%20%24%7Burl%7D%60))%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20xhr.onerror%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20clearTimeout(timeout)%3B%0A%20%20%20%20%20%20reject(new%20Error(%60Failed%20to%20request%20%24%7Burl%7D%60))%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20xhr.responseType%20%3D%20'arraybuffer'%3B%0A%20%20%20%20xhr.open('GET'%2C%20url)%3B%0A%20%20%20%20xhr.send()%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40type%20%7BMap%3Cstring%2C%20%7Bsound%3A%20AudioEngine.SoundPlayer%20%7C%20null%2C%20error%3A%20unknown%7D%3E%7D%0A%20%20%20*%2F%0A%20%20const%20soundPlayerCache%20%3D%20new%20Map()%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%0A%20%20%20*%20%40returns%20%7BPromise%3CAudioEngine.SoundPlayer%3E%7D%0A%20%20%20*%2F%0A%20%20const%20decodeSoundPlayer%20%3D%20async%20(url)%20%3D%3E%20%7B%0A%20%20%20%20const%20cached%20%3D%20soundPlayerCache.get(url)%3B%0A%20%20%20%20if%20(cached)%20%7B%0A%20%20%20%20%20%20if%20(cached.sound)%20%7B%0A%20%20%20%20%20%20%20%20return%20cached.sound%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20throw%20cached.error%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20arrayBuffer%20%3D%20await%20fetchAsArrayBufferWithTimeout(url)%3B%0A%20%20%20%20%20%20const%20soundPlayer%20%3D%20await%20audioEngine.decodeSoundPlayer(%7B%0A%20%20%20%20%20%20%20%20data%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20buffer%3A%20arrayBuffer%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20soundPlayerCache.set(url%2C%20%7B%0A%20%20%20%20%20%20%20%20sound%3A%20soundPlayer%2C%0A%20%20%20%20%20%20%20%20error%3A%20null%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20return%20soundPlayer%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20soundPlayerCache.set(url%2C%20%7B%0A%20%20%20%20%20%20%20%20sound%3A%20null%2C%0A%20%20%20%20%20%20%20%20error%3A%20e%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20throw%20e%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%0A%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20*%20%40returns%20%7BPromise%3Cboolean%3E%7D%20true%20if%20the%20sound%20could%20be%20played%2C%20false%20if%20the%20sound%20could%20not%20be%20decoded%0A%20%20%20*%2F%0A%20%20const%20playWithAudioEngine%20%3D%20async%20(url%2C%20target)%20%3D%3E%20%7B%0A%20%20%20%20const%20soundBank%20%3D%20target.sprite.soundBank%3B%0A%0A%20%20%20%20%2F**%20%40type%20%7BAudioEngine.SoundPlayer%7D%20*%2F%0A%20%20%20%20let%20soundPlayer%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20originalSoundPlayer%20%3D%20await%20decodeSoundPlayer(url)%3B%0A%20%20%20%20%20%20soundPlayer%20%3D%20originalSoundPlayer.take()%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20console.warn('Could%20not%20fetch%20audio%3B%20falling%20back%20to%20primitive%20approach'%2C%20e)%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20soundBank.addSoundPlayer(soundPlayer)%3B%0A%20%20%20%20await%20soundBank.playSound(target%2C%20soundPlayer.id)%3B%0A%0A%20%20%20%20delete%20soundBank.soundPlayers%5BsoundPlayer.id%5D%3B%0A%20%20%20%20soundBank.playerTargets.delete(soundPlayer.id)%3B%0A%20%20%20%20soundBank.soundEffects.delete(soundPlayer.id)%3B%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20This%20method%20assumes%20that%20the%20caller%20has%20already%20requested%20permission%20to%20fetch%20the%20URL.%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%0A%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20*%20%40returns%20%7BPromise%3Cvoid%3E%7D%0A%20%20%20*%2F%0A%20%20const%20playWithAudioElement%20%3D%20(url%2C%20target)%20%3D%3E%20new%20Promise((resolve%2C%20reject)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20Unfortunately%2C%20we%20can't%20play%20all%20sounds%20with%20the%20audio%20engine.%0A%20%20%20%20%2F%2F%20For%20these%20sounds%2C%20fall%20back%20to%20a%20primitive%20%3Caudio%3E-based%20solution%20that%20will%20work%20for%20all%0A%20%20%20%20%2F%2F%20sounds%2C%20even%20those%20without%20CORS.%0A%20%20%20%20%2F%2F%20Permission%20is%20checked%20in%20playSound()%0A%20%20%20%20%2F%2F%20eslint-disable-next-line%20no-restricted-syntax%0A%20%20%20%20const%20mediaElement%20%3D%20new%20Audio(url)%3B%0A%0A%20%20%20%20%2F%2F%20Make%20a%20minimal%20effort%20to%20simulate%20Scratch's%20sound%20effects.%0A%20%20%20%20%2F%2F%20We%20can%20get%20pretty%20close%20for%20volumes%20%3C100%25.%0A%20%20%20%20%2F%2F%20playbackRate%20does%20not%20have%20enough%20range%20for%20simulating%20pitch.%0A%20%20%20%20%2F%2F%20There%20is%20no%20way%20for%20us%20to%20pan%20left%20or%20right.%0A%20%20%20%20mediaElement.volume%20%3D%20target.volume%20%2F%20100%3B%0A%0A%20%20%20%20mediaElement.onended%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20mediaElement.play()%0A%20%20%20%20%20%20.then(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Wait%20for%20onended%0A%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20.catch((err)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20reject(err)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7Bstring%7D%20url%0A%20%20%20*%20%40param%20%7BVM.Target%7D%20target%0A%20%20%20*%20%40returns%20%7BPromise%3Cvoid%3E%7D%0A%20%20%20*%2F%0A%20%20const%20playSound%20%3D%20async%20(url%2C%20target)%20%3D%3E%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20if%20(!await%20Scratch.canFetch(url))%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error(%60Permission%20to%20fetch%20%24%7Burl%7D%20denied%60)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20success%20%3D%20await%20playWithAudioEngine(url%2C%20target)%3B%0A%20%20%20%20%20%20if%20(!success)%20%7B%0A%20%20%20%20%20%20%20%20return%20await%20playWithAudioElement(url%2C%20target)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20console.warn(%60All%20attempts%20to%20play%20%24%7Burl%7D%20failed%60%2C%20e)%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20class%20Sound%20%7B%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20'sound'%20would%20conflict%20with%20normal%20Scratch%0A%20%20%20%20%20%20%20%20id%3A%20'notSound'%2C%0A%20%20%20%20%20%20%20%20name%3A%20'Sound'%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'play'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'start%20sound%20from%20url%3A%20%5Bpath%5D'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fextensions.turbowarp.org%2Fmeow.mp3'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20'playUntilDone'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20'play%20sound%20from%20url%3A%20%5Bpath%5D%20until%20done'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20Scratch.ArgumentType.STRING%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20defaultValue%3A%20'https%3A%2F%2Fextensions.turbowarp.org%2Fmeow.mp3'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20play(%7B%20path%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20playSound(path%2C%20util.target)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20playUntilDone(%7B%20path%20%7D%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20playSound(path%2C%20util.target)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20Sound())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

      vm.runtime.on('PROJECT_RUN_STOP', () => {
        if (!vm.isPaused || !vm.isPaused()) {
          window.close();
        }
      });

    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.75, 0.98, loaded / total));
        };
        
        let zip;
        // Allow zip to be GC'd after project loads
        vm.runtime.on('PROJECT_LOADED', () => (zip = null));
        const findFileInZip = (path) => zip.file(path) || zip.file(new RegExp("^([^/]*/)?" + path + "$"))[0];
        storage.addHelper({
          load: (assetType, assetId, dataFormat) => {
            if (!zip) {
              throw new Error('Zip is not loaded or has been closed');
            }
            const path = assetId + '.' + dataFormat;
            const file = findFileInZip(path);
            if (!file) {
              throw new Error('Asset is not in zip: ' + path)
            }
            return file
              .async('uint8array')
              .then((data) => storage.createAsset(assetType, dataFormat, data, assetId));
          }
        });
        return () => (() => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.75, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./project.zip");
        xhr.send();
      }))().then(async (data) => {
          zip = await Scaffolding.JSZip.loadAsync(data);
          const file = findFileInZip('project.json');
          if (!file) {
            throw new Error('project.json is not in zip');
          }
          return file.async('arraybuffer');
        });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (true) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
